---
{}

---

import { Example } from "~/components"

This example single redirect will redirect all requests for `smallshop.example.com` to a different hostname using HTTPS, keeping the original path and query string.

<Example>

**When incoming requests match**

* **Field:** *Hostname*
* **Operator:** *equals*
* **Value:** `smallshop.example.com`

If you are using the Expression Editor, enter the following expression:<br/>
`(http.host eq "smallshop.example.com")`

**Then**

* **Type:** *Dynamic*
* **Expression:** `concat("https://globalstore.example.net", http.request.uri.path)`
* **Status code:** *301*
* **Preserve query string:** Enabled

</Example>

For example, the redirect rule would perform the following redirects:

| Request URL                                           | Target URL                                               | Status code |
| ----------------------------------------------------- | -------------------------------------------------------- | ----------- |
| `http://smallshop.example.com/`                       | `https://globalstore.example.net/`                       | `301`       |
| `http://smallshop.example.com/admin/?logged_out=true` | `https://globalstore.example.net/admin/?logged_out=true` | `301`       |
| `https://smallshop.example.com/?all_items=1`          | `https://globalstore.example.net/?all_items=1`           | `301`       |
| `http://example.com/about/`                           | (unchanged)                                              | n/a         |
