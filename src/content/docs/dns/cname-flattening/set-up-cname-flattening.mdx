---
pcx_content_type: how-to
title: Setup
sidebar:
  order: 2
head:
  - tag: title
    content: Set up CNAME flattening

---

import { Render } from "~/components"

:::note


If the `CNAME` target is on the same zone as the `CNAME` record, Cloudflare proceeds with `CNAME` flattening and ignores the **CNAME Flattening** setting.


:::

## For your zone apex

`CNAME` flattening occurs by default for all plans when your domain uses a `CNAME` record for its zone apex (`example.com`, meaning the record **Name** is set to `@`).

## For all CNAME records

Accounts on paid plans can choose to flatten all `CNAME` records on their domain. This option is useful for DNS-only (unproxied) `CNAME` records since proxied records are flattened by default (as they return Cloudflare IPv4 and IPv6 addresses).

1. Log in to the [Cloudflare dashboard](https://dash.cloudflare.com/login) and select your account and domain.
2. Go to **DNS** > **Settings**.
3. For **CNAME Flattening**, select **Flatten all CNAMEs**.

:::caution
 <Render file="cname-flattening-callout" />
:::

## Per record

Accounts on paid plans also have the option to flatten specific `CNAME` records. This operation is currently only supported via API.

With the available [API endpoints](/api/operations/dns-records-for-a-zone-create-dns-record), specify the following for each `CNAME` record in the request body:

```txt
"settings": {
  "flatten_cname": true
}
```