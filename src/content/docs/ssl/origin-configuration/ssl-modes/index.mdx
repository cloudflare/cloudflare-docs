---
pcx_content_type: reference
title: Encryption modes
sidebar:
  order: 1
head: []
description: Encryption modes allow you to control how Cloudflare connects to
  your origin web server and how certificates presented by your origin are
  validated.
---

import { DirectoryListing, Render, TabItem, Tabs } from "~/components";

<Render file="encryption-mode-definition" /> <br />

If possible, Cloudflare strongly recommends using [**Full**](/ssl/origin-configuration/ssl-modes/full/) or [**Full (strict)**](/ssl/origin-configuration/ssl-modes/full-strict/) modes to prevent malicious connections to your origin.

For more details on how encryption modes fit into the bigger picture of Cloudflare SSL/TLS protection, refer to [Concepts](/ssl/concepts/#ssltls-certificate).

## Available encryption modes

[Automatic SSL/TLS](#automatic-ssltls-default) uses the SSL/TLS Recommender to make the determination as to what encryption mode is the most secure and safest for a website to be set to. If there is a more secure option for your website (based on your origin certification or capabilities), Automatic SSL/TLS will find it and apply it for your domain. The other option, [Custom SSL/TLS](#custom-ssltls), will work exactly like the setting the encryption mode does today.

:::note
We are gradually rolling out the new [Automated SSL/TLS feature](#automatic-ssltls-default).

If your zone has not been migrated yet, you will only have [Custom SSL/TLS](#custom-ssltls) options in your dashboard.
:::

### Automatic SSL/TLS (default)

Automatic SSL/TLS uses the [SSL/TLS Recommender](/ssl/origin-configuration/ssl-tls-recommender/) to identify and apply the most secure encryption mode for your website. It continuously assesses your traffic to determine if a more secure option is needed based on your origin certification or capabilities, and updates your settings automatically to ensure the highest level of security for your domain.

Cloudflare is rolling out Automatic SSL/TLS on the following dates:

- **September 9, 2024**: All non-Enterprise plans that are using the SSL/TLS Recommender and have not opted out will be migrated. Automatic upgrade scans for these zones will begin on or after this date.
- **October 7, 2024**: All Enterprise plans that are using the SSL/TLS Recommender and have not opted out will be migrated. Automatic upgrade scans for these zones will begin on or after this date.
- **October 21, 2024**: Zones created on or after this date will be enrolled in the Automatic SSL/TLS.
- **November 4, 2024**: The Recommender and Recommender API will be fully decommissioned. After this date, we will begin migrating zones that have never interacted with the Recommender or Automatic Upgrader. If you want to opt-out at this time, you can disable the Automatic Upgrader in the UI or API.
- **December 4, 2024**: All non-Enterprise zones that have never used the Recommender or Automatic SSL/TLS will be migrated. Automatic upgrade scans for these zones will begin on or after this date.
- **January 6, 2025**: All Enterprise zones that have never used the Recommender or Automatic SSL/TLS will be migrated. Automatic upgrade scans for these zones will begin on or after this date.

:::note

If your zone is created before October 21, 2024 and also not using the SSL/TLS Recommender, it will not be automatically upgraded to a different encryption mode.

:::

#### Opt out single zone

If you want to opt a zone out via the API, you can make this API call on or before the grace period expiration date.

```bash
 curl --request PATCH \
  --url https://api.cloudflare.com/client/v4/zones/<ZONE_ID>/settings/ssl_automatic_mode \
  --header 'Authorization: Bearer <CF_API_TOKEN>' \
  --header 'Content-Type: application/json' \
  --data '{"value":"custom"}'
```

#### Opt out multiple zones

If you wanted to opt out multiple zones:

1. Create an API token with the following permissions:
   - `Zone - Zone - Read`
   - `Zone - Zone Settings - Read`
   - `Zone - Zone Settings - Edit`
2. Make a [`GET` request](/api/operations/zones-get) to get a list of zones (you can filter this list by `account.id`).

   ```bash "account.id=<ACCOUNT_ID>"
   curl 'https://api.cloudflare.com/client/v4/zones?account.id=<ACCOUNT_ID>' \
   --header 'Authorization: Bearer <CF_API_TOKEN>' \
   --header 'Content-Type: application/json'
   ```

3. Create a list of zone IDs you want to opt-out with each zone ID on a separate line (newline separate), stored in a file such as `zones.txt`.
4. Create a bash script for `opt-out-multiple-zones.sh` and add the following. Add `zones.txt` to the same directory or update the path accordingly.

   ```bash title="opt-out-multiple-zones.sh"
   for zoneID in $(cat zone.txt); do
     printf "Opting out ${zoneID}:\n"

     curl --request PATCH \
   		--url https://api.cloudflare.com/client/v4/zones/$zoneID/settings/ssl_automatic_mode \
   		--header 'Authorization: Bearer <CF_API_TOKEN>' \
   		--header 'Content-Type: application/json' \
   		--data '{"value":"custom"}'

     printf "\n\n"
   done
   ```

5. Open your command line and run:

   ```bash
   bash opt-out-multiple-zones.sh
   ```

### Custom SSL/TLS

To use Custom SSL/TLS, select the custom option (if you prefer to manually set the encryption mode instead of using [Automatic SSL/TLS](#automatic-ssltls-default)):

<DirectoryListing descriptions />

## Update your encryption mode

<Tabs syncKey="dashPlusAPI"> <TabItem label="Dashboard">

<Render file="change-encryption-mode-dash" />

</TabItem> <TabItem label="API">

<Render file="change-encryption-mode-api" />

</TabItem> </Tabs>

<Render file="configuration-rule-promotion" product="rules" />
