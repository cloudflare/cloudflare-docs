---
pcx_content_type: how-to
title: Fleet
sidebar:
  order: 1
---
## macOS


### Create a custom `.mobileconfig` file

1. [Download](/cloudflare-one/static/mdm/CloudflareWARP.mobileconfig) an example `.mobileconfig` file.

2. [Download](https://imazing.com/profile-editor/download) iMazing Profile Editor and open the downloaded `.mobileconfig` file.

3. Modify the file with your desired [deployment arguments](/cloudflare-one/connections/connect-devices/warp/deployment/mdm-deployment/parameters/).


### Upload `.mobileconfig` file to Fleet

1. In the Fleet admin console, navigate to the Controls tab.

2. From the Teams dropdown, select the team (group of hosts) that require deployment of the `.mobileconfig`.

3. Select "OS settings> Custom settings".

4. Click "+ Add profile" and upload the custom `.mobileconfig`.

5. If the profile should be applied to all hosts in the team, select "All hosts". If the profile should be deployed to a subset of the hosts in the team, choose "Custom" and leverage labels (dynamic or static) to define inclusions or exclusions. Upon clicking "Add profile", the defined hosts will immediately receive the profile.  


### Download the WARP installer pkg for macOS

Visit the [Download page](/cloudflare-one/connections/connect-devices/warp/download-warp/#macos) to review system requirements and download the installer for your operating system.


### Upload the WARP installer pkg to Fleet

To add the WARP client installer package for distribution to your hosts enrolled in Fleet:

1. In the Fleet admin console, navigate to the Software tab.

2. From the Teams dropdown, select the team (group of hosts) that require deployment of the the WARP client.

3. Select "Add Software" and upload the .pkg that was previously downloaded.


### Install the WARP pkg for macOS

Please refer to [Fleet's current documentation](https://fleetdm.com/guides/deploy-software-packages) for the various methods (REST API, UI, GitOps) to add a software package for deployment.


### Uninstall WARP

To uninstall the Fleet-deployed WARP client:

1. Select the host in Fleet that requires the WARP client to be uninstalled. 
2. From the host's "Software" tab, search for "Cloudflare".
3. In the "Actions" menu, select "Uninstall". 


## Windows


### Download the WARP client installer for Windows

Visit the [Download page](/cloudflare-one/connections/connect-devices/warp/download-warp/#windows) to review system requirements and download the installer for your operating system.


### Upload the WARP installer msi to Fleet

To add the WARP client installer package for distribution to your hosts enrolled in Fleet:

1. In the Fleet admin console, navigate to the Software tab.

2. From the Teams dropdown, select the team (group of hosts) that require deployment of the the WARP client.

3. Select "Add Software" and upload the .msi that was previously downloaded.


### Install the WARP msi for Windows

Please refer to [Fleet's current documentation](https://fleetdm.com/guides/deploy-software-packages) for the various methods (REST API, UI, GitOps) to add a software package for deployment.


### Configure the WARP client software package during upload

When defining the WARP software package in Fleet, optionally choose whether the package is enabled for Self-service.

To install the WARP client, set the Install Script as follows, swapping out "example" for your organization and support values:

```
$logFile = "${env:TEMP}/fleet-install-software.log"

try {

$installProcess = Start-Process msiexec.exe `
  -ArgumentList "/quiet /norestart ORGANIZATION=example SUPPORT_URL=https://example.com /lv ${logFile} /i `"${env:INSTALLER_PATH}`"" `
  -PassThru -Verb RunAs -Wait

Get-Content $logFile -Tail 500

Exit $installProcess.ExitCode

} catch {
  Write-Host "Error: $_"
  Exit 1
}
```

Refer to [deployment parameters](/cloudflare-one/connections/connect-devices/warp/deployment/mdm-deployment/parameters/) for a description of each argument.


### Uninstall WARP

To uninstall the Fleet-deployed WARP client:

1. Select the host in Fleet that requires the WARP client to be uninstalled. 
2. From the host's "Software" tab, search for "Cloudflare".
3. In the "Actions" menu, select "Uninstall". 


## Linux

The WARP Client for Linux allows for an automated install via the presence of an `mdm.xml` file in `/var/lib/cloudflare-warp`.

The format of `/var/lib/cloudflare-warp/mdm.xml` is as follows:

```xml
<dict>
  <key>organization</key>
  <string>your-team-name</string>
</dict>
```

Refer to [deployment parameters](/cloudflare-one/connections/connect-devices/warp/deployment/mdm-deployment/parameters/) for a list of accepted arguments.

### Run scripts on Linux hosts

Fleet allows script execution on hosts. In order to deploy the WARP client, please refer to [Cloudflare's documentation](https://pkg.cloudflareclient.com/) for your specific Linux platform. 

In order to execute a script on a Fleet managed Linux host, please refer to the [Fleet documentation on script execution](https://fleetdm.com/guides/scripts).

