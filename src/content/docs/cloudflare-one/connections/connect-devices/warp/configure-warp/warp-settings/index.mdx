---
pcx_content_type: reference
title: WARP settings
sidebar:
  order: 2

---

import { Details, GlossaryTooltip, InlineBadge, Render } from "~/components"

WARP settings define the WARP client modes and permissions available to end users.

* [Global settings](#global-settings) apply to all devices enrolled in your Zero Trust organization.
* [Device settings](#device-settings) may vary across devices depending on which [device profile](/cloudflare-one/connections/connect-devices/warp/configure-warp/device-profiles/) is applied.

## Global settings

### Admin override

<Render file="warp/all-systems-modes-plans" />

:::note

In order to enable **Admin override**, [**Lock WARP switch**](#lock-warp-switch) must also be enabled.

:::

When `Enabled`, end users can turn off the WARP client using an override code provided by an admin. This feature allows users to work around a temporary network issue (for example, an incompatible public Wi-Fi, or a firewall at a customer site blocking the connection).

You can set a **Timeout** to define how long a user can toggle on or off the WARP switch. The timer starts when the user first enters their code into the WARP client. The code remains valid and can be reused anytime during this time period. For example, if **Timeout** is 24 hours, the user can re-enter the code at 23:59:00 and continue to turn off WARP until 47:59:00 (up to 48 hours total).

#### Retrieve the override code

To retrieve the one-time code for a user:

1. Enable **Admin override**.
2. Go to **My Team** > **Devices**.
3. Select **View** for a connected device.
4. Scroll down to **User details** and copy the 7-digit **Override code**.
5. Share this code with the end user for them to enter on their device.

The user will have an unlimited amount of time to activate their code.

#### Enter the override code

To turn off the WARP client on a user device:

1. In the WARP client, go to **Settings** > **Preferences** > **Advanced**.
2. Select **Enter code**.
3. Enter the override code. The WARP client will display a pop-up window showing when the override expires.
4. Turn off the WARP switch.

The client will automatically reconnect after the [Auto connect period](#auto-connect), but the user can continue to turn off WARP until the override expires.

### Install CA to system certificate store


<Details header="Feature availability">

| Operating Systems     | [WARP mode required](/cloudflare-one/connections/connect-devices/warp/configure-warp/warp-modes/) | [Zero Trust plans](https://www.cloudflare.com/teams-pricing/) |
| --------------------- | ------------------------------------------------------------------------------------------------- | ------------------------------------------------------------- |
| Windows, macOS, Linux | Gateway with WARP, Proxy mode                                                                     | All plans                                                     |


</Details>

When `Enabled`, the WARP client will [automatically install](/cloudflare-one/connections/connect-devices/warp/user-side-certificates/install-cert-with-warp/) your organization's root certificate on the device.

### Override local interface IP <InlineBadge preset="beta" />

<Details header="Feature availability">

| Operating Systems     | [WARP mode required](/cloudflare-one/connections/connect-devices/warp/configure-warp/warp-modes/) | [Zero Trust plans](https://www.cloudflare.com/teams-pricing/) |
| --------------------- | ------------------------------------------------------------------------------------------------- | ------------------------------------------------------------- |
| Windows, macOS, Linux | Gateway with WARP, Secure Web Gateway without DNS Filtering                                       | All plans                                                     |


</Details>

Overrides the default IP address of WARP's [virtual network interface](/cloudflare-one/connections/connect-devices/warp/configure-warp/route-traffic/warp-architecture/#ip-traffic) such that each device has its own unique local interface IP.

This setting is primarily used in conjunction with the [WARP Connector](/cloudflare-one/connections/connect-networks/private-net/warp-connector/) and for [MASQUE](/cloudflare-one/connections/connect-devices/warp/configure-warp/warp-settings/#device-tunnel-protocol). You can also use it when the default IP conflicts with other local services on your network.

**Value:**

* `Disabled`: (default) Sets the local interface IP to `172.16.0.2` on all devices.

* `Enabled`: Sets the local interface IP on each device to its <GlossaryTooltip term="CGNAT IP">CGNAT IP</GlossaryTooltip>.  The change takes effect within 24 hours.

The CGNAT IP assigned to a WARP device is permanent until the device unregisters from your Zero Trust organization. Disconnects and reconnects do not change the IP address assignment.

## Device settings

### Captive portal detection

<Render file="warp/all-systems-modes-plans" />

When `Enabled`, the WARP client will automatically turn off when it detects a <GlossaryTooltip term="captive portal">captive portal</GlossaryTooltip>, and it will automatically turn back on after the **Timeout** duration.

Since captive portal implementations vary, WARP may not detect all captive portals. For more information, refer to [Captive portal detection](/cloudflare-one/connections/connect-devices/warp/configure-warp/warp-settings/captive-portals/).

### Mode switch


<Details header="Feature availability">

| Operating Systems | [WARP mode required](/cloudflare-one/connections/connect-devices/warp/configure-warp/warp-modes/) | [Zero Trust plans](https://www.cloudflare.com/teams-pricing/) |
| ----------------- | ------------------------------------------------------------------------------------------------- | ------------------------------------------------------------- |
| All systems       | Any mode                                                                                          | All plans                                                     |


</Details>

When `Enabled`, users have the option to switch between [Gateway with WARP](/cloudflare-one/connections/connect-devices/warp/configure-warp/warp-modes/#gateway-with-warp-default) mode and [Gateway with DoH mode](/cloudflare-one/connections/connect-devices/warp/configure-warp/warp-modes/#gateway-with-doh). This feature does not support switching between any other modes.

### Device tunnel protocol


<Details header="Feature availability">

| [WARP modes](/cloudflare-one/connections/connect-devices/warp/configure-warp/warp-modes/) | [Zero Trust plans](https://www.cloudflare.com/teams-pricing/) |
| ----------------------------------------------------------------------------------------- | ------------------------------------------------------------- |
| <ul><li> Gateway with WARP</li><li> Secure Web Gateway without DNS filtering </li></ul>   | All plans                                                     |

| System   | Availability | Minimum WARP version |
| -------- | ------------ | -------------------- |
| Windows  | ✅            | 2024.6.415.0         |
| macOS    | ✅            | 2024.6.416.0         |
| Linux    | Coming soon  |                      |
| iOS      | Coming soon  |                      |
| Android  | Coming soon  |                      |
| ChromeOS | Coming soon  |                      |


</Details>

Configures the protocol used to route IP traffic from the device to Cloudflare Gateway. It may take up to 24 hours for all devices to switch to the new protocol. To check the active protocol on a device, open a terminal and run `warp-cli settings | grep protocol`.

**Value**:

* **WireGuard**: (default) Establishes a [WireGuard](https://www.wireguard.com/) connection to Cloudflare. The WARP client will encrypt traffic using a non-FIPs compliant cipher suite, `TLS_CHACHA20_POLY1305_SHA256`. When switching from MASQUE to WireGuard, users may lose Internet connectivity if their Wi-Fi network blocks the [ports and IPs](/cloudflare-one/connections/connect-devices/warp/deployment/firewall/#warp-ingress-ip) required for WireGuard to function.
* **MASQUE** <InlineBadge preset="beta" />: Establishes an HTTP/3 connection to Cloudflare. To use MASQUE, [Override local interface IP](/cloudflare-one/connections/connect-devices/warp/configure-warp/warp-settings/#override-local-interface-ip) must be `Enabled`. The WARP client will encrypt traffic using TLS 1.3 and a [FIPS 140-2](https://csrc.nist.gov/pubs/fips/140-2/upd2/final) compliant cipher suite, `TLS_AES_256_GCM_SHA384`.

For more details on WireGuard versus MASQUE, refer to our [blog post](https://blog.cloudflare.com/zero-trust-warp-with-a-masque).

### Lock WARP switch


<Details header="Feature availability">

| Operating Systems | [WARP mode required](/cloudflare-one/connections/connect-devices/warp/configure-warp/warp-modes/) | [Zero Trust plans](https://www.cloudflare.com/teams-pricing/) |
| ----------------- | ------------------------------------------------------------------------------------------------- | ------------------------------------------------------------- |
| All systems       | Any mode                                                                                          | All plans                                                     |


</Details>

Allows the user to turn off the WARP switch and disconnect the client.

**Value:**

* `Disabled`: (default) The user is able to turn the switch on or off at their discretion. When the switch is off, the user will not have the ability to reach sites protected by Access that leverage certain device posture checks.
* `Enabled`: The user is prevented from turning off the switch. The WARP client will always start in the connected state.

On MDM deployments, you must also include the `auto_connect` parameter with at least a value of `0`. This will prevent clients from being deployed in the off state without a way for users to manually enable them.

### Allow device to leave organization

<Render file="warp/all-systems-modes-plans" />

When `Enabled`, users can log out from your Zero Trust organization by selecting **Logout from Zero Trust** in the WARP client UI. The **Logout from Zero Trust** button is only available for devices that were [enrolled manually](/cloudflare-one/connections/connect-devices/warp/deployment/manual-deployment/). Devices that enrolled using an <GlossaryTooltip term="MDM file">MDM file</GlossaryTooltip> are always prevented from leaving your Zero Trust organization.

### Allow updates


<Details header="Feature availability">

| Operating Systems     | [WARP mode required](/cloudflare-one/connections/connect-devices/warp/configure-warp/warp-modes/) | [Zero Trust plans](https://www.cloudflare.com/teams-pricing/) |
| --------------------- | ------------------------------------------------------------------------------------------------- | ------------------------------------------------------------- |
| macOS, Windows, Linux | Any mode                                                                                          | All plans                                                     |


</Details>

When `Enabled`, users will receive update notifications when a new version of the client is available. Only turn this on if your users are local administrators with the ability to add or remove software from their device.

### Auto connect

<Render file="warp/all-systems-modes-plans" />

When `Enabled`, the client will automatically reconnect if it has been disabled for the specified **Timeout** value. This setting is best used in conjunction with [Lock WARP Switch](#lock-warp-switch) above.

We recommend keeping this set to a very low value — usually just enough time for a user to log in to hotel or airport Wi-Fi. If any value is specified, the client defaults to the Connected state (for example, after a reboot or the initial install).

**Value:**

* `0`: Allow the switch to stay in the off position indefinitely until the user turns it back on.
* `1` to `1440`: Turn switch back on automatically after the specified number of minutes.

### Support URL

<Render file="warp/all-systems-modes-plans" />

When `Enabled`, the **Send Feedback** button in the WARP client appears and will launch the URL specified. Example **Support URL** values are:

* `https://support.example.com`: Use an https\:// link to open your companies internal help site.
* `mailto:yoursupport@example.com`: Use a `mailto:` link to open your default mail client.

### Service mode

<Render file="warp/all-systems-modes-plans" />

Allows you to choose the operational mode of the client. Refer to [WARP Modes](/cloudflare-one/connections/connect-devices/warp/configure-warp/warp-modes) for a detailed description of each mode.

### Local Domain Fallback


<Details header="Feature availability">

| Operating Systems | [WARP mode required](/cloudflare-one/connections/connect-devices/warp/configure-warp/warp-modes/) | [Zero Trust plans](https://www.cloudflare.com/teams-pricing/) |
| ----------------- | ------------------------------------------------------------------------------------------------- | ------------------------------------------------------------- |
| All systems       | Gateway with WARP, Gateway with DoH                                                               | All plans                                                     |


</Details>

Configures the WARP client to redirect DNS requests to a private DNS resolver. For more information, refer to our [Local Domain Fallback](/cloudflare-one/connections/connect-devices/warp/configure-warp/route-traffic/local-domains/) documentation.

### Split Tunnels

<Render file="warp/all-systems-modes-plans" />

Configures the WARP client to exclude or include traffic to specific IP addresses or domains. For more information, refer to our [Split Tunnel](/cloudflare-one/connections/connect-devices/warp/configure-warp/route-traffic/split-tunnels/) documentation.

### Directly route Microsoft 365 traffic

<Render file="warp/all-systems-modes-plans" />

Creates [Split Tunnel](/cloudflare-one/connections/connect-devices/warp/configure-warp/route-traffic/split-tunnels/) Exclude entries for all [Microsoft 365 IP addresses specified by Microsoft](https://docs.microsoft.com/en-us/microsoft-365/enterprise/microsoft-365-ip-web-service). To use this setting, **Split Tunnels** must be set to **Exclude IPs and domains**. Once enabled, all Microsoft 365 network traffic will bypass WARP and Gateway.

### Allow users to enable local network exclusion


<Details header="Feature availability">

| [WARP modes](/cloudflare-one/connections/connect-devices/warp/configure-warp/warp-modes/) | [Zero Trust plans](https://www.cloudflare.com/teams-pricing/) |
| ----------------------------------------------------------------------------------------- | ------------------------------------------------------------- |
| <ul><li> Gateway with WARP</li><li> Secure Web Gateway without DNS filtering </li></ul>   | All plans                                                     |

| System   | Availability | Minimum WARP version |
| -------- | ------------ | -------------------- |
| Windows  | ✅            | 2024.1.159.0         |
| macOS    | ✅            | 2024.1.160.0         |
| Linux    | ✅            | 2024.2.62.0          |
| iOS      | ❌            |                      |
| Android  | ✅            | 1.4                  |
| ChromeOS | ✅            | 1.4                  |


</Details>

This setting is intended as a workaround for users whose home network uses the same set of IP addresses as your corporate private network. To use this setting, **Split Tunnels** must be set to **Exclude IPs and domains**.

When `Enabled`, users have the option to access local network resources (such as printers and storage devices) while connected to WARP. When the user enables **Access local network** in the WARP GUI, WARP will detect the local IP range advertised by the user’s home network (for example, `10.0.0.0/24`) and temporarily exclude this range from the WARP tunnel. The user will need to re-request access after the **Timeout** expires. Setting **Timeout** to `0 minutes` will allow LAN access until the next WARP reconnection, such as a reboot or a laptop waking from sleep.

:::caution[Warning]

Enabling this setting comes with two major consequences:

* **Device is exposed to security threats.** The user may be unaware that traffic to what used to be their company's private network is now actually being routed to their local network. This leaves the device vulnerable to [on-path attackers](https://www.cloudflare.com/learning/security/threats/on-path-attack/) and other security vulnerabilities. For example, imagine that a user's typical workflow involves logging into a remote desktop on the corporate network at `10.0.0.30`. A bad actor could set up a fake server on the local network at `10.0.0.30`. If the user goes to `10.0.0.30` while **Access local network** is enabled, the attacker can now steal their credentials.
* **User loses access to corporate resources.** — While accessing their local network, the user will be unable to connect to corporate resources that fall within the same IP/CIDR range.


:::

#### Limitations

* WARP will only exclude local networks in the [RFC 1918](https://datatracker.ietf.org/doc/html/rfc1918) address space. Other IP addresses such as CGNAT are not supported.
* The maximum excluded subnet size is `/24`.
* If a Windows device has multiple network interfaces with distinct local IP ranges, WARP will only exclude one of those networks. To access a specific local network, disable the other interfaces and disconnect/reconnect WARP.
