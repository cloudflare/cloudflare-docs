---
title: Get started
pcx_content_type: navigation
sidebar:
  order: 3
---

import { GlossaryTooltip, Render, Card } from "~/components";

Magic WAN allows you to achieve any-to-any connectivity across branch and retail sites and data centers, with Cloudflare connectivity cloud.

## Before you begin

Magic WAN is an Enterprise-only product. [Contact Cloudflare](https://www.cloudflare.com/magic-wan/) to acquire Magic WAN. If you plan on using Magic WAN Connector to automatically onboard your locations to Cloudflare, you will need to purchase Magic WAN first.

## Set up method

Magic WAN supports an automatic setup and a manual setup. The automatic setup through Magic WAN Connector is the preferred method.

### Automatic set up

Setting up Magic WAN automatically is done through Magic WAN Connector, and is the preferred method. You can choose between the hardware version or the virtual version of the Magic WAN Connector. The virtual version can be installed on your own machines.

If you plan on using Magic WAN Connector, you can skip the prerequisites below, and refer to [Configure with Connector](/magic-wan/configuration/connector/) for more information on how to continue.

### Manual set up

Set up Magic WAN manually through a third-party device. To be successfull, you need to:

1. Read the [Prerequisites](#prerequisites) below
2. After making sure you have read the prerequisites, follow the steps in [Manual configuration](/magic-wan/configuration/manually/).

## Prerequisites

:::note
The list of prerequisites below is only for customers planning to connect manually to Cloudflare with a third-party device. If you plan on using Magic WAN Connector, skip this section and refer to [Configure with Connector](/magic-wan/configuration/connector/).
:::

### Use compatible tunnel endpoint routers

Magic WAN relies on <GlossaryTooltip term="GRE tunnel" link="/magic-wan/reference/tunnels/">GRE</GlossaryTooltip> and <GlossaryTooltip term="IPsec tunnel" link="/magic-wan/reference/tunnels/#ipsec-tunnels">IPsec tunnels</GlossaryTooltip> to transmit packets from Cloudflareâ€™s global network to your origin network. To ensure compatibility with Magic WAN, the routers at your tunnel endpoints must:

- Allow configuration of at least one tunnel per Internet service provider (ISP).
- Support <GlossaryTooltip term="maximum segment size (MSS)">maximum segment size (MSS)</GlossaryTooltip> clamping.
- Support the configuration parameters for IPsec mentioned in [IPsec tunnels](/magic-wan/reference/tunnels/#supported-configuration-parameters).

### Set maximum segment size

<Render
	file="prerequisites/maximum-segment-size"
	product="magic-transit"
	params={{ one: "Magic WAN" }}
/>
#### MSS clamping recommendations

##### GRE tunnels as off-ramp

<Render file="mtu-mss/mss-clamping-gre" />

##### IPsec tunnels

<Render file="mtu-mss/mss-clamping-ipsec" />

:::caution[Important]
Refer to your device documentation to check if it sets IPsec MSS clamping automatically. If that is not the case and you are using IPsec inside GRE, you have to set MSS clamp manually.
:::

Refer to [Maximum transmission unit and maximum segment size](/magic-wan/reference/mtu-mss/) for more details.

### Follow router vendor guidelines

<Render
	file="prerequisites/router-vendor-guidelines-mss-settings-origin"
	product="magic-transit"
/>
