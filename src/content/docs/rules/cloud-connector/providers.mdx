---
title: Supported cloud providers
pcx_content_type: reference
sidebar:
  order: 4
---

Cloud Connector currently supports the following cloud providers and services:

- Amazon Web Services - S3
- Google Cloud Platform - Cloud Storage
- Microsoft Azure - Blob Storage

:::note
Support for Cloudflare R2 will be added soon.
:::

## Amazon Web Services - S3

The hostname of your S3 bucket URL must have one of the following formats (where `*` is a wildcard character):

- `*s3.amazonaws.com`
- `*s3-website.<REGION>.amazonaws.com`
- `*s3.<REGION>.amazonaws.com`
- `*s3-website-<REGION>.amazonaws.com`

Cloud Connector supports both subdomain and URI path-style URLs:

- **Subdomain-style URLs**: Set the hostname to `<BUCKET_NAME>.s3.amazonaws.com`. In this case, your files are accessible directly under the root of the bucket. For example, `https://example.com/index.html` will map to `https://<BUCKET_NAME>.s3.amazonaws.com/index.html`.
- **URI path-style URLs**: Set the hostname to `s3.amazonaws.com`. Here, your bucket name must be part of the URI path in your requests. For example, if your bucket name is `<BUCKET_NAME>`, files will be available on paths like `https://example.com/<BUCKET_NAME>/index.html`, and your Cloud Connector rule should filter traffic based on the URI path starting with `/<BUCKET_NAME>`.

### Get the bucket URL

1. Go to the [Amazon S3 console](https://console.aws.amazon.com/s3/) and select **Buckets** in the navigation pane.
2. Select the bucket name.
3. Go to the **Properties** tab.
4. Select the **Static Website Hosting** card. The **Endpoint** field shows your bucket URL.

For more information, refer to the [Amazon S3 documentation](https://docs.aws.amazon.com/AmazonS3/latest/userguide/EnableWebsiteHosting.html).

### Configure bucket policies to allow Cloudflare IP addresses

Now that youâ€™ve created your buckets and enabled hosting for static content, you can set up permissions to allow Cloudflare to access your bucket. 
This ensures that your site only responds to requests coming from the Cloudflare proxy. This is the [current list of IP address ranges](https://www.cloudflare.com/ips/) used by the Cloudflare proxy.

To set up your policy:

1. Follow these instructions from Amazon to [Add an S3 Bucket Policy](https://docs.aws.amazon.com/AmazonS3/latest/user-guide/add-bucket-policy.html).
2. For the step where you enter the policy in the **Bucket policy editor**, use this sample to fill out the needed JSON code, making sure to replace:
- `www.example.com` (appearing in `"Resource": "arn:aws:s3:www.example.com/*"`) with the S3 bucket name for your subdomain URL.
- The placeholder IP addresses with the [current list of IP address ranges](https://www.cloudflare.com/ips/)

```json
{
    "Version": "2012-10-17",
    "Statement": [
        {
            "Sid": "AllowCloudflareIPs",
            "Effect": "Allow",
            "Principal": "*",
            "Action": "s3:GetObject",
            "Resource": "arn:aws:s3:::www.example.com/*",
            "Condition": {
                "IpAddress": {
                    "aws:SourceIp": [
                        "192.2.0.1/32" (example IPv4 address),
                        "192.2.1.0/24" (example IPv4 range),
                        "2001:db8::1111:1111" (example IPv6 address),
                        "2001:db8::/32" (example IPv6 range),
                        (add all IPs ranges at https://www.cloudflare.com/ips)
                    ]
                }
            }
        }
    ]
}
```

## Google Cloud Platform - Cloud Storage

The hostname of your Cloud Storage bucket URL must be the following (where `*` is a wildcard character):

- `*storage.googleapis.com`
- `*storage.cloud.google.com`

Cloud Connector supports both subdomain and URI path-style URLs:

- **Subdomain-style URLs**: Set the hostname to `<BUCKET_NAME>.storage.googleapis.com`. In this case, your files are accessible directly under the root of the bucket. For example, `https://example.com/index.html` will map to `https://<BUCKET_NAME>.storage.googleapis.com/index.html`.
- **URI path-style URLs**: Set the hostname to `storage.googleapis.com`. Here, your bucket name must be part of the URI path in your requests. For example, if your bucket name is `<BUCKET_NAME>`, files will be available on paths like `https://example.com/<BUCKET_NAME>/index.html`, and your Cloud Connector rule should filter traffic based on the URI path starting with `/<BUCKET_NAME>`.

### Get the bucket URL

1. Go to the [Google Cloud console](https://console.cloud.google.com/storage/browser) and select **Buckets**.
2. Select the bucket name.
3. For one of the files already in the bucket, select the link icon in the **Public** column to copy the file's public URL to the clipboard. The file URL will have the following format:

   `https://storage.googleapis.com/<BUCKET_NAME>/<OBJECT_NAME>`

   To obtain the subdomain bucket URL, refactor the file URL to `<BUCKET_NAME>.storage.googleapis.com` format.<br/>
   To obtain the URI path bucket URL, remove `https://` and `/<BUCKET_NAME>/<OBJECT_NAME>` from the file URL.

If the files in your bucket are not publicly accessible, you must change the bucket permissions. For details, refer to the [Google Cloud Storage documentation](https://cloud.google.com/storage/docs/access-control/making-data-public#buckets).

## Microsoft Azure - Blob Storage

The hostname of your Blob Storage bucket URL must have one of the following formats:

- `<BUCKET_NAME>.blob.core.windows.net`
- `<BUCKET_NAME>.web.core.windows.net`

For Azure Blog Storage, Cloud Connector supports only subdomain URLs like `<BUCKET_NAME>.blob.core.windows.net`. This means that your files will be accessible directly under the root of the bucket. For example, `https://example.com/index.html` will map to `https://<BUCKET_NAME>.blob.core.windows.net/index.html`.

### Get the bucket URL

1. Go to the [Azure portal](https://portal.azure.com/) and select your storage account.
2. In the menu pane, under **Settings**, select **Endpoints**.
3. Get your bucket URL from the **Blob service** endpoint or the **Static website** endpoint.

If the blob container is not configured for public access, you must change the container settings. For details, refer to the [Azure Storage documentation](https://learn.microsoft.com/en-us/azure/storage/blobs/anonymous-read-access-configure?tabs=portal).
