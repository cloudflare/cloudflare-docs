{"expireTime":9007200897882661000,"key":"gatsby-plugin-mdx-entire-payload-72bde03b48de91aeba47fd8cf1650b8d-","val":{"mdast":{"type":"root","children":[{"type":"heading","depth":1,"children":[{"type":"text","value":"Define WAF exceptions via API","position":{"start":{"line":2,"column":3,"offset":3},"end":{"line":2,"column":32,"offset":32},"indent":[]}}],"position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":32,"offset":32},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"To define a WAF exception via API, create a rule with ","position":{"start":{"line":4,"column":1,"offset":34},"end":{"line":4,"column":55,"offset":88},"indent":[]}},{"type":"inlineCode","value":"skip","position":{"start":{"line":4,"column":55,"offset":88},"end":{"line":4,"column":61,"offset":94},"indent":[]}},{"type":"text","value":" action in a ","position":{"start":{"line":4,"column":61,"offset":94},"end":{"line":4,"column":74,"offset":107},"indent":[]}},{"type":"link","title":null,"url":"https://developers.cloudflare.com/ruleset-engine/about#phases","children":[{"type":"text","value":"phase entry point ruleset","position":{"start":{"line":4,"column":75,"offset":108},"end":{"line":4,"column":100,"offset":133},"indent":[]}}],"position":{"start":{"line":4,"column":74,"offset":107},"end":{"line":4,"column":164,"offset":197},"indent":[]}},{"type":"text","value":" of the ","position":{"start":{"line":4,"column":164,"offset":197},"end":{"line":4,"column":172,"offset":205},"indent":[]}},{"type":"inlineCode","value":"http_request_firewall_managed","position":{"start":{"line":4,"column":172,"offset":205},"end":{"line":4,"column":203,"offset":236},"indent":[]}},{"type":"text","value":" phase. You can define WAF exceptions at the account level and at the zone level.","position":{"start":{"line":4,"column":203,"offset":236},"end":{"line":4,"column":284,"offset":317},"indent":[]}}],"position":{"start":{"line":4,"column":1,"offset":34},"end":{"line":4,"column":284,"offset":317},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"To configure the WAF exception, define the ","position":{"start":{"line":6,"column":1,"offset":319},"end":{"line":6,"column":44,"offset":362},"indent":[]}},{"type":"inlineCode","value":"action_parameters","position":{"start":{"line":6,"column":44,"offset":362},"end":{"line":6,"column":63,"offset":381},"indent":[]}},{"type":"text","value":" object according to the ","position":{"start":{"line":6,"column":63,"offset":381},"end":{"line":6,"column":88,"offset":406},"indent":[]}},{"type":"link","title":null,"url":"/managed-rulesets/waf-exceptions#types-of-waf-exceptions","children":[{"type":"text","value":"exception type","position":{"start":{"line":6,"column":89,"offset":407},"end":{"line":6,"column":103,"offset":421},"indent":[]}}],"position":{"start":{"line":6,"column":88,"offset":406},"end":{"line":6,"column":162,"offset":480},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":6,"column":162,"offset":480},"end":{"line":6,"column":163,"offset":481},"indent":[]}}],"position":{"start":{"line":6,"column":1,"offset":319},"end":{"line":6,"column":163,"offset":481},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Refer to ","position":{"start":{"line":8,"column":1,"offset":483},"end":{"line":8,"column":10,"offset":492},"indent":[]}},{"type":"link","title":null,"url":"https://developers.cloudflare.com/ruleset-engine/basic-operations/add-rule-phase-rulesets","children":[{"type":"text","value":"Add rules to phase entry point rulesets","position":{"start":{"line":8,"column":11,"offset":493},"end":{"line":8,"column":50,"offset":532},"indent":[]}}],"position":{"start":{"line":8,"column":10,"offset":492},"end":{"line":8,"column":142,"offset":624},"indent":[]}},{"type":"text","value":" for more information on adding rules using the ","position":{"start":{"line":8,"column":142,"offset":624},"end":{"line":8,"column":190,"offset":672},"indent":[]}},{"type":"link","title":null,"url":"https://developers.cloudflare.com/ruleset-engine/rulesets-api","children":[{"type":"text","value":"Rulesets API","position":{"start":{"line":8,"column":191,"offset":673},"end":{"line":8,"column":203,"offset":685},"indent":[]}}],"position":{"start":{"line":8,"column":190,"offset":672},"end":{"line":8,"column":267,"offset":749},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":8,"column":267,"offset":749},"end":{"line":8,"column":268,"offset":750},"indent":[]}}],"position":{"start":{"line":8,"column":1,"offset":483},"end":{"line":8,"column":268,"offset":750},"indent":[]}},{"type":"jsx","value":"<Aside type=\"note\" header=\"Rule execution order\">","position":{"start":{"line":10,"column":1,"offset":752},"end":{"line":10,"column":50,"offset":801},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Rules with ","position":{"start":{"line":12,"column":1,"offset":803},"end":{"line":12,"column":12,"offset":814},"indent":[]}},{"type":"inlineCode","value":"skip","position":{"start":{"line":12,"column":12,"offset":814},"end":{"line":12,"column":18,"offset":820},"indent":[]}},{"type":"text","value":" action only apply to rules with ","position":{"start":{"line":12,"column":18,"offset":820},"end":{"line":12,"column":51,"offset":853},"indent":[]}},{"type":"inlineCode","value":"execute","position":{"start":{"line":12,"column":51,"offset":853},"end":{"line":12,"column":60,"offset":862},"indent":[]}},{"type":"text","value":" action listed ","position":{"start":{"line":12,"column":60,"offset":862},"end":{"line":12,"column":75,"offset":877},"indent":[]}},{"type":"strong","children":[{"type":"text","value":"after","position":{"start":{"line":12,"column":77,"offset":879},"end":{"line":12,"column":82,"offset":884},"indent":[]}}],"position":{"start":{"line":12,"column":75,"offset":877},"end":{"line":12,"column":84,"offset":886},"indent":[]}},{"type":"text","value":" them. If you add a rule with ","position":{"start":{"line":12,"column":84,"offset":886},"end":{"line":12,"column":114,"offset":916},"indent":[]}},{"type":"inlineCode","value":"skip","position":{"start":{"line":12,"column":114,"offset":916},"end":{"line":12,"column":120,"offset":922},"indent":[]}},{"type":"text","value":" action at the end of the rules list of a phase entry point ruleset, nothing will be skipped.","position":{"start":{"line":12,"column":120,"offset":922},"end":{"line":12,"column":213,"offset":1015},"indent":[]}}],"position":{"start":{"line":12,"column":1,"offset":803},"end":{"line":12,"column":213,"offset":1015},"indent":[]}},{"type":"jsx","value":"</Aside>","position":{"start":{"line":14,"column":1,"offset":1017},"end":{"line":14,"column":9,"offset":1025},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Skip all remaining rules","position":{"start":{"line":16,"column":4,"offset":1030},"end":{"line":16,"column":28,"offset":1054},"indent":[]}}],"position":{"start":{"line":16,"column":1,"offset":1027},"end":{"line":16,"column":28,"offset":1054},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"To skip all the remaining rules in the entry point ruleset, create a rule with ","position":{"start":{"line":18,"column":1,"offset":1056},"end":{"line":18,"column":80,"offset":1135},"indent":[]}},{"type":"inlineCode","value":"skip","position":{"start":{"line":18,"column":80,"offset":1135},"end":{"line":18,"column":86,"offset":1141},"indent":[]}},{"type":"text","value":" action and include ","position":{"start":{"line":18,"column":86,"offset":1141},"end":{"line":18,"column":106,"offset":1161},"indent":[]}},{"type":"inlineCode","value":"\"ruleset\": \"current\"","position":{"start":{"line":18,"column":106,"offset":1161},"end":{"line":18,"column":128,"offset":1183},"indent":[]}},{"type":"text","value":" in the ","position":{"start":{"line":18,"column":128,"offset":1183},"end":{"line":18,"column":136,"offset":1191},"indent":[]}},{"type":"inlineCode","value":"action_parameters","position":{"start":{"line":18,"column":136,"offset":1191},"end":{"line":18,"column":155,"offset":1210},"indent":[]}},{"type":"text","value":" object.","position":{"start":{"line":18,"column":155,"offset":1210},"end":{"line":18,"column":163,"offset":1218},"indent":[]}}],"position":{"start":{"line":18,"column":1,"offset":1056},"end":{"line":18,"column":163,"offset":1218},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Example of rule definition:","position":{"start":{"line":20,"column":1,"offset":1220},"end":{"line":20,"column":28,"offset":1247},"indent":[]}}],"position":{"start":{"line":20,"column":1,"offset":1220},"end":{"line":20,"column":28,"offset":1247},"indent":[]}},{"type":"code","lang":"json","meta":null,"value":"{\n  \"expression\": \"<RULE_EXPRESSION>\",\n  \"action\": \"skip\",\n  \"action_parameters\": {\n    \"ruleset\": \"current\"\n  }\n}","position":{"start":{"line":22,"column":1,"offset":1249},"end":{"line":30,"column":4,"offset":1375},"indent":[1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Skipping all remaining rules only affects the rules in the current context (account or zone). For example, adding a rule with ","position":{"start":{"line":32,"column":1,"offset":1377},"end":{"line":32,"column":127,"offset":1503},"indent":[]}},{"type":"inlineCode","value":"skip","position":{"start":{"line":32,"column":127,"offset":1503},"end":{"line":32,"column":133,"offset":1509},"indent":[]}},{"type":"text","value":" action to the account-level phase entry point ruleset has no impact on the rules defined in the zone-level phase entry point ruleset — these zone-level rules will still be evaluated.","position":{"start":{"line":32,"column":133,"offset":1509},"end":{"line":32,"column":316,"offset":1692},"indent":[]}}],"position":{"start":{"line":32,"column":1,"offset":1377},"end":{"line":32,"column":316,"offset":1692},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Skip one or more WAF Managed Rulesets","position":{"start":{"line":34,"column":4,"offset":1697},"end":{"line":34,"column":41,"offset":1734},"indent":[]}}],"position":{"start":{"line":34,"column":1,"offset":1694},"end":{"line":34,"column":41,"offset":1734},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"To skip one or more WAF Managed Rulesets, create a rule with ","position":{"start":{"line":36,"column":1,"offset":1736},"end":{"line":36,"column":62,"offset":1797},"indent":[]}},{"type":"inlineCode","value":"skip","position":{"start":{"line":36,"column":62,"offset":1797},"end":{"line":36,"column":68,"offset":1803},"indent":[]}},{"type":"text","value":" action containing a ","position":{"start":{"line":36,"column":68,"offset":1803},"end":{"line":36,"column":89,"offset":1824},"indent":[]}},{"type":"inlineCode","value":"rulesets","position":{"start":{"line":36,"column":89,"offset":1824},"end":{"line":36,"column":99,"offset":1834},"indent":[]}},{"type":"text","value":" field in the ","position":{"start":{"line":36,"column":99,"offset":1834},"end":{"line":36,"column":113,"offset":1848},"indent":[]}},{"type":"inlineCode","value":"action_parameters","position":{"start":{"line":36,"column":113,"offset":1848},"end":{"line":36,"column":132,"offset":1867},"indent":[]}},{"type":"text","value":" object. The ","position":{"start":{"line":36,"column":132,"offset":1867},"end":{"line":36,"column":145,"offset":1880},"indent":[]}},{"type":"inlineCode","value":"rulesets","position":{"start":{"line":36,"column":145,"offset":1880},"end":{"line":36,"column":155,"offset":1890},"indent":[]}},{"type":"text","value":" field must contain a list of WAF Managed Ruleset IDs you wish to skip.","position":{"start":{"line":36,"column":155,"offset":1890},"end":{"line":36,"column":226,"offset":1961},"indent":[]}}],"position":{"start":{"line":36,"column":1,"offset":1736},"end":{"line":36,"column":226,"offset":1961},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Example of rule definition:","position":{"start":{"line":38,"column":1,"offset":1963},"end":{"line":38,"column":28,"offset":1990},"indent":[]}}],"position":{"start":{"line":38,"column":1,"offset":1963},"end":{"line":38,"column":28,"offset":1990},"indent":[]}},{"type":"code","lang":"json","meta":null,"value":"{\n  \"expression\": \"<RULE_EXPRESSION>\",\n  \"action\": \"skip\",\n  \"action_parameters\": {\n    \"rulesets\": [\n      \"{waf-managed-ruleset-id-1}\",\n      \"{waf-managed-ruleset-id-2}\"\n    ]\n  }\n}","position":{"start":{"line":40,"column":1,"offset":1992},"end":{"line":51,"column":4,"offset":2188},"indent":[1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"The Managed Rulesets to skip must belong to the ","position":{"start":{"line":53,"column":1,"offset":2190},"end":{"line":53,"column":49,"offset":2238},"indent":[]}},{"type":"inlineCode","value":"http_request_firewall_managed","position":{"start":{"line":53,"column":49,"offset":2238},"end":{"line":53,"column":80,"offset":2269},"indent":[]}},{"type":"text","value":" phase.","position":{"start":{"line":53,"column":80,"offset":2269},"end":{"line":53,"column":87,"offset":2276},"indent":[]}}],"position":{"start":{"line":53,"column":1,"offset":2190},"end":{"line":53,"column":87,"offset":2276},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Skip one or more rules of WAF Managed Rulesets","position":{"start":{"line":55,"column":4,"offset":2281},"end":{"line":55,"column":50,"offset":2327},"indent":[]}}],"position":{"start":{"line":55,"column":1,"offset":2278},"end":{"line":55,"column":50,"offset":2327},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"To skip one or more rules of WAF Managed Rulesets, create a rule with ","position":{"start":{"line":57,"column":1,"offset":2329},"end":{"line":57,"column":71,"offset":2399},"indent":[]}},{"type":"inlineCode","value":"skip","position":{"start":{"line":57,"column":71,"offset":2399},"end":{"line":57,"column":77,"offset":2405},"indent":[]}},{"type":"text","value":" action containing a ","position":{"start":{"line":57,"column":77,"offset":2405},"end":{"line":57,"column":98,"offset":2426},"indent":[]}},{"type":"inlineCode","value":"rules","position":{"start":{"line":57,"column":98,"offset":2426},"end":{"line":57,"column":105,"offset":2433},"indent":[]}},{"type":"text","value":" object in the ","position":{"start":{"line":57,"column":105,"offset":2433},"end":{"line":57,"column":120,"offset":2448},"indent":[]}},{"type":"inlineCode","value":"action_parameters","position":{"start":{"line":57,"column":120,"offset":2448},"end":{"line":57,"column":139,"offset":2467},"indent":[]}},{"type":"text","value":" object. The ","position":{"start":{"line":57,"column":139,"offset":2467},"end":{"line":57,"column":152,"offset":2480},"indent":[]}},{"type":"inlineCode","value":"rules","position":{"start":{"line":57,"column":152,"offset":2480},"end":{"line":57,"column":159,"offset":2487},"indent":[]}},{"type":"text","value":" object must contain one or more Managed Ruleset IDs as keys, and a list of rules to skip in those Managed Rulesets as the value of each key.","position":{"start":{"line":57,"column":159,"offset":2487},"end":{"line":57,"column":300,"offset":2628},"indent":[]}}],"position":{"start":{"line":57,"column":1,"offset":2329},"end":{"line":57,"column":300,"offset":2628},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The following example defines a rule with ","position":{"start":{"line":59,"column":1,"offset":2630},"end":{"line":59,"column":43,"offset":2672},"indent":[]}},{"type":"inlineCode","value":"skip","position":{"start":{"line":59,"column":43,"offset":2672},"end":{"line":59,"column":49,"offset":2678},"indent":[]}},{"type":"text","value":" action that will skip rules ","position":{"start":{"line":59,"column":49,"offset":2678},"end":{"line":59,"column":78,"offset":2707},"indent":[]}},{"type":"inlineCode","value":"A","position":{"start":{"line":59,"column":78,"offset":2707},"end":{"line":59,"column":81,"offset":2710},"indent":[]}},{"type":"text","value":" and ","position":{"start":{"line":59,"column":81,"offset":2710},"end":{"line":59,"column":86,"offset":2715},"indent":[]}},{"type":"inlineCode","value":"B","position":{"start":{"line":59,"column":86,"offset":2715},"end":{"line":59,"column":89,"offset":2718},"indent":[]}},{"type":"text","value":" of WAF Managed Ruleset ","position":{"start":{"line":59,"column":89,"offset":2718},"end":{"line":59,"column":113,"offset":2742},"indent":[]}},{"type":"inlineCode","value":"1","position":{"start":{"line":59,"column":113,"offset":2742},"end":{"line":59,"column":116,"offset":2745},"indent":[]}},{"type":"text","value":", and rule ","position":{"start":{"line":59,"column":116,"offset":2745},"end":{"line":59,"column":127,"offset":2756},"indent":[]}},{"type":"inlineCode","value":"X","position":{"start":{"line":59,"column":127,"offset":2756},"end":{"line":59,"column":130,"offset":2759},"indent":[]}},{"type":"text","value":" of WAF Managed Ruleset ","position":{"start":{"line":59,"column":130,"offset":2759},"end":{"line":59,"column":154,"offset":2783},"indent":[]}},{"type":"inlineCode","value":"2","position":{"start":{"line":59,"column":154,"offset":2783},"end":{"line":59,"column":157,"offset":2786},"indent":[]}},{"type":"text","value":":","position":{"start":{"line":59,"column":157,"offset":2786},"end":{"line":59,"column":158,"offset":2787},"indent":[]}}],"position":{"start":{"line":59,"column":1,"offset":2630},"end":{"line":59,"column":158,"offset":2787},"indent":[]}},{"type":"code","lang":"json","meta":null,"value":"{\n  \"expression\": \"<RULE_EXPRESSION>\",\n  \"action\": \"skip\",\n  \"action_parameters\": {\n    \"rules\": {\n      \"{waf-managed-ruleset-id-1}\": [\"{rule-id-A}\", \"{rule-id-B}\"],\n      \"{waf-managed-ruleset-id-2}\": [\"{rule-id-X}\"]\n    }\n  }\n}","position":{"start":{"line":61,"column":1,"offset":2789},"end":{"line":72,"column":4,"offset":3031},"indent":[1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"The rules in the ","position":{"start":{"line":74,"column":1,"offset":3033},"end":{"line":74,"column":18,"offset":3050},"indent":[]}},{"type":"inlineCode","value":"rules","position":{"start":{"line":74,"column":18,"offset":3050},"end":{"line":74,"column":25,"offset":3057},"indent":[]}},{"type":"text","value":" object must belong to the specified WAF Managed Rulesets, otherwise you will get an error.","position":{"start":{"line":74,"column":25,"offset":3057},"end":{"line":74,"column":116,"offset":3148},"indent":[]}}],"position":{"start":{"line":74,"column":1,"offset":3033},"end":{"line":74,"column":116,"offset":3148},"indent":[]}},{"type":"export","value":"export const _frontmatter = {\"pcx-content-type\":\"configuration\",\"order\":2}","position":{"start":{"line":77,"column":1,"offset":3151},"end":{"line":77,"column":75,"offset":3225},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":77,"column":75,"offset":3225}}},"scopeImports":["import * as React from 'react'"],"scopeIdentifiers":["React"],"body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"pcx-content-type\": \"configuration\",\n  \"order\": 2\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar Aside = makeShortcode(\"Aside\");\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h1\", {\n    \"id\": \"define-waf-exceptions-via-api\"\n  }, \"Define WAF exceptions via API\"), mdx(\"p\", null, \"To define a WAF exception via API, create a rule with \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"skip\"), \" action in a \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://developers.cloudflare.com/ruleset-engine/about#phases\"\n  }, \"phase entry point ruleset\"), \" of the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"http_request_firewall_managed\"), \" phase. You can define WAF exceptions at the account level and at the zone level.\"), mdx(\"p\", null, \"To configure the WAF exception, define the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"action_parameters\"), \" object according to the \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"/managed-rulesets/waf-exceptions#types-of-waf-exceptions\"\n  }, \"exception type\"), \".\"), mdx(\"p\", null, \"Refer to \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://developers.cloudflare.com/ruleset-engine/basic-operations/add-rule-phase-rulesets\"\n  }, \"Add rules to phase entry point rulesets\"), \" for more information on adding rules using the \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://developers.cloudflare.com/ruleset-engine/rulesets-api\"\n  }, \"Rulesets API\"), \".\"), mdx(Aside, {\n    type: \"note\",\n    header: \"Rule execution order\",\n    mdxType: \"Aside\"\n  }, mdx(\"p\", null, \"Rules with \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"skip\"), \" action only apply to rules with \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"execute\"), \" action listed \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"after\"), \" them. If you add a rule with \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"skip\"), \" action at the end of the rules list of a phase entry point ruleset, nothing will be skipped.\")), mdx(\"h2\", {\n    \"id\": \"skip-all-remaining-rules\"\n  }, \"Skip all remaining rules\"), mdx(\"p\", null, \"To skip all the remaining rules in the entry point ruleset, create a rule with \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"skip\"), \" action and include \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"\\\"ruleset\\\": \\\"current\\\"\"), \" in the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"action_parameters\"), \" object.\"), mdx(\"p\", null, \"Example of rule definition:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-json\"\n  }, \"{\\n  \\\"expression\\\": \\\"<RULE_EXPRESSION>\\\",\\n  \\\"action\\\": \\\"skip\\\",\\n  \\\"action_parameters\\\": {\\n    \\\"ruleset\\\": \\\"current\\\"\\n  }\\n}\\n\")), mdx(\"p\", null, \"Skipping all remaining rules only affects the rules in the current context (account or zone). For example, adding a rule with \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"skip\"), \" action to the account-level phase entry point ruleset has no impact on the rules defined in the zone-level phase entry point ruleset \\u2014 these zone-level rules will still be evaluated.\"), mdx(\"h2\", {\n    \"id\": \"skip-one-or-more-waf-managed-rulesets\"\n  }, \"Skip one or more WAF Managed Rulesets\"), mdx(\"p\", null, \"To skip one or more WAF Managed Rulesets, create a rule with \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"skip\"), \" action containing a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"rulesets\"), \" field in the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"action_parameters\"), \" object. The \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"rulesets\"), \" field must contain a list of WAF Managed Ruleset IDs you wish to skip.\"), mdx(\"p\", null, \"Example of rule definition:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-json\"\n  }, \"{\\n  \\\"expression\\\": \\\"<RULE_EXPRESSION>\\\",\\n  \\\"action\\\": \\\"skip\\\",\\n  \\\"action_parameters\\\": {\\n    \\\"rulesets\\\": [\\n      \\\"{waf-managed-ruleset-id-1}\\\",\\n      \\\"{waf-managed-ruleset-id-2}\\\"\\n    ]\\n  }\\n}\\n\")), mdx(\"p\", null, \"The Managed Rulesets to skip must belong to the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"http_request_firewall_managed\"), \" phase.\"), mdx(\"h2\", {\n    \"id\": \"skip-one-or-more-rules-of-waf-managed-rulesets\"\n  }, \"Skip one or more rules of WAF Managed Rulesets\"), mdx(\"p\", null, \"To skip one or more rules of WAF Managed Rulesets, create a rule with \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"skip\"), \" action containing a \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"rules\"), \" object in the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"action_parameters\"), \" object. The \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"rules\"), \" object must contain one or more Managed Ruleset IDs as keys, and a list of rules to skip in those Managed Rulesets as the value of each key.\"), mdx(\"p\", null, \"The following example defines a rule with \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"skip\"), \" action that will skip rules \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"A\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"B\"), \" of WAF Managed Ruleset \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"1\"), \", and rule \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"X\"), \" of WAF Managed Ruleset \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"2\"), \":\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-json\"\n  }, \"{\\n  \\\"expression\\\": \\\"<RULE_EXPRESSION>\\\",\\n  \\\"action\\\": \\\"skip\\\",\\n  \\\"action_parameters\\\": {\\n    \\\"rules\\\": {\\n      \\\"{waf-managed-ruleset-id-1}\\\": [\\\"{rule-id-A}\\\", \\\"{rule-id-B}\\\"],\\n      \\\"{waf-managed-ruleset-id-2}\\\": [\\\"{rule-id-X}\\\"]\\n    }\\n  }\\n}\\n\")), mdx(\"p\", null, \"The rules in the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"rules\"), \" object must belong to the specified WAF Managed Rulesets, otherwise you will get an error.\"));\n}\n;\nMDXContent.isMDXComponent = true;","rawMDXOutput":"/* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\n\nexport const _frontmatter = {\n  \"pcx-content-type\": \"configuration\",\n  \"order\": 2\n};\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\")\n  return <div {...props}/>\n};\nconst Aside = makeShortcode(\"Aside\");\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n    <h1 {...{\n      \"id\": \"define-waf-exceptions-via-api\"\n    }}>{`Define WAF exceptions via API`}</h1>\n    <p>{`To define a WAF exception via API, create a rule with `}<inlineCode parentName=\"p\">{`skip`}</inlineCode>{` action in a `}<a parentName=\"p\" {...{\n        \"href\": \"https://developers.cloudflare.com/ruleset-engine/about#phases\"\n      }}>{`phase entry point ruleset`}</a>{` of the `}<inlineCode parentName=\"p\">{`http_request_firewall_managed`}</inlineCode>{` phase. You can define WAF exceptions at the account level and at the zone level.`}</p>\n    <p>{`To configure the WAF exception, define the `}<inlineCode parentName=\"p\">{`action_parameters`}</inlineCode>{` object according to the `}<a parentName=\"p\" {...{\n        \"href\": \"/managed-rulesets/waf-exceptions#types-of-waf-exceptions\"\n      }}>{`exception type`}</a>{`.`}</p>\n    <p>{`Refer to `}<a parentName=\"p\" {...{\n        \"href\": \"https://developers.cloudflare.com/ruleset-engine/basic-operations/add-rule-phase-rulesets\"\n      }}>{`Add rules to phase entry point rulesets`}</a>{` for more information on adding rules using the `}<a parentName=\"p\" {...{\n        \"href\": \"https://developers.cloudflare.com/ruleset-engine/rulesets-api\"\n      }}>{`Rulesets API`}</a>{`.`}</p>\n    <Aside type=\"note\" header=\"Rule execution order\" mdxType=\"Aside\">\n      <p>{`Rules with `}<inlineCode parentName=\"p\">{`skip`}</inlineCode>{` action only apply to rules with `}<inlineCode parentName=\"p\">{`execute`}</inlineCode>{` action listed `}<strong parentName=\"p\">{`after`}</strong>{` them. If you add a rule with `}<inlineCode parentName=\"p\">{`skip`}</inlineCode>{` action at the end of the rules list of a phase entry point ruleset, nothing will be skipped.`}</p>\n    </Aside>\n    <h2 {...{\n      \"id\": \"skip-all-remaining-rules\"\n    }}>{`Skip all remaining rules`}</h2>\n    <p>{`To skip all the remaining rules in the entry point ruleset, create a rule with `}<inlineCode parentName=\"p\">{`skip`}</inlineCode>{` action and include `}<inlineCode parentName=\"p\">{`\"ruleset\": \"current\"`}</inlineCode>{` in the `}<inlineCode parentName=\"p\">{`action_parameters`}</inlineCode>{` object.`}</p>\n    <p>{`Example of rule definition:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-json\"\n      }}>{`{\n  \"expression\": \"<RULE_EXPRESSION>\",\n  \"action\": \"skip\",\n  \"action_parameters\": {\n    \"ruleset\": \"current\"\n  }\n}\n`}</code></pre>\n    <p>{`Skipping all remaining rules only affects the rules in the current context (account or zone). For example, adding a rule with `}<inlineCode parentName=\"p\">{`skip`}</inlineCode>{` action to the account-level phase entry point ruleset has no impact on the rules defined in the zone-level phase entry point ruleset — these zone-level rules will still be evaluated.`}</p>\n    <h2 {...{\n      \"id\": \"skip-one-or-more-waf-managed-rulesets\"\n    }}>{`Skip one or more WAF Managed Rulesets`}</h2>\n    <p>{`To skip one or more WAF Managed Rulesets, create a rule with `}<inlineCode parentName=\"p\">{`skip`}</inlineCode>{` action containing a `}<inlineCode parentName=\"p\">{`rulesets`}</inlineCode>{` field in the `}<inlineCode parentName=\"p\">{`action_parameters`}</inlineCode>{` object. The `}<inlineCode parentName=\"p\">{`rulesets`}</inlineCode>{` field must contain a list of WAF Managed Ruleset IDs you wish to skip.`}</p>\n    <p>{`Example of rule definition:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-json\"\n      }}>{`{\n  \"expression\": \"<RULE_EXPRESSION>\",\n  \"action\": \"skip\",\n  \"action_parameters\": {\n    \"rulesets\": [\n      \"{waf-managed-ruleset-id-1}\",\n      \"{waf-managed-ruleset-id-2}\"\n    ]\n  }\n}\n`}</code></pre>\n    <p>{`The Managed Rulesets to skip must belong to the `}<inlineCode parentName=\"p\">{`http_request_firewall_managed`}</inlineCode>{` phase.`}</p>\n    <h2 {...{\n      \"id\": \"skip-one-or-more-rules-of-waf-managed-rulesets\"\n    }}>{`Skip one or more rules of WAF Managed Rulesets`}</h2>\n    <p>{`To skip one or more rules of WAF Managed Rulesets, create a rule with `}<inlineCode parentName=\"p\">{`skip`}</inlineCode>{` action containing a `}<inlineCode parentName=\"p\">{`rules`}</inlineCode>{` object in the `}<inlineCode parentName=\"p\">{`action_parameters`}</inlineCode>{` object. The `}<inlineCode parentName=\"p\">{`rules`}</inlineCode>{` object must contain one or more Managed Ruleset IDs as keys, and a list of rules to skip in those Managed Rulesets as the value of each key.`}</p>\n    <p>{`The following example defines a rule with `}<inlineCode parentName=\"p\">{`skip`}</inlineCode>{` action that will skip rules `}<inlineCode parentName=\"p\">{`A`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`B`}</inlineCode>{` of WAF Managed Ruleset `}<inlineCode parentName=\"p\">{`1`}</inlineCode>{`, and rule `}<inlineCode parentName=\"p\">{`X`}</inlineCode>{` of WAF Managed Ruleset `}<inlineCode parentName=\"p\">{`2`}</inlineCode>{`:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-json\"\n      }}>{`{\n  \"expression\": \"<RULE_EXPRESSION>\",\n  \"action\": \"skip\",\n  \"action_parameters\": {\n    \"rules\": {\n      \"{waf-managed-ruleset-id-1}\": [\"{rule-id-A}\", \"{rule-id-B}\"],\n      \"{waf-managed-ruleset-id-2}\": [\"{rule-id-X}\"]\n    }\n  }\n}\n`}</code></pre>\n    <p>{`The rules in the `}<inlineCode parentName=\"p\">{`rules`}</inlineCode>{` object must belong to the specified WAF Managed Rulesets, otherwise you will get an error.`}</p>\n\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;"}}