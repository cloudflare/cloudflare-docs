<!doctype html>
<html lang="en" theme="light" is-docs-page js-focus-visible-polyfill-available >
  <head>

  <meta charset="utf-8">
  <title>Page Rules migration guide · Cloudflare Rules docs</title>
  <meta name="title" content="Page Rules migration guide · Cloudflare Rules docs" />
  <meta name="image" content="https://developers.cloudflare.com/core-services-preview.png" />

  <meta http-equiv="cleartype" content="on" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="application-name" content="Page Rules migration guide · Cloudflare Rules docs" />
  <meta name="msapplication-tap-highlight" content="no" />
  <meta name="apple-mobile-web-app-title" content="Page Rules migration guide · Cloudflare Rules docs" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="mobile-web-app-capable" content="yes" />
  <meta name="theme-color" content="#f38020" />

  <meta name="description" content="Cloudflare recommends that you consider using modern Rules features for your new implementations instead of Page Rules. Follow the recommendations in …" />

  <meta property="og:site_name" content="Cloudflare Docs" />
  <meta property="og:image" content="https://developers.cloudflare.com/core-services-preview.png" />
  <meta property="og:title" content="Page Rules migration guide · Cloudflare Rules docs" />
  <meta property="og:description" content="Cloudflare recommends that you consider using modern Rules features for your new implementations instead of Page Rules. Follow the recommendations in …" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://developers.cloudflare.com/rules/reference/page-rules-migration/" />

  <meta name="twitter:title" content="Page Rules migration guide · Cloudflare Rules docs" />
  <meta name="twitter:image" content="https://developers.cloudflare.com/core-services-preview.png" />
  <meta name="twitter:description" content="Cloudflare recommends that you consider using modern Rules features for your new implementations instead of Page Rules. Follow the recommendations in …" />
  <meta name="twitter:card" content="summary_large_image" />

  <meta name="pcx_product" content="rules"><meta name="algolia_product_filter" content="Rules"><meta name="algolia_page_title" content="Page Rules migration guide">
  <meta name="pcx_word_count" content="6200"><meta name="pcx_last_modified" content="16"><meta name="pcx_last_reviewed" content="500" /><meta name="pcx_content_type" content="how-to" />
  <meta name="algolia_content_type" content="How To"><meta name="pcx_content_group" content="Cloudflare essentials" />
  
  
  <link rel="icon" href="/favicon-32x32.png" />
  <link rel="canonical" href="https://developers.cloudflare.com/rules/reference/page-rules-migration/" />
  <link rel="sitemap" href="/sitemap.xml" type="application/xml" />
  <link rel="manifest" href="/manifest.webmanifest" />

  <link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png" />
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png" />
  <link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png" />
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png" />
  <link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png" />
  <link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png" />
  <link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png" />
  <link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png" /><script type="module" src="/search.js" defer></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@docsearch/css@3.5.1" />
  <script defer async src="https://cdn.jsdelivr.net/npm/@docsearch/js@3.5.1"></script>
  <script>window.algoliaConfig = {"apikey":"4edb0a6cef3338ff4bcfbc6b3d2db56b","index":"developers-cloudflare2","product":"rules"}</script>
  <meta name="docsearch:product" content="rules" /><link rel="stylesheet preconnect" href="/style.css" />
      <link rel="stylesheet preconnect" href="/codeBlock.css" /><link rel="preload" href="https://unpkg.com/littlefoot@4.0.0-11/dist/littlefoot.css" as="style">
    <link rel="preload" href="https://unpkg.com/littlefoot@4.0.0-11/dist/littlefoot.js" as="script" />
    <link rel="stylesheet" href="https://unpkg.com/littlefoot@4.0.0-11/dist/littlefoot.css" /><script>// <stdin>
(function() {
  let tooEarly = false;
  let btn;
  let media;
  if (document.readyState !== "loading") init();
  else addEventListener("DOMContentLoaded", init);
  btn = document.querySelector("#ThemeToggle");
  tooEarly = !btn;
  function setter(isDark) {
    try {
      let theme = isDark ? "dark" : "light";
      document.documentElement.setAttribute("theme", theme);
      document.documentElement.setAttribute("data-theme", theme);
      localStorage.theme = JSON.stringify({ theme });
      if (btn) {
        btn.checked = isDark;
        tooEarly = false;
      } else if (tooEarly) {
        setTimeout(setter, 1, isDark);
      }
    } catch (err) {
    }
    const themeToggleTooltip = document.querySelector("#ThemeToggle--tooltip");
    if (!themeToggleTooltip) return;
    if (isDark) {
      themeToggleTooltip.textContent = "Set theme to light (\u21E7+D)";
    } else {
      themeToggleTooltip.textContent = "Set theme to dark (\u21E7+D)";
    }
  }
  function init() {
    btn = btn || document.querySelector("#ThemeToggle");
    btn.addEventListener("change", () => setter(!!btn.checked));
    addEventListener("keydown", (ev) => {
      if (ev.target !== document.body || ev.repeat) return;
      if (ev.which === 68 && ev.shiftKey) {
        ev.preventDefault();
        setter(!btn.checked);
      }
    });
  }
  try {
    media = window.matchMedia("(prefers-color-scheme:dark)");
    media.onchange = (ev) => setter(ev.matches);
  } catch (err) {
  }
  try {
    let value = localStorage.theme;
    let row = value && JSON.parse(value);
    setter(row ? /dark/.test(row.theme) : !!(media && media.matches));
  } catch (err) {
  }
})();
</script><script type="module" src="/main.js" defer></script></head>
  <body><div class="DocsPage"><div>
    <a class="skip-link" href='#main'>Skip to content</a>
</div><div class="DocsMobileHeader">
  <a class="DocsMobileHeader--cloudflare-logo-link Link Link-without-underline" href="/">
    <div class="DocsNavLogoLockup DocsNavLogoLockup-with-small-gap">
      
<div class="DocsNavLogoLockup--logo">
  <svg viewBox="0 0 48 48" fill="currentColor" role="img" aria-labelledby="title - ced4cfa5cd4a8c46dbe1fbfc285c8cd4" xmlns="http://www.w3.org/2000/svg">
    <title id="title - ced4cfa5cd4a8c46dbe1fbfc285c8cd4">Cloudflare Docs logomark</title>
    <path d="M31.236 28.717c-.373-.548-1.003-.864-1.76-.9l-14.353-.195a.262.262 0 01-.221-.122.348.348 0 01-.035-.267.396.396 0 01.338-.268l14.48-.195c1.714-.085 3.58-1.533 4.232-3.309l.828-2.25a.503.503 0 00.023-.292c-.932-4.404-4.698-7.689-9.198-7.689-4.15 0-7.672 2.798-8.931 6.679a4.156 4.156 0 00-2.973-.864c-1.994.207-3.59 1.874-3.789 3.954a4.84 4.84 0 00.105 1.545c-3.253.097-5.853 2.871-5.853 6.29 0 .304.024.608.059.912.023.146.14.256.28.256h26.488c.151 0 .291-.11.338-.268l.198-.742c.245-.876.152-1.68-.256-2.275zM36.062 21.39c-.128 0-.268 0-.396.012-.093 0-.175.073-.21.17l-.56 2.032c-.244.876-.151 1.679.257 2.275.373.548 1.003.864 1.76.9l3.055.195c.093 0 .175.049.222.122a.356.356 0 01.035.267.396.396 0 01-.339.268l-3.182.195c-1.726.085-3.58 1.532-4.232 3.309l-.234.62c-.046.122.035.243.164.243h10.935a.289.289 0 00.28-.219 8.654 8.654 0 00.292-2.214c0-4.501-3.521-8.175-7.847-8.175"></path>
  </svg>
</div>
<span class="DocsNavLogoLockup--text">
  <span data-text="Cloudflare">Cloudflare </span>
  <span data-text="Docs">Docs</span>
</span>
    </div>
  </a>
</div>

<div class="DocsMobileTitleHeader">
  <a aria-current="page" class="DocsMobileTitleHeader--logo-link Link Link-without-underline" href="/rules/">
    <div class="DocsNavLogoLockup DocsNavLogoLockup-with-small-gap">
      <div class="DocsNavLogoLockup--logo">
        <span title="Cloudflare Rules logo"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48"><path d="M39 4.5H9L7.5 6v35.85l1.5 1.5h30l1.5-1.5V6L39 4.5Zm-1.5 35.85h-27V7.5h27v32.85Z"/><path d="M23.895 11.033H13.89v3h10.005v-3ZM34.028 17.302H13.89v3h20.138v-3ZM34.028 23.573H13.89v3h20.138v-3Z"/></svg></span>
      </div>

      <span class="DocsNavLogoLockup--text">
        <span class="DocsSidebar--docs-title-text-scaler" style="--length:5">Rules</span>
      </span>
    </div>
  </a>

  <button class="Button DocsMobileTitleHeader--sidebar-toggle-button">
    <span class="DocsMobileTitleHeader--sidebar-toggle-button-icon" aria-hidden="true">
      <svg viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" role="img" aria-labelledby="title-1332672649688018"
        xmlns="http://www.w3.org/2000/svg">
        <title id="title-1332672649688018">Navigation menu icon</title>
        <path data-index="1" d="M5, 7h10" transform-origin="10  7"></path>
        <path data-index="2" d="M5,10h10" transform-origin="10 10"></path>
        <path data-index="3" d="M5,13h10" transform-origin="10 13"></path>
      </svg>
      <span is-visually-hidden="">Open external link</span>
    </span>
  </button>
</div>

<div class="DocsMobileNavBackdrop"></div><div class="DocsSidebar">
  <div class="DocsSidebar--sections">
    <div class="DocsSidebar--section DocsSidebar--header-section">
      <a class="DocsSidebar--cloudflare-logo-link DocsSidebar--link" href="/">
        <div class="DocsNavLogoLockup">
          
<div class="DocsNavLogoLockup--logo">
  <svg viewBox="0 0 48 48" fill="currentColor" role="img" aria-labelledby="title - 4dccabf42cde4ef8b586ccc14ad5d8fc" xmlns="http://www.w3.org/2000/svg">
    <title id="title - 4dccabf42cde4ef8b586ccc14ad5d8fc">Cloudflare Docs logomark</title>
    <path d="M31.236 28.717c-.373-.548-1.003-.864-1.76-.9l-14.353-.195a.262.262 0 01-.221-.122.348.348 0 01-.035-.267.396.396 0 01.338-.268l14.48-.195c1.714-.085 3.58-1.533 4.232-3.309l.828-2.25a.503.503 0 00.023-.292c-.932-4.404-4.698-7.689-9.198-7.689-4.15 0-7.672 2.798-8.931 6.679a4.156 4.156 0 00-2.973-.864c-1.994.207-3.59 1.874-3.789 3.954a4.84 4.84 0 00.105 1.545c-3.253.097-5.853 2.871-5.853 6.29 0 .304.024.608.059.912.023.146.14.256.28.256h26.488c.151 0 .291-.11.338-.268l.198-.742c.245-.876.152-1.68-.256-2.275zM36.062 21.39c-.128 0-.268 0-.396.012-.093 0-.175.073-.21.17l-.56 2.032c-.244.876-.151 1.679.257 2.275.373.548 1.003.864 1.76.9l3.055.195c.093 0 .175.049.222.122a.356.356 0 01.035.267.396.396 0 01-.339.268l-3.182.195c-1.726.085-3.58 1.532-4.232 3.309l-.234.62c-.046.122.035.243.164.243h10.935a.289.289 0 00.28-.219 8.654 8.654 0 00.292-2.214c0-4.501-3.521-8.175-7.847-8.175"></path>
  </svg>
</div>
<span class="DocsNavLogoLockup--text">
  <span data-text="Cloudflare">Cloudflare </span>
  <span data-text="Docs">Docs</span>
</span>
        </div>
      </a>
    </div>

    <div class="DocsSidebar--section-separator"></div>

    <div class="DocsSidebar--section DocsSidebar--docs-title-section">
      <a aria-current="page" class="DocsSidebar--docs-title-logo-link DocsSidebar--link" href="/rules/">
        <div class="DocsNavLogoLockup">
          <div class="DocsNavLogoLockup--logo">
            <span title="Cloudflare Rules logo"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48"><path d="M39 4.5H9L7.5 6v35.85l1.5 1.5h30l1.5-1.5V6L39 4.5Zm-1.5 35.85h-27V7.5h27v32.85Z"/><path d="M23.895 11.033H13.89v3h10.005v-3ZM34.028 17.302H13.89v3h20.138v-3ZM34.028 23.573H13.89v3h20.138v-3Z"/></svg></span>
          </div>

          <span class="DocsNavLogoLockup--text">
            <span class="DocsSidebar--docs-title-text-scaler" style="--length:5">Rules</span>
          </span>
        </div>
      </a>

      <div class="DocsSidebar--section-more Dropdown" data-expanded="false">
        <button class="DocsSidebar--section-more-button Button" aria-expanded="false">
          <div class="DocsSidebar--section-more-button-icon">
            <svg viewBox="0 0 4 16" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true" fill="currentColor" role="img" aria-labelledby="title-6032186738345315"
              xmlns="http://www.w3.org/2000/svg">
              <title id="title-6032186738345315">Dropdown icon</title>
              <path d="M2,2v0m0,6v0m0,6v0z"></path>
            </svg>
            <span is-visually-hidden>Rules menu</span>
          </div>
        </button>

        <div class="DocsSidebar--section-more-dropdown Dropdown--dropdown">
          <ul class="Dropdown--list"><li class="Dropdown--item">
                <a class="Dropdown--link" href="https://cloudflare.com" tabindex="-1">Cloudflare homepage</a>
              </li></ul>
        </div>
      </div>
    </div>

    <div class="DocsSidebar--section DocsSidebar--nav-section" style="position:relative;overflow:hidden;width:100%;height:100%">
      <div style="position: absolute; inset: 0px; overflow-y: auto; margin-right: 0px; margin-bottom: 0px;">
        <div class="DocsSidebar--nav-section-shadow" style="opacity: 0;"></div>

        <ul class="DocsSidebar--nav">
          <li class="DocsSidebar--nav-item">
            <a class="DocsSidebar--nav-link" href="/rules/">
              <span class="DocsSidebar--nav-link-highlight"></span>
              <span class="DocsSidebar--nav-link-text">Overview</span>
            </a>
          </li>
          <li class="DocsSidebar--nav-item"><button class="Button DocsSidebar--nav-expand-collapse-button">
      <span class="DocsSidebar--nav-expand-collapse-button-content" aria-hidden="true"></span>
      <span is-visually-hidden>Expand: Transform Rules</span>
    </button><a class="DocsSidebar--nav-link"  href="/rules/transform/"  >
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Transform Rules</span></a><div class="DocsSidebar--nav-item-collapse-container DocsSidebar--nav-item-collapse-hidden" style="min-height:0px;"><div class="DocsSidebar--nav-item-collapse-wrapper">
          <div class="DocsSidebar--nav-item-collapse-wrapperInner">
            <div class="DocsSidebar--nav-item-collapse-content">
              <ul class="DocsSidebar--nav-subnav" depth="1" style="--depth:1"><li class="DocsSidebar--nav-item"><button class="Button DocsSidebar--nav-expand-collapse-button" tabindex="-1">
      <span class="DocsSidebar--nav-expand-collapse-button-content" aria-hidden="true"></span>
      <span is-visually-hidden>Expand: Rewrite URL</span>
    </button><a class="DocsSidebar--nav-link"  href="/rules/transform/url-rewrite/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Rewrite URL</span></a><div class="DocsSidebar--nav-item-collapse-container DocsSidebar--nav-item-collapse-hidden" style="min-height:0px;"><div class="DocsSidebar--nav-item-collapse-wrapper">
          <div class="DocsSidebar--nav-item-collapse-wrapperInner">
            <div class="DocsSidebar--nav-item-collapse-content">
              <ul class="DocsSidebar--nav-subnav" depth="2" style="--depth:2"><li class="DocsSidebar--nav-item"><a class="DocsSidebar--nav-link"  href="/rules/transform/url-rewrite/create-dashboard/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Create a rule in the dashboard</span></a></li><li class="DocsSidebar--nav-item"><a class="DocsSidebar--nav-link"  href="/rules/transform/url-rewrite/create-api/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Create a rule via API</span></a></li><li class="DocsSidebar--nav-item"><button class="Button DocsSidebar--nav-expand-collapse-button" tabindex="-1">
      <span class="DocsSidebar--nav-expand-collapse-button-content" aria-hidden="true"></span>
      <span is-visually-hidden>Expand: Reference</span>
    </button><a class="DocsSidebar--nav-link"  href="/rules/transform/url-rewrite/reference/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Reference</span></a><div class="DocsSidebar--nav-item-collapse-container DocsSidebar--nav-item-collapse-hidden" style="min-height:0px;"><div class="DocsSidebar--nav-item-collapse-wrapper">
          <div class="DocsSidebar--nav-item-collapse-wrapperInner">
            <div class="DocsSidebar--nav-item-collapse-content">
              <ul class="DocsSidebar--nav-subnav" depth="3" style="--depth:3"><li class="DocsSidebar--nav-item"><a class="DocsSidebar--nav-link"  href="/rules/transform/url-rewrite/reference/parameters/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">URL rewrite parameters</span></a></li><li class="DocsSidebar--nav-item"><a class="DocsSidebar--nav-link"  href="/rules/transform/url-rewrite/reference/fields-functions/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Available fields and functions</span></a></li></ul>
            </div>
          </div>
        </div>
      </div></li></ul>
            </div>
          </div>
        </div>
      </div></li><li class="DocsSidebar--nav-item"><button class="Button DocsSidebar--nav-expand-collapse-button" tabindex="-1">
      <span class="DocsSidebar--nav-expand-collapse-button-content" aria-hidden="true"></span>
      <span is-visually-hidden>Expand: Modify request header</span>
    </button><a class="DocsSidebar--nav-link"  href="/rules/transform/request-header-modification/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Modify request header</span></a><div class="DocsSidebar--nav-item-collapse-container DocsSidebar--nav-item-collapse-hidden" style="min-height:0px;"><div class="DocsSidebar--nav-item-collapse-wrapper">
          <div class="DocsSidebar--nav-item-collapse-wrapperInner">
            <div class="DocsSidebar--nav-item-collapse-content">
              <ul class="DocsSidebar--nav-subnav" depth="2" style="--depth:2"><li class="DocsSidebar--nav-item"><a class="DocsSidebar--nav-link"  href="/rules/transform/request-header-modification/create-dashboard/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Create a rule in the dashboard</span></a></li><li class="DocsSidebar--nav-item"><a class="DocsSidebar--nav-link"  href="/rules/transform/request-header-modification/create-api/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Create a rule via API</span></a></li><li class="DocsSidebar--nav-item"><button class="Button DocsSidebar--nav-expand-collapse-button" tabindex="-1">
      <span class="DocsSidebar--nav-expand-collapse-button-content" aria-hidden="true"></span>
      <span is-visually-hidden>Expand: Reference</span>
    </button><a class="DocsSidebar--nav-link"  href="/rules/transform/request-header-modification/reference/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Reference</span></a><div class="DocsSidebar--nav-item-collapse-container DocsSidebar--nav-item-collapse-hidden" style="min-height:0px;"><div class="DocsSidebar--nav-item-collapse-wrapper">
          <div class="DocsSidebar--nav-item-collapse-wrapperInner">
            <div class="DocsSidebar--nav-item-collapse-content">
              <ul class="DocsSidebar--nav-subnav" depth="3" style="--depth:3"><li class="DocsSidebar--nav-item"><a class="DocsSidebar--nav-link"  href="/rules/transform/request-header-modification/reference/header-format/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Format of header names and values</span></a></li><li class="DocsSidebar--nav-item"><a class="DocsSidebar--nav-link"  href="/rules/transform/request-header-modification/reference/fields-functions/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Available fields and functions</span></a></li><li class="DocsSidebar--nav-item"><a class="DocsSidebar--nav-link"  href="/rules/transform/request-header-modification/reference/parameters/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">API parameter reference</span></a></li></ul>
            </div>
          </div>
        </div>
      </div></li></ul>
            </div>
          </div>
        </div>
      </div></li><li class="DocsSidebar--nav-item"><button class="Button DocsSidebar--nav-expand-collapse-button" tabindex="-1">
      <span class="DocsSidebar--nav-expand-collapse-button-content" aria-hidden="true"></span>
      <span is-visually-hidden>Expand: Modify response header</span>
    </button><a class="DocsSidebar--nav-link"  href="/rules/transform/response-header-modification/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Modify response header</span></a><div class="DocsSidebar--nav-item-collapse-container DocsSidebar--nav-item-collapse-hidden" style="min-height:0px;"><div class="DocsSidebar--nav-item-collapse-wrapper">
          <div class="DocsSidebar--nav-item-collapse-wrapperInner">
            <div class="DocsSidebar--nav-item-collapse-content">
              <ul class="DocsSidebar--nav-subnav" depth="2" style="--depth:2"><li class="DocsSidebar--nav-item"><a class="DocsSidebar--nav-link"  href="/rules/transform/response-header-modification/create-dashboard/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Create a rule in the dashboard</span></a></li><li class="DocsSidebar--nav-item"><a class="DocsSidebar--nav-link"  href="/rules/transform/response-header-modification/create-api/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Create a rule via API</span></a></li><li class="DocsSidebar--nav-item"><button class="Button DocsSidebar--nav-expand-collapse-button" tabindex="-1">
      <span class="DocsSidebar--nav-expand-collapse-button-content" aria-hidden="true"></span>
      <span is-visually-hidden>Expand: Reference</span>
    </button><a class="DocsSidebar--nav-link"  href="/rules/transform/response-header-modification/reference/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Reference</span></a><div class="DocsSidebar--nav-item-collapse-container DocsSidebar--nav-item-collapse-hidden" style="min-height:0px;"><div class="DocsSidebar--nav-item-collapse-wrapper">
          <div class="DocsSidebar--nav-item-collapse-wrapperInner">
            <div class="DocsSidebar--nav-item-collapse-content">
              <ul class="DocsSidebar--nav-subnav" depth="3" style="--depth:3"><li class="DocsSidebar--nav-item"><a class="DocsSidebar--nav-link"  href="/rules/transform/response-header-modification/reference/header-format/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Format of header names and values</span></a></li><li class="DocsSidebar--nav-item"><a class="DocsSidebar--nav-link"  href="/rules/transform/response-header-modification/reference/fields-functions/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Available fields and functions</span></a></li><li class="DocsSidebar--nav-item"><a class="DocsSidebar--nav-link"  href="/rules/transform/response-header-modification/reference/parameters/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">API parameter reference</span></a></li></ul>
            </div>
          </div>
        </div>
      </div></li></ul>
            </div>
          </div>
        </div>
      </div></li><li class="DocsSidebar--nav-item"><button class="Button DocsSidebar--nav-expand-collapse-button" tabindex="-1">
      <span class="DocsSidebar--nav-expand-collapse-button-content" aria-hidden="true"></span>
      <span is-visually-hidden>Expand: Managed Transforms</span>
    </button><a class="DocsSidebar--nav-link"  href="/rules/transform/managed-transforms/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Managed Transforms</span></a><div class="DocsSidebar--nav-item-collapse-container DocsSidebar--nav-item-collapse-hidden" style="min-height:0px;"><div class="DocsSidebar--nav-item-collapse-wrapper">
          <div class="DocsSidebar--nav-item-collapse-wrapperInner">
            <div class="DocsSidebar--nav-item-collapse-content">
              <ul class="DocsSidebar--nav-subnav" depth="2" style="--depth:2"><li class="DocsSidebar--nav-item"><a class="DocsSidebar--nav-link"  href="/rules/transform/managed-transforms/configure/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Configure Managed Transforms</span></a></li><li class="DocsSidebar--nav-item"><a class="DocsSidebar--nav-link"  href="/rules/transform/managed-transforms/reference/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Available Managed Transforms</span></a></li></ul>
            </div>
          </div>
        </div>
      </div></li><li class="DocsSidebar--nav-item"><a class="DocsSidebar--nav-link"  href="/rules/transform/manage/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Work with Transform Rules</span></a></li><li class="DocsSidebar--nav-item"><a class="DocsSidebar--nav-link"  href="/rules/transform/troubleshooting/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Troubleshooting</span></a></li><li class="DocsSidebar--nav-item"><a class="DocsSidebar--nav-link"  href="/rules/transform/examples/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Examples</span></a></li></ul>
            </div>
          </div>
        </div>
      </div></li><li class="DocsSidebar--nav-item"><button class="Button DocsSidebar--nav-expand-collapse-button">
      <span class="DocsSidebar--nav-expand-collapse-button-content" aria-hidden="true"></span>
      <span is-visually-hidden>Expand: URL normalization</span>
    </button><a class="DocsSidebar--nav-link"  href="/rules/normalization/"  >
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">URL normalization</span></a><div class="DocsSidebar--nav-item-collapse-container DocsSidebar--nav-item-collapse-hidden" style="min-height:0px;"><div class="DocsSidebar--nav-item-collapse-wrapper">
          <div class="DocsSidebar--nav-item-collapse-wrapperInner">
            <div class="DocsSidebar--nav-item-collapse-content">
              <ul class="DocsSidebar--nav-subnav" depth="1" style="--depth:1"><li class="DocsSidebar--nav-item"><a class="DocsSidebar--nav-link"  href="/rules/normalization/how-it-works/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">How it works</span></a></li><li class="DocsSidebar--nav-item"><a class="DocsSidebar--nav-link"  href="/rules/normalization/manage/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Configure in the dashboard</span></a></li><li class="DocsSidebar--nav-item"><a class="DocsSidebar--nav-link"  href="/rules/normalization/settings/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Settings</span></a></li><li class="DocsSidebar--nav-item"><a class="DocsSidebar--nav-link"  href="/rules/normalization/examples/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Examples</span></a></li></ul>
            </div>
          </div>
        </div>
      </div></li><li class="DocsSidebar--nav-item"><button class="Button DocsSidebar--nav-expand-collapse-button">
      <span class="DocsSidebar--nav-expand-collapse-button-content" aria-hidden="true"></span>
      <span is-visually-hidden>Expand: Redirects</span>
    </button><a class="DocsSidebar--nav-link"  href="/rules/url-forwarding/"  >
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Redirects</span></a><div class="DocsSidebar--nav-item-collapse-container DocsSidebar--nav-item-collapse-hidden" style="min-height:0px;"><div class="DocsSidebar--nav-item-collapse-wrapper">
          <div class="DocsSidebar--nav-item-collapse-wrapperInner">
            <div class="DocsSidebar--nav-item-collapse-content">
              <ul class="DocsSidebar--nav-subnav" depth="1" style="--depth:1"><li class="DocsSidebar--nav-item"><button class="Button DocsSidebar--nav-expand-collapse-button" tabindex="-1">
      <span class="DocsSidebar--nav-expand-collapse-button-content" aria-hidden="true"></span>
      <span is-visually-hidden>Expand: Single Redirects</span>
    </button><a class="DocsSidebar--nav-link"  href="/rules/url-forwarding/single-redirects/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Single Redirects</span></a><div class="DocsSidebar--nav-item-collapse-container DocsSidebar--nav-item-collapse-hidden" style="min-height:0px;"><div class="DocsSidebar--nav-item-collapse-wrapper">
          <div class="DocsSidebar--nav-item-collapse-wrapperInner">
            <div class="DocsSidebar--nav-item-collapse-content">
              <ul class="DocsSidebar--nav-subnav" depth="2" style="--depth:2"><li class="DocsSidebar--nav-item"><a class="DocsSidebar--nav-link"  href="/rules/url-forwarding/single-redirects/create-dashboard/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Create rule in the dashboard</span></a></li><li class="DocsSidebar--nav-item"><a class="DocsSidebar--nav-link"  href="/rules/url-forwarding/single-redirects/create-api/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Create rule via API</span></a></li><li class="DocsSidebar--nav-item"><a class="DocsSidebar--nav-link"  href="/rules/url-forwarding/single-redirects/terraform-example/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Create rule using Terraform</span></a></li><li class="DocsSidebar--nav-item"><a class="DocsSidebar--nav-link"  href="/rules/url-forwarding/single-redirects/settings/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Available settings</span></a></li></ul>
            </div>
          </div>
        </div>
      </div></li><li class="DocsSidebar--nav-item"><button class="Button DocsSidebar--nav-expand-collapse-button" tabindex="-1">
      <span class="DocsSidebar--nav-expand-collapse-button-content" aria-hidden="true"></span>
      <span is-visually-hidden>Expand: Bulk Redirects</span>
    </button><a class="DocsSidebar--nav-link"  href="/rules/url-forwarding/bulk-redirects/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Bulk Redirects</span></a><div class="DocsSidebar--nav-item-collapse-container DocsSidebar--nav-item-collapse-hidden" style="min-height:0px;"><div class="DocsSidebar--nav-item-collapse-wrapper">
          <div class="DocsSidebar--nav-item-collapse-wrapperInner">
            <div class="DocsSidebar--nav-item-collapse-content">
              <ul class="DocsSidebar--nav-subnav" depth="2" style="--depth:2"><li class="DocsSidebar--nav-item"><a class="DocsSidebar--nav-link"  href="/rules/url-forwarding/bulk-redirects/concepts/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Concepts</span></a></li><li class="DocsSidebar--nav-item"><a class="DocsSidebar--nav-link"  href="/rules/url-forwarding/bulk-redirects/how-it-works/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">How it works</span></a></li><li class="DocsSidebar--nav-item"><a class="DocsSidebar--nav-link"  href="/rules/url-forwarding/bulk-redirects/create-dashboard/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Create in the dashboard</span></a></li><li class="DocsSidebar--nav-item"><a class="DocsSidebar--nav-link"  href="/rules/url-forwarding/bulk-redirects/create-api/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Create via API</span></a></li><li class="DocsSidebar--nav-item"><button class="Button DocsSidebar--nav-expand-collapse-button" tabindex="-1">
      <span class="DocsSidebar--nav-expand-collapse-button-content" aria-hidden="true"></span>
      <span is-visually-hidden>Expand: Reference</span>
    </button><a class="DocsSidebar--nav-link"  href="/rules/url-forwarding/bulk-redirects/reference/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Reference</span></a><div class="DocsSidebar--nav-item-collapse-container DocsSidebar--nav-item-collapse-hidden" style="min-height:0px;"><div class="DocsSidebar--nav-item-collapse-wrapper">
          <div class="DocsSidebar--nav-item-collapse-wrapperInner">
            <div class="DocsSidebar--nav-item-collapse-content">
              <ul class="DocsSidebar--nav-subnav" depth="3" style="--depth:3"><li class="DocsSidebar--nav-item"><a class="DocsSidebar--nav-link"  href="/rules/url-forwarding/bulk-redirects/reference/parameters/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">URL redirect parameters</span></a></li><li class="DocsSidebar--nav-item"><a class="DocsSidebar--nav-link"  href="/rules/url-forwarding/bulk-redirects/reference/url-components/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Supported URL components</span></a></li><li class="DocsSidebar--nav-item"><a class="DocsSidebar--nav-link"  href="/rules/url-forwarding/bulk-redirects/reference/fields-functions/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Available fields and functions</span></a></li><li class="DocsSidebar--nav-item"><a class="DocsSidebar--nav-link"  href="/rules/url-forwarding/bulk-redirects/reference/csv-file-format/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">CSV file format</span></a></li><li class="DocsSidebar--nav-item"><a class="DocsSidebar--nav-link"  href="/rules/url-forwarding/bulk-redirects/reference/json-objects/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">API JSON objects</span></a></li></ul>
            </div>
          </div>
        </div>
      </div></li><li class="DocsSidebar--nav-item"><a class="DocsSidebar--nav-link"  href="/rules/url-forwarding/bulk-redirects/faq/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">FAQ</span></a></li></ul>
            </div>
          </div>
        </div>
      </div></li><li class="DocsSidebar--nav-item"><button class="Button DocsSidebar--nav-expand-collapse-button" tabindex="-1">
      <span class="DocsSidebar--nav-expand-collapse-button-content" aria-hidden="true"></span>
      <span is-visually-hidden>Expand: Examples</span>
    </button><a class="DocsSidebar--nav-link"  href="/rules/url-forwarding/examples/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Examples</span></a><div class="DocsSidebar--nav-item-collapse-container DocsSidebar--nav-item-collapse-hidden" style="min-height:0px;"><div class="DocsSidebar--nav-item-collapse-wrapper">
          <div class="DocsSidebar--nav-item-collapse-wrapperInner">
            <div class="DocsSidebar--nav-item-collapse-content">
              <ul class="DocsSidebar--nav-subnav" depth="2" style="--depth:2"><li class="DocsSidebar--nav-item"><a class="DocsSidebar--nav-link"  href="/rules/url-forwarding/examples/perform-mobile-redirects/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Perform mobile redirects</span></a></li><li class="DocsSidebar--nav-item"><a class="DocsSidebar--nav-link"  href="/rules/url-forwarding/examples/redirect-admin-https/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Redirect admin area requests to HTTPS</span></a></li><li class="DocsSidebar--nav-item"><a class="DocsSidebar--nav-link"  href="/rules/url-forwarding/examples/redirect-country-subdomains/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Redirect local visitors to specific subdomains</span></a></li><li class="DocsSidebar--nav-item"><a class="DocsSidebar--nav-link"  href="/rules/url-forwarding/examples/redirect-all-different-domain-root/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Redirect requests for a domain to a new domain</span></a></li><li class="DocsSidebar--nav-item"><a class="DocsSidebar--nav-link"  href="/rules/url-forwarding/examples/redirect-all-country/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Redirect requests from one country to a domain</span></a></li><li class="DocsSidebar--nav-item"><a class="DocsSidebar--nav-link"  href="/rules/url-forwarding/examples/redirect-all-another-domain/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Redirect requests from one domain to another</span></a></li><li class="DocsSidebar--nav-item"><a class="DocsSidebar--nav-link"  href="/rules/url-forwarding/examples/redirect-all-different-hostname/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Redirect requests to a different hostname</span></a></li><li class="DocsSidebar--nav-item"><a class="DocsSidebar--nav-link"  href="/rules/url-forwarding/examples/redirect-new-url/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Redirect visitors to a new page URL</span></a></li><li class="DocsSidebar--nav-item"><a class="DocsSidebar--nav-link"  href="/rules/url-forwarding/examples/remove-locale-url/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Remove locale from URL path</span></a></li></ul>
            </div>
          </div>
        </div>
      </div></li></ul>
            </div>
          </div>
        </div>
      </div></li><li class="DocsSidebar--nav-item"><a class="DocsSidebar--nav-link"  href="/cache/how-to/cache-rules/"  >
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Cache Rules</span><span class="DocsMarkdown--link-external-icon" aria-hidden="true">
  <svg fill="none" stroke="currentColor" stroke-width="1.5" width="23px" height="12px" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 16 16" role="img" aria-labelledby="title-4744738674102027" xmlns="http://www.w3.org/2000/svg">
    <title id="title-4744738674102027">External link icon</title>
    <path d="M6.75,1.75h-5v12.5h12.5v-5m0,-4v-3.5h-3.5M8,8l5.5-5.5"></path>
  </svg>
  <span is-visually-hidden>Open external link</span>
</span></a></li><li class="DocsSidebar--nav-item"><button class="Button DocsSidebar--nav-expand-collapse-button">
      <span class="DocsSidebar--nav-expand-collapse-button-content" aria-hidden="true"></span>
      <span is-visually-hidden>Expand: Origin Rules</span>
    </button><a class="DocsSidebar--nav-link"  href="/rules/origin-rules/"  >
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Origin Rules</span></a><div class="DocsSidebar--nav-item-collapse-container DocsSidebar--nav-item-collapse-hidden" style="min-height:0px;"><div class="DocsSidebar--nav-item-collapse-wrapper">
          <div class="DocsSidebar--nav-item-collapse-wrapperInner">
            <div class="DocsSidebar--nav-item-collapse-content">
              <ul class="DocsSidebar--nav-subnav" depth="1" style="--depth:1"><li class="DocsSidebar--nav-item"><a class="DocsSidebar--nav-link"  href="/rules/origin-rules/create-dashboard/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Create a rule in the dashboard</span></a></li><li class="DocsSidebar--nav-item"><a class="DocsSidebar--nav-link"  href="/rules/origin-rules/create-api/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Create a rule via API</span></a></li><li class="DocsSidebar--nav-item"><a class="DocsSidebar--nav-link"  href="/rules/origin-rules/features/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Available settings</span></a></li><li class="DocsSidebar--nav-item"><a class="DocsSidebar--nav-link"  href="/rules/origin-rules/parameters/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">API parameter reference</span></a></li><li class="DocsSidebar--nav-item"><button class="Button DocsSidebar--nav-expand-collapse-button" tabindex="-1">
      <span class="DocsSidebar--nav-expand-collapse-button-content" aria-hidden="true"></span>
      <span is-visually-hidden>Expand: Examples</span>
    </button><a class="DocsSidebar--nav-link"  href="/rules/origin-rules/examples/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Examples</span></a><div class="DocsSidebar--nav-item-collapse-container DocsSidebar--nav-item-collapse-hidden" style="min-height:0px;"><div class="DocsSidebar--nav-item-collapse-wrapper">
          <div class="DocsSidebar--nav-item-collapse-wrapperInner">
            <div class="DocsSidebar--nav-item-collapse-content">
              <ul class="DocsSidebar--nav-subnav" depth="2" style="--depth:2"><li class="DocsSidebar--nav-item"><a class="DocsSidebar--nav-link"  href="/rules/origin-rules/examples/define-single-origin-terraform/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Define a single origin rule using Terraform</span></a></li></ul>
            </div>
          </div>
        </div>
      </div></li><li class="DocsSidebar--nav-item"><a class="DocsSidebar--nav-link"  href="/rules/origin-rules/faq/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">FAQ</span></a></li></ul>
            </div>
          </div>
        </div>
      </div></li><li class="DocsSidebar--nav-item"><button class="Button DocsSidebar--nav-expand-collapse-button">
      <span class="DocsSidebar--nav-expand-collapse-button-content" aria-hidden="true"></span>
      <span is-visually-hidden>Expand: Configuration Rules</span>
    </button><a class="DocsSidebar--nav-link"  href="/rules/configuration-rules/"  >
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Configuration Rules</span></a><div class="DocsSidebar--nav-item-collapse-container DocsSidebar--nav-item-collapse-hidden" style="min-height:0px;"><div class="DocsSidebar--nav-item-collapse-wrapper">
          <div class="DocsSidebar--nav-item-collapse-wrapperInner">
            <div class="DocsSidebar--nav-item-collapse-content">
              <ul class="DocsSidebar--nav-subnav" depth="1" style="--depth:1"><li class="DocsSidebar--nav-item"><a class="DocsSidebar--nav-link"  href="/rules/configuration-rules/create-dashboard/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Create a rule in the dashboard</span></a></li><li class="DocsSidebar--nav-item"><a class="DocsSidebar--nav-link"  href="/rules/configuration-rules/create-api/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Create a rule via API</span></a></li><li class="DocsSidebar--nav-item"><a class="DocsSidebar--nav-link"  href="/rules/configuration-rules/settings/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Available settings</span></a></li><li class="DocsSidebar--nav-item"><button class="Button DocsSidebar--nav-expand-collapse-button" tabindex="-1">
      <span class="DocsSidebar--nav-expand-collapse-button-content" aria-hidden="true"></span>
      <span is-visually-hidden>Expand: Examples</span>
    </button><a class="DocsSidebar--nav-link"  href="/rules/configuration-rules/examples/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Examples</span></a><div class="DocsSidebar--nav-item-collapse-container DocsSidebar--nav-item-collapse-hidden" style="min-height:0px;"><div class="DocsSidebar--nav-item-collapse-wrapper">
          <div class="DocsSidebar--nav-item-collapse-wrapperInner">
            <div class="DocsSidebar--nav-item-collapse-content">
              <ul class="DocsSidebar--nav-subnav" depth="2" style="--depth:2"><li class="DocsSidebar--nav-item"><a class="DocsSidebar--nav-link"  href="/rules/configuration-rules/examples/define-single-configuration-terraform/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Define a single configuration rule using Terraform</span></a></li></ul>
            </div>
          </div>
        </div>
      </div></li></ul>
            </div>
          </div>
        </div>
      </div></li><li class="DocsSidebar--nav-item"><button class="Button DocsSidebar--nav-expand-collapse-button">
      <span class="DocsSidebar--nav-expand-collapse-button-content" aria-hidden="true"></span>
      <span is-visually-hidden>Expand: Compression Rules</span>
    </button><a class="DocsSidebar--nav-link"  href="/rules/compression-rules/"  >
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Compression Rules</span></a><div class="DocsSidebar--nav-item-collapse-container DocsSidebar--nav-item-collapse-hidden" style="min-height:0px;"><div class="DocsSidebar--nav-item-collapse-wrapper">
          <div class="DocsSidebar--nav-item-collapse-wrapperInner">
            <div class="DocsSidebar--nav-item-collapse-content">
              <ul class="DocsSidebar--nav-subnav" depth="1" style="--depth:1"><li class="DocsSidebar--nav-item"><a class="DocsSidebar--nav-link"  href="/rules/compression-rules/create-dashboard/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Create a rule in the dashboard</span></a></li><li class="DocsSidebar--nav-item"><a class="DocsSidebar--nav-link"  href="/rules/compression-rules/create-api/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Create a rule via API</span></a></li><li class="DocsSidebar--nav-item"><a class="DocsSidebar--nav-link"  href="/rules/compression-rules/settings/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Available settings</span></a></li><li class="DocsSidebar--nav-item"><button class="Button DocsSidebar--nav-expand-collapse-button" tabindex="-1">
      <span class="DocsSidebar--nav-expand-collapse-button-content" aria-hidden="true"></span>
      <span is-visually-hidden>Expand: Examples</span>
    </button><a class="DocsSidebar--nav-link"  href="/rules/compression-rules/examples/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Examples</span></a><div class="DocsSidebar--nav-item-collapse-container DocsSidebar--nav-item-collapse-hidden" style="min-height:0px;"><div class="DocsSidebar--nav-item-collapse-wrapper">
          <div class="DocsSidebar--nav-item-collapse-wrapperInner">
            <div class="DocsSidebar--nav-item-collapse-content">
              <ul class="DocsSidebar--nav-subnav" depth="2" style="--depth:2"><li class="DocsSidebar--nav-item"><a class="DocsSidebar--nav-link"  href="/rules/compression-rules/examples/disable-all-brotli/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Disable Brotli compression</span></a></li><li class="DocsSidebar--nav-item"><a class="DocsSidebar--nav-link"  href="/rules/compression-rules/examples/disable-compression-avif/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Disable compression for AVIF images</span></a></li><li class="DocsSidebar--nav-item"><a class="DocsSidebar--nav-link"  href="/rules/compression-rules/examples/gzip-for-csv/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Use Gzip compression for CSV files</span></a></li><li class="DocsSidebar--nav-item"><a class="DocsSidebar--nav-link"  href="/rules/compression-rules/examples/only-brotli-url-path/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Use only Brotli compression for a specific path</span></a></li></ul>
            </div>
          </div>
        </div>
      </div></li></ul>
            </div>
          </div>
        </div>
      </div></li><li class="DocsSidebar--nav-item"><button class="Button DocsSidebar--nav-expand-collapse-button">
      <span class="DocsSidebar--nav-expand-collapse-button-content" aria-hidden="true"></span>
      <span is-visually-hidden>Expand: Snippets</span>
    </button><a class="DocsSidebar--nav-link"  href="/rules/snippets/"  >
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Snippets</span></a><div class="DocsSidebar--nav-item-collapse-container DocsSidebar--nav-item-collapse-hidden" style="min-height:0px;"><div class="DocsSidebar--nav-item-collapse-wrapper">
          <div class="DocsSidebar--nav-item-collapse-wrapperInner">
            <div class="DocsSidebar--nav-item-collapse-content">
              <ul class="DocsSidebar--nav-subnav" depth="1" style="--depth:1"><li class="DocsSidebar--nav-item"><a class="DocsSidebar--nav-link"  href="/rules/snippets/create-dashboard/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Create in the dashboard</span></a></li></ul>
            </div>
          </div>
        </div>
      </div></li><li class="DocsSidebar--nav-item"><button class="Button DocsSidebar--nav-expand-collapse-button">
      <span class="DocsSidebar--nav-expand-collapse-button-content" aria-hidden="true"></span>
      <span is-visually-hidden>Expand: Custom error responses</span>
    </button><a class="DocsSidebar--nav-link"  href="/rules/custom-error-responses/"  >
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Custom error responses</span></a><div class="DocsSidebar--nav-item-collapse-container DocsSidebar--nav-item-collapse-hidden" style="min-height:0px;"><div class="DocsSidebar--nav-item-collapse-wrapper">
          <div class="DocsSidebar--nav-item-collapse-wrapperInner">
            <div class="DocsSidebar--nav-item-collapse-content">
              <ul class="DocsSidebar--nav-subnav" depth="1" style="--depth:1"><li class="DocsSidebar--nav-item"><a class="DocsSidebar--nav-link"  href="/rules/custom-error-responses/create-api/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Create via API</span></a></li><li class="DocsSidebar--nav-item"><a class="DocsSidebar--nav-link"  href="/rules/custom-error-responses/parameters/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Parameters</span></a></li><li class="DocsSidebar--nav-item"><a class="DocsSidebar--nav-link"  href="/rules/custom-error-responses/error-tokens/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Error tokens</span></a></li></ul>
            </div>
          </div>
        </div>
      </div></li><li class="DocsSidebar--nav-item"><button class="Button DocsSidebar--nav-expand-collapse-button">
      <span class="DocsSidebar--nav-expand-collapse-button-content" aria-hidden="true"></span>
      <span is-visually-hidden>Expand: Page Rules</span>
    </button><a class="DocsSidebar--nav-link"  href="/rules/page-rules/"  >
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Page Rules</span></a><div class="DocsSidebar--nav-item-collapse-container DocsSidebar--nav-item-collapse-hidden" style="min-height:0px;"><div class="DocsSidebar--nav-item-collapse-wrapper">
          <div class="DocsSidebar--nav-item-collapse-wrapperInner">
            <div class="DocsSidebar--nav-item-collapse-content">
              <ul class="DocsSidebar--nav-subnav" depth="1" style="--depth:1"><li class="DocsSidebar--nav-item"><a class="DocsSidebar--nav-link"  href="/rules/page-rules/manage/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Manage</span></a></li><li class="DocsSidebar--nav-item"><button class="Button DocsSidebar--nav-expand-collapse-button" tabindex="-1">
      <span class="DocsSidebar--nav-expand-collapse-button-content" aria-hidden="true"></span>
      <span is-visually-hidden>Expand: How to</span>
    </button><a class="DocsSidebar--nav-link"  href="/rules/page-rules/how-to/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">How to</span></a><div class="DocsSidebar--nav-item-collapse-container DocsSidebar--nav-item-collapse-hidden" style="min-height:0px;"><div class="DocsSidebar--nav-item-collapse-wrapper">
          <div class="DocsSidebar--nav-item-collapse-wrapperInner">
            <div class="DocsSidebar--nav-item-collapse-content">
              <ul class="DocsSidebar--nav-subnav" depth="2" style="--depth:2"><li class="DocsSidebar--nav-item"><a class="DocsSidebar--nav-link"  href="/rules/page-rules/how-to/url-forwarding/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">URL forwarding</span></a></li><li class="DocsSidebar--nav-item"><a class="DocsSidebar--nav-link"  href="/rules/page-rules/how-to/override-url-or-ip-address/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Override URL or IP address</span></a></li><li class="DocsSidebar--nav-item"><a class="DocsSidebar--nav-link"  href="/rules/page-rules/how-to/rewrite-host-headers/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Rewrite Host headers</span></a></li></ul>
            </div>
          </div>
        </div>
      </div></li><li class="DocsSidebar--nav-item"><button class="Button DocsSidebar--nav-expand-collapse-button" tabindex="-1">
      <span class="DocsSidebar--nav-expand-collapse-button-content" aria-hidden="true"></span>
      <span is-visually-hidden>Expand: Reference</span>
    </button><a class="DocsSidebar--nav-link"  href="/rules/page-rules/reference/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Reference</span></a><div class="DocsSidebar--nav-item-collapse-container DocsSidebar--nav-item-collapse-hidden" style="min-height:0px;"><div class="DocsSidebar--nav-item-collapse-wrapper">
          <div class="DocsSidebar--nav-item-collapse-wrapperInner">
            <div class="DocsSidebar--nav-item-collapse-content">
              <ul class="DocsSidebar--nav-subnav" depth="2" style="--depth:2"><li class="DocsSidebar--nav-item"><a class="DocsSidebar--nav-link"  href="/rules/page-rules/reference/settings/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Settings</span></a></li><li class="DocsSidebar--nav-item"><a class="DocsSidebar--nav-link"  href="/rules/page-rules/reference/additional-reference/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Additional reference</span></a></li><li class="DocsSidebar--nav-item"><a class="DocsSidebar--nav-link"  href="/rules/page-rules/reference/wildcard-matching/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Wildcard matching</span></a></li><li class="DocsSidebar--nav-item"><a class="DocsSidebar--nav-link"  href="/rules/page-rules/reference/recommended-rules/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Recommended rules</span></a></li></ul>
            </div>
          </div>
        </div>
      </div></li><li class="DocsSidebar--nav-item"><button class="Button DocsSidebar--nav-expand-collapse-button" tabindex="-1">
      <span class="DocsSidebar--nav-expand-collapse-button-content" aria-hidden="true"></span>
      <span is-visually-hidden>Expand: Troubleshooting</span>
    </button><a class="DocsSidebar--nav-link"  href="/rules/page-rules/troubleshooting/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Troubleshooting</span></a><div class="DocsSidebar--nav-item-collapse-container DocsSidebar--nav-item-collapse-hidden" style="min-height:0px;"><div class="DocsSidebar--nav-item-collapse-wrapper">
          <div class="DocsSidebar--nav-item-collapse-wrapperInner">
            <div class="DocsSidebar--nav-item-collapse-content">
              <ul class="DocsSidebar--nav-subnav" depth="2" style="--depth:2"><li class="DocsSidebar--nav-item"><a class="DocsSidebar--nav-link"  href="/rules/page-rules/troubleshooting/general/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">General</span></a></li><li class="DocsSidebar--nav-item"><a class="DocsSidebar--nav-link"  href="/rules/page-rules/troubleshooting/billing-and-subscription/"   tabindex="-1">
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Billing and subscription</span></a></li></ul>
            </div>
          </div>
        </div>
      </div></li></ul>
            </div>
          </div>
        </div>
      </div></li><li class="DocsSidebar--nav-item" is-active-root is-expanded><button class="Button DocsSidebar--nav-expand-collapse-button">
      <span class="DocsSidebar--nav-expand-collapse-button-content" aria-hidden="true"></span>
      <span is-visually-hidden>Expand: Reference</span>
    </button><a class="DocsSidebar--nav-link"  href="/rules/reference/"  >
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Reference</span></a><div class="DocsSidebar--nav-item-collapse-container DocsSidebar--nav-item-collapse-expanded" style="min-height:0px;transition-duration:400ms" is-expanded><div class="DocsSidebar--nav-item-collapse-wrapper">
          <div class="DocsSidebar--nav-item-collapse-wrapperInner">
            <div class="DocsSidebar--nav-item-collapse-content">
              <ul class="DocsSidebar--nav-subnav" depth="1" style="--depth:1"><li class="DocsSidebar--nav-item"><a class="DocsSidebar--nav-link"  href="/ruleset-engine/rules-language/"  >
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Rules language</span><span class="DocsMarkdown--link-external-icon" aria-hidden="true">
  <svg fill="none" stroke="currentColor" stroke-width="1.5" width="23px" height="12px" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 16 16" role="img" aria-labelledby="title-4744738674102027" xmlns="http://www.w3.org/2000/svg">
    <title id="title-4744738674102027">External link icon</title>
    <path d="M6.75,1.75h-5v12.5h12.5v-5m0,-4v-3.5h-3.5M8,8l5.5-5.5"></path>
  </svg>
  <span is-visually-hidden>Open external link</span>
</span></a></li><li class="DocsSidebar--nav-item"><a class="DocsSidebar--nav-link"  href="/rules/reference/troubleshooting/"  >
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Troubleshooting</span></a></li><li class="DocsSidebar--nav-item"><a class="DocsSidebar--nav-link"  href="/rules/reference/esc-deprecation/"  >
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Edge Side Code deprecation</span></a></li><li class="DocsSidebar--nav-item" is-active><a aria-current="page" class="DocsSidebar--nav-link"  href="/rules/reference/page-rules-migration/"   is-active>
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Page Rules migration guide</span></a></li></ul>
            </div>
          </div>
        </div>
      </div></li><li class="DocsSidebar--nav-item"><a class="DocsSidebar--nav-link"  href="/rules/changelog/"  >
      <span class="DocsSidebar--nav-link-highlight"></span>
      <span class="DocsSidebar--nav-link-text">Changelog</span></a></li></ul>
      </div>
      <div style="position:absolute;height:6px;display:none;right:2px;bottom:2px;left:2px;border-radius:3px">
        <div style="position:relative;display:block;height:100%;cursor:pointer;border-radius:inherit;background-color:rgba(0,0,0,.2)"></div>
      </div>
      <div style="position:absolute;width:6px;display:none" class="Scrollbars--track Scrollbars--track-vertical">
        <div style="position:relative;display:block;width:100%" class="Scrollbars--thumb Scrollbars--thumb-vertical"></div>
      </div>
    </div>
  </div>
  <div class="DocsSidebar--shadow"></div>
</div><div class="DocsToolbar">

<div class="DocsToolbar--search">
  <div class="DocsSearch">
    <div id="algolia"></div>
  </div>
</div>
<div class="DocsToolbar--tools"><div class="Tooltip---root">
  <a class="DocsToolbar--feedback Button Button-is-docs-secondary" href="https://github.com/cloudflare/cloudflare-docs/blob/production/content/rules/reference/page-rules-migration/index.md" target="_blank">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64">
      <path d="M22.742 47.456L23.757 46.912L52.175 18.573V15.743L42.254 5.823H39.428L11.012 34.16L10.461 35.193L8.03899 47.614L10.399 49.957L22.742 47.456ZM14.27 36.56L40.84 10.06L47.932 17.152L21.358 43.652L12.538 45.439L14.27 36.56Z" fill="currentColor"/>
      <path d="M56.002 54H7.99799V58H56.002V54Z" fill="currentColor"/>
      </svg>Edit
  </a>
  <span class="Tooltip" role="tooltip" position="bottom-end">
    Edit this page
  </span>
</div>
  <div class="DocsToolbar--tools-spacer"></div>
  <div class="Tooltip---root">
  <a class="DocsToolbar--feedback Button Button-is-docs-secondary" href="https://github.com/cloudflare/cloudflare-docs/issues/new/choose" target="_blank">
    <svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 17">
      <path d="M14 2.5H2l-.5.5v11.165l.863.345 2.852-3.01H14l.5-.5V3l-.5-.5Zm-.5 8H4.785L2.5 12.911V3.5h11v7Z"
        fill="currentColor"></path>
      <path d="M12.5 5.003h-9v1h9v-1ZM12.5 7.5h-9v1h9v-1Z" fill="currentColor"></path>
    </svg>Issue
  </a>
  <span class="Tooltip" role="tooltip" position="bottom-end">
    Report an issue with this page
  </span>
  </div>

  <div class="DocsToolbar--tools-spacer"></div>
  <div class="Tooltip---root">
  <a class="DocsToolbar--feedback Button Button-is-docs-primary" href="https://dash.cloudflare.com/login" target="_blank">
    <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 64 64">
      <path d="M36.85 34.76H27.17C21.5587 34.7653 16.1786 36.996 12.2099 40.9629C8.24121 44.9297 6.00794 50.3087 6 55.92L8 57.92H56L58 55.92C57.9921 50.3122 55.7615 44.9362 51.7972 40.9699C47.8328 37.0037 42.4578 34.7706 36.85 34.76ZM10.12 53.92C10.6165 49.7453 12.6256 45.8972 15.7674 43.1037C18.9092 40.3102 22.9659 38.7648 27.17 38.76H36.85C41.0455 38.777 45.09 40.3278 48.2213 43.1202C51.3526 45.9126 53.3546 49.7538 53.85 53.92H10.12Z" fill="currentColor"/>
      <path d="M32.05 32C34.8189 32 37.5257 31.1789 39.828 29.6406C42.1303 28.1022 43.9247 25.9157 44.9843 23.3576C46.0439 20.7994 46.3212 17.9845 45.781 15.2687C45.2408 12.553 43.9074 10.0584 41.9495 8.10051C39.9916 6.14258 37.497 4.80921 34.7813 4.26901C32.0655 3.72882 29.2506 4.00607 26.6924 5.06569C24.1343 6.12532 21.9478 7.91973 20.4094 10.222C18.8711 12.5243 18.05 15.2311 18.05 18C18.05 21.713 19.525 25.274 22.1505 27.8995C24.776 30.525 28.337 32 32.05 32ZM32.05 8.00001C34.0278 8.00001 35.9612 8.5865 37.6057 9.68531C39.2502 10.7841 40.5319 12.3459 41.2888 14.1732C42.0457 16.0004 42.2437 18.0111 41.8579 19.9509C41.472 21.8907 40.5196 23.6725 39.1211 25.0711C37.7225 26.4696 35.9407 27.422 34.0009 27.8079C32.0611 28.1937 30.0504 27.9957 28.2232 27.2388C26.3959 26.4819 24.8341 25.2002 23.7353 23.5557C22.6365 21.9112 22.05 19.9778 22.05 18C22.05 15.3478 23.1036 12.8043 24.9789 10.9289C26.8543 9.05357 29.3978 8.00001 32.05 8.00001Z"  fill="currentColor"/>
      </svg>Log&nbsp;in
  </a>
  <span class="Tooltip" role="tooltip" position="bottom-end">
    Log into the Cloudflare dashboard
  </span>
  </div>
  

  <div class="DocsToolbar--tools-spacer"></div>

  <div class="DocsToolbar--theme-toggle">
    <button id="MobileSearch" onclick='document.querySelector(".DocSearch.DocSearch-Button").click()'>
      <svg viewBox="0 0 16 16" fill="currentColor" role="img" aria-labelledby="title-9701125841014673"
        xmlns="http://www.w3.org/2000/svg">
        <title id="title-9701125841014673">Search icon (depiction of a magnifying glass)</title>
        <path
          d="M11.999 10.585l3.458 3.458a1 1 0 01-1.414 1.414L10.585 12a6.5 6.5 0 111.414-1.414zM6.75 11.5a4.75 4.75 0 100-9.5 4.75 4.75 0 000 9.5z">
        </path>
      </svg>
    </button><div class="Tooltip---root">
  <div class="ThemeToggle">
    <input type="checkbox" id="ThemeToggle" class="ThemeToggle--input">

    <label class="ThemeToggle--toggle" for="ThemeToggle">
      <div class="ThemeToggle--toggle-handle"></div>

      <div class="ThemeToggle--toggle-handle-icon ThemeToggle--sun">
        <svg viewBox="0 0 16 16" fill="currentColor" role="img" aria-labelledby="title-8812071124069258"
          xmlns="http://www.w3.org/2000/svg">
          <title id="title-8812071124069258">Light theme icon (depiction of a sun)</title>
          <path
            d="M7.5 11.465a3.482 3.482 0 01-1.596-.662L4.11 12.596a.5.5 0 01-.707-.707l1.793-1.793A3.482 3.482 0 014.535 8.5H2a.5.5 0 010-1h2.535a3.482 3.482 0 01.662-1.596L3.404 4.11a.5.5 0 01.707-.707l1.793 1.793A3.482 3.482 0 017.5 4.535V2a.5.5 0 011 0v2.535a3.482 3.482 0 011.596.662l1.793-1.793a.5.5 0 01.707.707l-1.793 1.793c.343.458.577 1.003.662 1.596H14a.5.5 0 110 1h-2.535a3.482 3.482 0 01-.662 1.596l1.793 1.793a.5.5 0 01-.707.707l-1.793-1.793a3.482 3.482 0 01-1.596.662V14a.5.5 0 11-1 0v-2.535z">
          </path>
        </svg>
      </div>

      <div class="ThemeToggle--toggle-handle-icon ThemeToggle--moon">
        <svg viewBox="0 0 16 16" fill="currentColor" role="img" aria-labelledby="title-5971296394189265"
          xmlns="http://www.w3.org/2000/svg">
          <title id="title-5971296394189265">Dark theme icon (depiction of a moon)</title>
          <path d="M7.067 3.087a5 5 0 005.466 7.026 5 5 0 11-5.466-7.026z"></path>
        </svg>
      </div>
    </label>

    <span class="Tooltip" id="ThemeToggle--tooltip" role="tooltip" position="bottom-end">Set theme to dark (⇧+D)</span>
  </div>
</div></div>
</div>
</div>

    <main class="DocsBody"><div class="DocsBody--sidebar" with-styled-webkit-scrollbars="">
  <div class="DocsBody--sidebar-content-scroll-fade"></div>
  <div class="DocsBody--sidebar-content">
      <ul class="DocsTableOfContents" hidden>
        <li><a class="DocsTableOfContents-link" href="#docs-content">↑ Top</a></li>
      </ul>
  </div>
</div>
<div id="docs-content" data-reach-skip-nav-content></div>
<ol class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList">
    <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
      <a href="/products/" class="DocsMarkdown--link" itemprop="item">
        <span itemprop="name" class="DocsMarkdown--link-content">Products</span></a>
      <meta itemprop="position" content="1" />
    </li><li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
          <a href="/rules/" itemprop="item" class="DocsMarkdown--link" >
            <span class="DocsMarkdown--link-content"  itemprop="name" >Rules</span></a><meta itemprop="position" content="2" />
        </li><li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
          <a href="/rules/reference/" itemprop="item" class="DocsMarkdown--link" >
            <span class="DocsMarkdown--link-content"  itemprop="name" >Reference</span></a><meta itemprop="position" content="3" />
        </li><li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
          <a href="/rules/reference/page-rules-migration/" itemprop="item" class="DocsMarkdown--link" >
            <span class="DocsMarkdown--link-content"  itemprop="name" >Page Rules migration guide</span></a><meta itemprop="position" content="4" />
        </li></ol><div class="DocsContent" id="main" page-type="document">

        <article class="DocsMarkdown">
  <h1 id="page-rules-migration-guide">Page Rules migration guide</h1><p>Cloudflare recommends that you consider using modern Rules features for your new implementations instead of Page Rules. Follow the recommendations in this migration guide to learn about the <a href=/rules/ class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">new Rules products</span></a> and how you can start adopting them today.</p>
<h2 id="page-rules-migration">
    <span class="DocsMarkdown--header-anchor-positioner">
      <a class="DocsMarkdown--header-anchor Link Link-without-underline" href="#page-rules-migration">&#8203;​</a>
    </span>
    <span>Page Rules migration</span>
  </h2><p>Cloudflare plans to migrate your existing Page Rules during 2025. You do not need to migrate your own rules, as Cloudflare will handle this process for you. However, it is beneficial to understand the correspondence between the different Page Rules settings and new Rules features ahead of the migration. This will help you familiarize yourself with implementing the new types of rules in your Cloudflare account.</p>
<p>We encourage you to explore and start using the new Rules products to take advantage of their enhanced capabilities and features. This migration guide will be updated in the coming months with additional information about the Page Rules migration. Some instructions may also change as we simplify configuration deployment and release new features as part of this project. Cloudflare users will receive email updates about the migration of the Page Rules configured on their Cloudflare account before the migration occurs. We will not perform any migration or changes on your behalf without prior notification.</p>
<h2 id="context">
    <span class="DocsMarkdown--header-anchor-positioner">
      <a class="DocsMarkdown--header-anchor Link Link-without-underline" href="#context">&#8203;​</a>
    </span>
    <span>Context</span>
  </h2><p>Cloudflare Page Rules has several fundamental limitations, such as triggering solely based on URL patterns and being limited to 125 rules per zone for performance reasons. These rules are also complex to debug when multiple page rules apply to the same incoming request.</p>
<p>In 2022, we announced in our blog post <a href="https://blog.cloudflare.com/future-of-page-rules" class="DocsMarkdown--link" target="_blank" rel="noopener">
  <span class="DocsMarkdown--link-content">The future of Page Rules</span><span class="DocsMarkdown--link-external-icon" aria-hidden="true">
  <svg fill="none" stroke="currentColor" stroke-width="1.5" width="23px" height="12px" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 16 16" role="img" aria-labelledby="title-4744738674102027" xmlns="http://www.w3.org/2000/svg">
    <title id="title-4744738674102027">External link icon</title>
    <path d="M6.75,1.75h-5v12.5h12.5v-5m0,-4v-3.5h-3.5M8,8l5.5-5.5"></path>
  </svg>
  <span is-visually-hidden>Open external link</span>
</span></a> that Page Rules would be replaced with a suite of dedicated products, each built to be best-of-breed and put more power into the hands of our users. The new Rules products — <a href=/rules/configuration-rules/ class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Configuration Rules</span></a>, <a href=/rules/compression-rules/ class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Compression Rules</span></a>, <a href=/rules/origin-rules/ class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Origin Rules</span></a>, <a href=/rules/url-forwarding/ class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Redirects</span></a>, and <a href=/rules/transform/ class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Transform Rules</span></a> — are now generally available (GA) and have already been adopted by tens of thousands of Cloudflare customers.</p>
<p>Improvements in modern Rules features include:</p>
<ul>
<li><strong>New engine</strong>: New Rules features are powered by the <a href=/ruleset-engine/ class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Ruleset Engine</span></a>, which offers versatile configuration with a robust language that supports many HTTP request and response fields.</li>
<li><strong>Improved scalability</strong>: Thanks to the improved scalability, Cloudflare plans now have increased quotas.</li>
<li><strong>Easier troubleshooting</strong>: Rule execution is more predictable, since each rule operates independently, simplifying troubleshooting. Additionally, <a href=/fundamentals/basic-tasks/trace-request/ class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Cloudflare Trace</span></a> helps understand rule interactions.</li>
<li><strong>Improved consistency</strong>: New Rules features also ensure consistency, with common fields and capabilities shared across products, offering a seamless experience and predictable Terraform configurations.</li>
</ul>
<h2 id="important-differences">
    <span class="DocsMarkdown--header-anchor-positioner">
      <a class="DocsMarkdown--header-anchor Link Link-without-underline" href="#important-differences">&#8203;​</a>
    </span>
    <span>Important differences</span>
  </h2><p>The evaluation and execution order of Rules features is different from Page Rules:</p>
<ul>
<li>Requests handled by Workers will suppress Page Rules actions, but they will not suppress actions from modern Rules features.</li>
<li>The first Page Rule to match is applied (also called first match). In contrast, other rules like Cache Rules are stackable. This means that multiple matching rules can be combined and applied to the same request (last match). For example, if multiple cache rules match the same URL, then the features set in those cache rules will all be applied in order. For more information, refer to <a href=/cache/how-to/cache-rules/order/ class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Order and priority</span></a> in the Cache documentation and the <a href=/rules/origin-rules/faq/#what-happens-if-more-than-one-origin-rule-matches-the-current-request class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Origin Rules FAQ</span></a>.</li>
<li>A Page Rule may include multiple configurations for different products that are applied in a sequence selected by the customer. In contrast, modern Rules features are evaluated <a href=/rules/origin-rules/#execution-order class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">in a fixed sequence</span></a>, with a customer being able to define the rule order within a product <a href=/ruleset-engine/reference/phases-list/ class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">phase</span></a>. Refer to the <a href=/ruleset-engine/about/ class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Ruleset Engine documentation</span></a> for more information.</li>
<li>Modern Rules features will take precedence over Page Rules. For example, if you have Page Rules and Cache Rules defining caching settings for the same path, Cache Rules will take precedence.</li>
</ul>
<h3 id="behavior-change-in-cache-rules">
    <span class="DocsMarkdown--header-anchor-positioner">
      <a class="DocsMarkdown--header-anchor Link Link-without-underline" href="#behavior-change-in-cache-rules">&#8203;​</a>
    </span>
    <span>Behavior change in Cache Rules</span>
  </h3><p>There is a behavior change between Page Rules and Cache Rules: when you select <strong>Eligible for cache</strong> in a cache rule, the Cache Everything feature is now enabled by default.</p>
<p>If you need to keep the exact same behavior you had with Page Rules, you will need to make some additional configurations. For details, refer to <a href=/cache/how-to/cache-rules/page-rules-migration/ class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Migration from Page Rules</span></a> in the Cache documentation.</p>
<h2 id="convert-page-rules-urls-to-filter-expressions">
    <span class="DocsMarkdown--header-anchor-positioner">
      <a class="DocsMarkdown--header-anchor Link Link-without-underline" href="#convert-page-rules-urls-to-filter-expressions">&#8203;​</a>
    </span>
    <span>Convert Page Rules URLs to filter expressions</span>
  </h2><p>When migrating a Page Rule you will need to write a filter expression equivalent to your Page Rules URL using the Rules language.</p>
<p>Rule filter expressions are built differently from Page Rules URLs. You can use different elements of the Rules language in a filter expression, including <a href=/ruleset-engine/rules-language/fields/ class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">fields</span></a>, <a href=/ruleset-engine/rules-language/functions/ class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">functions</span></a>, and <a href=/ruleset-engine/rules-language/operators/ class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">operators</span></a>.</p>
<p>You will need to adapt your Page Rules URLs when migrating them to modern rules. In the Rules language, use the <code>wildcard</code> and <code>strict wildcard</code> operators (case insensitive and case sensitive operator, respectively) for <a href=/ruleset-engine/rules-language/operators/#wildcard-matching class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">wildcard matching</span></a>. Enterprise and Business customers can use regular expressions, but it will also require adapting the original URLs in your Page Rules to regular expressions.</p>
<h3 id="matching-full-uris-with-wildcards">
    <span class="DocsMarkdown--header-anchor-positioner">
      <a class="DocsMarkdown--header-anchor Link Link-without-underline" href="#matching-full-uris-with-wildcards">&#8203;​</a>
    </span>
    <span>Matching full URIs with wildcards</span>
  </h3><p>The Page Rules URL matching does not take into account the URI scheme (for example, <code>https://</code>) and the query string of incoming requests, unless included in the rule URL. However, the <code>http.request.full_uri</code> field used in filter expressions includes the URI scheme and the query string (when the incoming request includes one). When writing a filter expression equivalent to a Page Rule URL, you may want to perform wildcard matching on the full URI. To check for a match regardless of the URI scheme and query string, you can add a <code>*</code> wildcard at the beginning and at the end of the literal string with wildcards.</p>
<p>For example, if you were using the Page Rules URL <code>example.com/*/downloads/*.txt</code>, in modern Rules features you could use an expression such as <code>http.request.full_uri wildcard *example.com/*/downloads/*.txt*</code> to make sure it matches any scheme and any query string.</p>
<p>Alternatively, you could match on individual hostname and URI path fields instead of the full URI field. For example, <code>http.host eq &quot;example.com&quot; and http.request.uri.path wildcard &quot;/*/downloads/*.txt&quot;</code>. This was the conversion method followed in the table with example conversions from Page Rules URLs to filter expressions.</p>
<h3 id="example-conversions-from-page-rules-urls-to-filter-expressions">
    <span class="DocsMarkdown--header-anchor-positioner">
      <a class="DocsMarkdown--header-anchor Link Link-without-underline" href="#example-conversions-from-page-rules-urls-to-filter-expressions">&#8203;​</a>
    </span>
    <span>Example conversions from Page Rules URLs to filter expressions</span>
  </h3><p>The following table lists the most common Page Rule URLs and their equivalent filters:</p>

<div class="DocsMarkdown--table-wrap" style="font-size: 87%"><div class="DocsMarkdown--table-wrap-inner">
    <table>
<thead>
<tr>
<th>Target and components</th>
<th><div style="width:130px">Page Rule URL example</div></th>
<th>Filter expression using Rules language</th>
</tr>
</thead>
<tbody>
<tr>
<td>Index page of root domain only<br><em>(Domain + Path)</em></td>
<td><code>example.com/</code></td>
<td><code>http.host eq &quot;example.com&quot; and http.request.uri.path eq &quot;/&quot;</code></td>
</tr>
<tr>
<td>Everything on a specific domain<br><em>(Domain)</em></td>
<td><code>example.com/*</code></td>
<td><code>http.host eq &quot;example.com&quot;</code></td>
</tr>
<tr>
<td>All subdomains and URLs on a specific domain<br><em>(Domain)</em></td>
<td><code>*example.com/*</code></td>
<td><code>http.host contains &quot;example.com&quot;</code></td>
</tr>
<tr>
<td>Only subdomains and their URLs<br><em>(Domain)</em></td>
<td><code>*.example.com/*</code></td>
<td><code>http.host contains &quot;.example.com&quot;</code></td>
</tr>
<tr>
<td>Specific file on subdomains of a specific domain<br><em>(Domain + Path)</em></td>
<td><code>*.example.com/*wp-login.php</code></td>
<td><code>ends_with(http.host, &quot;.example.com&quot;) and ends_with(http.request.uri.path, &quot;wp-login.php&quot;)</code></td>
</tr>
<tr>
<td>Specific file extension in a directory or its subdirectories of a domain<br><em>(Domain + Path)</em></td>
<td><code>example.com/archives/*.zip</code></td>
<td><code>http.host eq &quot;example.com&quot; and starts_with(http.request.uri.path, &quot;/archives/&quot;) and http.request.uri.path.extension eq &quot;zip&quot;</code></td>
</tr>
<tr>
<td>Specific file extension in any subdirectory of a domain<br><em>(Domain + Path)</em></td>
<td><code>example.com/*/downloads/*.txt</code></td>
<td><code>http.host eq &quot;example.com&quot; and not starts_with(http.request.uri.path, &quot;/downloads/&quot;) and http.request.uri.path contains &quot;/downloads/&quot; and http.request.uri.path.extension eq &quot;txt&quot;</code></td>
</tr>
<tr>
<td>Specific directory and all its contents on all subdomains of a specific subdomain<br><em>(Domain + Path)</em></td>
<td><code>*cdn.example.com/file/*</code></td>
<td><code>http.request.full_uri contains &quot;cdn.example.com/file/&quot;</code></td>
</tr>
<tr>
<td>Specific URL on all domains<br><em>(Path)</em></td>
<td><code>*/images</code><br>(required <a href=/cloudflare-for-platforms/cloudflare-for-saas/ class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Cloudflare for SaaS</span></a>)</td>
<td><code>http.request.uri.path eq &quot;/images&quot;</code></td>
</tr>
<tr>
<td>Specific directory and its subdirectories on all domains<br><em>(Path)</em></td>
<td><code>*/images/*</code><br>(required <a href=/cloudflare-for-platforms/cloudflare-for-saas/ class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Cloudflare for SaaS</span></a>)</td>
<td><code>starts_with(http.request.uri.path, &quot;/images/&quot;)</code></td>
</tr>
<tr>
<td>Specific file in any directory<br><em>(Path)</em></td>
<td><code>*/wp-login.php</code><br>(required <a href=/cloudflare-for-platforms/cloudflare-for-saas/ class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Cloudflare for SaaS</span></a>)</td>
<td><code>ends_with(http.request.uri.path, &quot;/wp-login.php&quot;)</code></td>
</tr>
<tr>
<td>Specific query string on all domains<br><em>(Path)</em></td>
<td><code>*/*?country=GB</code><br>(required <a href=/cloudflare-for-platforms/cloudflare-for-saas/ class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Cloudflare for SaaS</span></a>)</td>
<td><code>http.request.uri.query eq &quot;country=GB&quot;</code></td>
</tr>
<tr>
<td>Part of a query string on all domains<br><em>(Path)</em></td>
<td><code>*/*?*country=GB*</code><br>(required <a href=/cloudflare-for-platforms/cloudflare-for-saas/ class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Cloudflare for SaaS</span></a>)</td>
<td><code>http.request.uri.query contains &quot;country=GB&quot;</code></td>
</tr>
</tbody>
</table>

  </div>
</div>
<h2 id="feature-correspondence-table">
    <span class="DocsMarkdown--header-anchor-positioner">
      <a class="DocsMarkdown--header-anchor Link Link-without-underline" href="#feature-correspondence-table">&#8203;​</a>
    </span>
    <span>Feature correspondence table</span>
  </h2><p>The following table summarizes how different Page Rules settings will be migrated to other Rules features. You can refer to this table and the next sections to learn more about the new way of implementing a given Page Rules setting, and also to learn how you can manually migrate your existing Page Rules.</p>
<table>
<thead>
<tr>
<th>Page Rules setting</th>
<th>New implementation uses&hellip;</th>
<th>Migration/Replacement instructions</th>
</tr>
</thead>
<tbody>
<tr>
<td>Always Use HTTPS</td>
<td>Redirect Rules (dynamic redirects)</td>
<td><a href=#migrate-always-use-https class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Migrate Always Use HTTPS</span></a></td>
</tr>
<tr>
<td>Auto Minify</td>
<td>N/A (deprecated)</td>
<td>N/A</td>
</tr>
<tr>
<td>Browser Cache TTL</td>
<td>Cache Rules</td>
<td><a href=#migrate-browser-cache-ttl class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Migrate Browser Cache TTL</span></a></td>
</tr>
<tr>
<td>Browser Integrity Check</td>
<td>Configuration Rules</td>
<td><a href=#migrate-browser-integrity-check class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Migrate Browser Integrity Check</span></a></td>
</tr>
<tr>
<td>Bypass Cache on Cookie</td>
<td>Cache Rules</td>
<td><a href=#migrate-bypass-cache-on-cookie class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Migrate Bypass Cache on Cookie</span></a></td>
</tr>
<tr>
<td>Cache By Device Type</td>
<td>Cache Rules</td>
<td><a href=#migrate-cache-by-device-type class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Migrate Cache By Device Type</span></a></td>
</tr>
<tr>
<td>Cache Deception Armor</td>
<td>Cache Rules</td>
<td><a href=#migrate-cache-deception-armor class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Migrate Cache Deception Armor</span></a></td>
</tr>
<tr>
<td>Cache Level</td>
<td>Cache Rules</td>
<td><a href=#migrate-cache-level class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Migrate Cache Level</span></a></td>
</tr>
<tr>
<td>Cache on Cookie</td>
<td>Cache Rules</td>
<td><a href=#migrate-cache-on-cookie class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Migrate Cache on Cookie</span></a></td>
</tr>
<tr>
<td>Cache TTL by status code</td>
<td>Cache Rules</td>
<td><a href=#migrate-cache-ttl-by-status-code class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Migrate Cache TTL by status code</span></a></td>
</tr>
<tr>
<td>Custom Cache Key</td>
<td>Cache Rules</td>
<td><a href=#migrate-custom-cache-key class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Migrate Custom Cache Key</span></a></td>
</tr>
<tr>
<td>Disable Apps</td>
<td>Configuration Rules</td>
<td><a href=#migrate-disable-apps class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Migrate Disable Apps</span></a></td>
</tr>
<tr>
<td>Disable Performance</td>
<td>N/A (deprecated)</td>
<td><a href=#replace-disable-performance class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Replace Disable Performance</span></a></td>
</tr>
<tr>
<td>Disable Railgun</td>
<td>N/A (deprecated)</td>
<td>N/A</td>
</tr>
<tr>
<td>Disable Security</td>
<td>N/A (deprecated)</td>
<td><a href=#replace-disable-security class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Replace Disable Security</span></a></td>
</tr>
<tr>
<td>Disable Zaraz</td>
<td>Configuration Rules</td>
<td><a href=#migrate-disable-zaraz class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Migrate Disable Zaraz</span></a></td>
</tr>
<tr>
<td>Edge Cache TTL</td>
<td>Cache Rules</td>
<td><a href=#migrate-edge-cache-ttl class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Migrate Edge Cache TTL</span></a></td>
</tr>
<tr>
<td>Email Obfuscation</td>
<td>Configuration Rules</td>
<td><a href=#migrate-email-obfuscation class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Migrate Email Obfuscation</span></a></td>
</tr>
<tr>
<td>Forwarding URL</td>
<td>Redirect Rules (dynamic redirects)</td>
<td><a href=#migrate-forwarding-url class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Migrate Forwarding URL</span></a></td>
</tr>
<tr>
<td>Host Header Override</td>
<td>Origin Rules</td>
<td><a href=#migrate-host-header-override class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Migrate Host Header Override</span></a></td>
</tr>
<tr>
<td>IP Geolocation Header</td>
<td>Transform Rules (Managed Transforms)</td>
<td><a href=#migrate-ip-geolocation-header class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Migrate IP Geolocation Header</span></a></td>
</tr>
<tr>
<td>Mirage</td>
<td>Configuration Rules</td>
<td><a href=#migrate-mirage class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Migrate Mirage</span></a></td>
</tr>
<tr>
<td>Opportunistic Encryption</td>
<td>Configuration Rules</td>
<td><a href=#migrate-opportunistic-encryption class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Migrate Opportunistic Encryption</span></a></td>
</tr>
<tr>
<td>Origin Cache Control</td>
<td>Cache Rules</td>
<td><a href=#migrate-origin-cache-control class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Migrate Origin Cache Control</span></a></td>
</tr>
<tr>
<td>Origin Error Page Pass-thru</td>
<td>Cache Rules</td>
<td><a href=#migrate-origin-error-page-pass-thru class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Migrate Origin Error Page Pass-thru</span></a></td>
</tr>
<tr>
<td>Polish</td>
<td>Configuration Rules</td>
<td><a href=#migrate-polish class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Migrate Polish</span></a></td>
</tr>
<tr>
<td>Query String Sort</td>
<td>Cache Rules</td>
<td><a href=#migrate-query-string-sort class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Migrate Query String Sort</span></a></td>
</tr>
<tr>
<td>Resolve Override</td>
<td>Origin Rules</td>
<td><a href=#migrate-resolve-override class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Migrate Resolve Override</span></a></td>
</tr>
<tr>
<td>Respect Strong ETags</td>
<td>Cache Rules</td>
<td><a href=#migrate-respect-strong-etags class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Migrate Respect Strong ETags</span></a></td>
</tr>
<tr>
<td>Response Buffering</td>
<td>N/A (deprecated)</td>
<td>N/A</td>
</tr>
<tr>
<td>Rocket Loader</td>
<td>Configuration Rules</td>
<td><a href=#migrate-rocket-loader class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Migrate Rocket Loader</span></a></td>
</tr>
<tr>
<td>Security Level</td>
<td>Configuration Rules</td>
<td><a href=#migrate-security-level class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Migrate Security Level</span></a></td>
</tr>
<tr>
<td>True Client IP Header</td>
<td>Transform Rules (Managed Transforms)</td>
<td><a href=#migrate-true-client-ip-header class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Migrate True Client IP Header</span></a></td>
</tr>
<tr>
<td>SSL</td>
<td>Configuration Rules</td>
<td><a href=#migrate-ssl class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Migrate SSL</span></a></td>
</tr>
<tr>
<td>Web Application Firewall</td>
<td>N/A (deprecated)</td>
<td>N/A</td>
</tr>
</tbody>
</table>
<h3 id="migrate-always-use-https">
    <span class="DocsMarkdown--header-anchor-positioner">
      <a class="DocsMarkdown--header-anchor Link Link-without-underline" href="#migrate-always-use-https">&#8203;​</a>
    </span>
    <span>Migrate Always Use HTTPS</span>
  </h3><div class="tabs-wrapper" tab-wrapper-id="006b79f9d7aaba4a">
<nav role="navigation" class="tabs">
<ul class="tab-active" block-id="006b79f9d7aaba4a">

<li class="tab-label-wrapper">

<a class="tab-label noCodeLabel" href="#" data-link="tab-dashboard" data-id="006b79f9d7aaba4a">
Dashboard
</a>

</li>

<li class="tab-label-wrapper">

<a class="tab-label noCodeLabel" href="#" data-link="tab-visual guide" data-id="006b79f9d7aaba4a">
Visual guide
</a>

</li>

</ul>
</nav>

<div class="tab  noCodeTab" id="tab-dashboard-006b79f9d7aaba4a"><p><strong>Context:</strong></p>
<p>You configured a Page Rule to perform an automatic redirect from HTTP to HTTPS for all subdomains of <code>example.com</code> and the <code>example.com</code> domain itself:</p>
<ul>
<li><strong>URL</strong> <code>*example.com/*</code></li>
<li><strong>Setting</strong>: <em>Always Use HTTPS</em></li>
</ul>
<p><strong>How to migrate</strong>:</p>
<ol>
<li>
<p><a href=/rules/url-forwarding/single-redirects/create-dashboard/ class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Create a dynamic redirect</span></a> to always redirect HTTP requests to HTTPS for any hostname that contains <code>example.com</code>:</p>
 <div class="DocsMarkdown--example">
<ul>
<li>
<p><strong>When incoming requests match</strong>: Custom filter expression</p>
<ul>
<li>Using the Expression Builder:<br>
<code>Hostname contains &quot;example.com&quot; AND SSL/HTTPS is off</code></li>
<li>Using the Expression Editor:<br>
<code>(http.host contains &quot;example.com&quot; and not ssl)</code></li>
</ul>
</li>
<li>
<p><strong>Then</strong>:</p>
<ul>
<li><strong>Type</strong>: <em>Dynamic</em></li>
<li><strong>Expression</strong>: <code>concat(&quot;https://&quot;, http.host, http.request.uri.path)</code></li>
<li><strong>Status code</strong>: <em>301</em></li>
</ul>
</li>
</ul>
 </div>
</li>
<li>
<p>Turn off your existing Page Rule and validate the behavior of the redirect you created.</p>
</li>
<li>
<p>If your tests succeed, delete the existing Page Rule.</p>
</li>
</ol>
</div>
<div class="tab  noCodeTab" id="tab-visual guide-006b79f9d7aaba4a"><table>
<thead>
<tr>
<th>Page Rules configuration</th>
<th>Migrate to a dynamic redirect</th>
</tr>
</thead>
<tbody>
<tr>
<td><figure class="image-caption">
    <img alt="Example Page Rule with &amp;lsquo;Always Use HTTPS&amp;rsquo; setting" src="/images/rules/reference/page-rules-migration/pr-always-use-https_huca48eb0a1ba13df219875420bea9cf64_90254_650x588_resize_q75_box_3.png" loading="lazy" class="image-figure lightbox"
    height="588" width="650"
    style="aspect-ratio:1.1054591836734693;height: auto;"/>
    <figcaption></figcaption>
</figure></td>
<td><figure class="image-caption">
    <img alt="Dynamic redirect matching the &amp;lsquo;Always Use HTTPS&amp;rsquo; setting of the example Page Rule" src="/images/rules/reference/page-rules-migration/pr-always-use-https-new_hu55a192d61f51b752de2ee9c7ce783419_98533_750x803_resize_q75_box_3.png" loading="lazy" class="image-figure lightbox"
    height="803" width="750"
    style="aspect-ratio:0.9340099626400996;height: auto;"/>
    <figcaption></figcaption>
</figure></td>
</tr>
</tbody>
</table>
</div>

</div>
<h3 id="migrate-automatic-https-rewrites">
    <span class="DocsMarkdown--header-anchor-positioner">
      <a class="DocsMarkdown--header-anchor Link Link-without-underline" href="#migrate-automatic-https-rewrites">&#8203;​</a>
    </span>
    <span>Migrate Automatic HTTPS Rewrites</span>
  </h3><div class="tabs-wrapper" tab-wrapper-id="3fb9607ac7732905">
<nav role="navigation" class="tabs">
<ul class="tab-active" block-id="3fb9607ac7732905">

<li class="tab-label-wrapper">

<a class="tab-label noCodeLabel" href="#" data-link="tab-dashboard" data-id="3fb9607ac7732905">
Dashboard
</a>

</li>

<li class="tab-label-wrapper">

<a class="tab-label noCodeLabel" href="#" data-link="tab-visual guide" data-id="3fb9607ac7732905">
Visual guide
</a>

</li>

</ul>
</nav>

<div class="tab  noCodeTab" id="tab-dashboard-3fb9607ac7732905"><p><strong>Context:</strong></p>
<p>You configured a Page Rule turning on Automatic HTTPS Rewrites for all subdomains of <code>example.com</code> and the <code>example.com</code> domain itself:</p>
<ul>
<li><strong>URL</strong>: <code>*example.com/*</code></li>
<li><strong>Setting</strong>: <em>Automatic HTTPS Rewrites</em></li>
<li><strong>Value</strong>: On</li>
</ul>
<p><strong>How to migrate</strong>:</p>
<ol>
<li>
<p><a href=/rules/configuration-rules/create-dashboard/ class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Create a configuration rule</span></a> to always rewrite HTTP links to HTTPS for any hostname containing <code>example.com</code>:</p>
 <div class="DocsMarkdown--example">
<ul>
<li>
<p><strong>When incoming requests match</strong>: Custom filter expression</p>
<ul>
<li>Using the Expression Builder:<br>
<code>Hostname contains &quot;example.com&quot;</code></li>
<li>Using the Expression Editor:<br>
<code>(http.host contains &quot;example.com&quot;)</code></li>
</ul>
</li>
<li>
<p><strong>Then the settings are</strong>:</p>
<ul>
<li><strong>Setting</strong>: Automatic HTTPS Rewrites</li>
<li><strong>Value</strong>: On</li>
</ul>
</li>
</ul>
 </div>
</li>
<li>
<p>Turn off your existing Page Rule and validate the behavior of the configuration rule you created.</p>
</li>
<li>
<p>If your tests succeed, delete the existing Page Rule.</p>
</li>
</ol>
</div>
<div class="tab  noCodeTab" id="tab-visual guide-3fb9607ac7732905"><table>
<thead>
<tr>
<th>Page Rules configuration</th>
<th>Migrate to a configuration rule</th>
</tr>
</thead>
<tbody>
<tr>
<td><figure class="image-caption">
    <img alt="Example Page Rule with &amp;lsquo;Automatic HTTPS Rewrites&amp;rsquo; setting" src="/images/rules/reference/page-rules-migration/pr-automatic-https-rewrites_hudcd351ed0eca3ec80c4c09fb6071e784_90345_743x686_resize_q75_box_3.png" loading="lazy" class="image-figure lightbox"
    height="686" width="743"
    style="aspect-ratio:1.0831049562682216;height: auto;"/>
    <figcaption></figcaption>
</figure></td>
<td><figure class="image-caption">
    <img alt="Configuration rule matching the &amp;lsquo;Automatic HTTPS Rewrites&amp;rsquo; setting of the example Page Rule" src="/images/rules/reference/page-rules-migration/pr-automatic-https-rewrites-new_hu8698b7a3bb4f5a259895ef66a404b645_123963_852x906_resize_q75_box_3.png" loading="lazy" class="image-figure lightbox"
    height="906" width="852"
    style="aspect-ratio:0.9404083885209713;height: auto;"/>
    <figcaption></figcaption>
</figure></td>
</tr>
</tbody>
</table>
</div>

</div>
<h3 id="migrate-browser-cache-ttl">
    <span class="DocsMarkdown--header-anchor-positioner">
      <a class="DocsMarkdown--header-anchor Link Link-without-underline" href="#migrate-browser-cache-ttl">&#8203;​</a>
    </span>
    <span>Migrate Browser Cache TTL</span>
  </h3><div class="tabs-wrapper" tab-wrapper-id="1f3de29f037922b1">
<nav role="navigation" class="tabs">
<ul class="tab-active" block-id="1f3de29f037922b1">

<li class="tab-label-wrapper">

<a class="tab-label noCodeLabel" href="#" data-link="tab-dashboard" data-id="1f3de29f037922b1">
Dashboard
</a>

</li>

<li class="tab-label-wrapper">

<a class="tab-label noCodeLabel" href="#" data-link="tab-visual guide" data-id="1f3de29f037922b1">
Visual guide
</a>

</li>

</ul>
</nav>

<div class="tab  noCodeTab" id="tab-dashboard-1f3de29f037922b1"><p><strong>Context:</strong></p>
<p>You configured a Page Rule adjusting browser cache TTL to one day for all subdomains of <code>example.com</code> and the <code>example.com</code> domain itself:</p>
<ul>
<li><strong>URL</strong>: <code>*example.com/*</code></li>
<li><strong>Setting</strong>: <em>Browser Cache TTL</em></li>
<li><strong>Enter Browser Cache TTL</strong>: <em>a day</em></li>
</ul>
<p><strong>How to migrate</strong>:</p>
<ol>
<li>
<p><a href=/cache/how-to/cache-rules/create-dashboard/ class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Create a cache rule</span></a> to adjust browser cache TTL for caching resources in the browser to one day for any hostname containing <code>example.com</code>:</p>
 <div class="DocsMarkdown--example">
<ul>
<li>
<p><strong>When incoming requests match</strong>: Custom filter expression</p>
<ul>
<li>Using the Expression Builder:<br>
<code>Hostname contains &quot;example.com&quot;</code></li>
<li>Using the Expression Editor:<br>
<code>(http.host contains &quot;example.com&quot;)</code></li>
</ul>
</li>
<li>
<p><strong>Then</strong>:</p>
<ul>
<li><strong>Cache eligibility</strong>: Eligible for cache</li>
<li><strong>Browser TTL</strong>: Override origin and use this TTL</li>
<li><strong>Input time-to-live (TTL)</strong>: <em>1 day</em></li>
</ul>
</li>
</ul>
 </div>
 <aside class="DocsMarkdown--aside" role="note" data-type="warning"><p>The default behavior of Cache Rules is different from Page Rules. Refer to <a href=#behavior-change-in-cache-rules class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Behavior change in Cache Rules</span></a> for more information.</p>
 </aside>
</li>
<li>
<p>Turn off your existing Page Rule and validate the behavior of the cache rule you created.</p>
</li>
<li>
<p>If your tests succeed, delete the existing Page Rule.</p>
</li>
</ol>
</div>
<div class="tab  noCodeTab" id="tab-visual guide-1f3de29f037922b1"><table>
<thead>
<tr>
<th>Page Rules configuration</th>
<th>Migrate to a cache rule</th>
</tr>
</thead>
<tbody>
<tr>
<td><figure class="image-caption">
    <img alt="Example Page Rule with &amp;lsquo;Browser Cache TTL&amp;rsquo; setting" src="/images/rules/reference/page-rules-migration/pr-browser-cache-ttl_huda92eb1bb362b50958dba7ebf398bcff_89931_736x676_resize_q75_box_3.png" loading="lazy" class="image-figure lightbox"
    height="676" width="736"
    style="aspect-ratio:1.0887721893491125;height: auto;"/>
    <figcaption></figcaption>
</figure></td>
<td><figure class="image-caption">
    <img alt="Cache rule matching the &amp;lsquo;Browser Cache TTL&amp;rsquo; setting of the example Page Rule" src="/images/rules/reference/page-rules-migration/pr-browser-cache-ttl-new_huc7f9e9b38c4532c55df8d33c03181c9c_148931_1400x1354_resize_q75_box_3.png" loading="lazy" class="image-figure lightbox"
    height="1354" width="1400"
    style="aspect-ratio:1.0339807976366322;height: auto;"/>
    <figcaption></figcaption>
</figure></td>
</tr>
</tbody>
</table>
</div>

</div>
<h3 id="migrate-browser-integrity-check">
    <span class="DocsMarkdown--header-anchor-positioner">
      <a class="DocsMarkdown--header-anchor Link Link-without-underline" href="#migrate-browser-integrity-check">&#8203;​</a>
    </span>
    <span>Migrate Browser Integrity Check</span>
  </h3><div class="tabs-wrapper" tab-wrapper-id="a6885e2a9d1c6706">
<nav role="navigation" class="tabs">
<ul class="tab-active" block-id="a6885e2a9d1c6706">

<li class="tab-label-wrapper">

<a class="tab-label noCodeLabel" href="#" data-link="tab-dashboard" data-id="a6885e2a9d1c6706">
Dashboard
</a>

</li>

<li class="tab-label-wrapper">

<a class="tab-label noCodeLabel" href="#" data-link="tab-visual guide" data-id="a6885e2a9d1c6706">
Visual guide
</a>

</li>

</ul>
</nav>

<div class="tab  noCodeTab" id="tab-dashboard-a6885e2a9d1c6706"><p><strong>Context:</strong></p>
<p>You configured a Page Rule turning on Browser Integrity Check for all subdomains of <code>example.com</code> and the <code>example.com</code> domain itself:</p>
<ul>
<li><strong>URL</strong>: <code>*example.com/*</code></li>
<li><strong>Setting</strong>: <em>Browser Integrity Check</em></li>
<li><strong>Value</strong>: On</li>
</ul>
<p><strong>How to migrate</strong>:</p>
<ol>
<li>
<p><a href=/rules/configuration-rules/create-dashboard/ class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Create a configuration rule</span></a> to turn on Browser Integrity Check for protecting against bots and threats for any hostname containing <code>example.com</code>:</p>
 <div class="DocsMarkdown--example">
<ul>
<li>
<p><strong>When incoming requests match</strong>: Custom filter expression</p>
<ul>
<li>Using the Expression Builder:<br>
<code>Hostname contains &quot;example.com&quot;</code></li>
<li>Using the Expression Editor:<br>
<code>(http.host contains &quot;example.com&quot;)</code></li>
</ul>
</li>
<li>
<p><strong>Then the settings are</strong>:</p>
<ul>
<li><strong>Setting</strong>: Browser Integrity Check</li>
<li><strong>Value</strong>: On</li>
</ul>
</li>
</ul>
 </div>
</li>
<li>
<p>Turn off your existing Page Rule and validate the behavior of the configuration rule you created.</p>
</li>
<li>
<p>If your tests succeed, delete the existing Page Rule.</p>
</li>
</ol>
</div>
<div class="tab  noCodeTab" id="tab-visual guide-a6885e2a9d1c6706"><table>
<thead>
<tr>
<th>Page Rules configuration</th>
<th>Migrate to a configuration rule</th>
</tr>
</thead>
<tbody>
<tr>
<td><figure class="image-caption">
    <img alt="Example Page Rule with &amp;lsquo;Browser Integrity Check&amp;rsquo; setting" src="/images/rules/reference/page-rules-migration/pr-browser-integrity-check_hucc2914a2d09b2bf53865acac97c8cb34_91399_750x720_resize_q75_box_3.png" loading="lazy" class="image-figure lightbox"
    height="720" width="750"
    style="aspect-ratio:1.0416805555555555;height: auto;"/>
    <figcaption></figcaption>
</figure></td>
<td><figure class="image-caption">
    <img alt="Configuration rule matching the &amp;lsquo;Browser Integrity Check&amp;rsquo; setting of the example Page Rule" src="/images/rules/reference/page-rules-migration/pr-browser-integrity-check-new_hu8cdf50a1571c8bc61deba4bbd88b515a_134745_1237x1377_resize_q75_box_3.png" loading="lazy" class="image-figure lightbox"
    height="1377" width="1237"
    style="aspect-ratio:0.8983369644153958;height: auto;"/>
    <figcaption></figcaption>
</figure></td>
</tr>
</tbody>
</table>
</div>

</div>
<h3 id="migrate-bypass-cache-on-cookie">
    <span class="DocsMarkdown--header-anchor-positioner">
      <a class="DocsMarkdown--header-anchor Link Link-without-underline" href="#migrate-bypass-cache-on-cookie">&#8203;​</a>
    </span>
    <span>Migrate Bypass Cache on Cookie</span>
  </h3><div class="tabs-wrapper" tab-wrapper-id="8d0aad13e4c0b3da">
<nav role="navigation" class="tabs">
<ul class="tab-active" block-id="8d0aad13e4c0b3da">

<li class="tab-label-wrapper">

<a class="tab-label noCodeLabel" href="#" data-link="tab-dashboard" data-id="8d0aad13e4c0b3da">
Dashboard
</a>

</li>

<li class="tab-label-wrapper">

<a class="tab-label noCodeLabel" href="#" data-link="tab-visual guide" data-id="8d0aad13e4c0b3da">
Visual guide
</a>

</li>

</ul>
</nav>

<div class="tab  noCodeTab" id="tab-dashboard-8d0aad13e4c0b3da"><p><strong>Context:</strong></p>
<p>You configured a Page Rule turning on Bypass Cache on Cookie for all subdomains of <code>example.com</code> and the <code>example.com</code> domain itself:</p>
<ul>
<li><strong>URL</strong>: <code>*example.com/*</code></li>
<li><strong>Setting</strong>: <em>Bypass Cache on Cookie</em></li>
<li><strong>Enter value</strong>: <code>test_cookie</code></li>
</ul>
<p><strong>How to migrate</strong>:</p>
<ol>
<li>
<p><a href=/cache/how-to/cache-rules/create-dashboard/ class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Create a cache rule</span></a> to bypass cache for requests containing cookie <code>test_cookie</code> for any hostname containing <code>example.com</code>:</p>
 <div class="DocsMarkdown--example">
<ul>
<li>
<p><strong>When incoming requests match</strong>: Custom filter expression</p>
<ul>
<li>Using the Expression Builder:<br>
<code>Hostname contains &quot;example.com&quot; AND Cookie contains &quot;test-cookie&quot;</code></li>
<li>Using the Expression Editor:<br>
<code>(http.host contains &quot;example.com&quot; and http.cookie contains &quot;test-cookie&quot;)</code></li>
</ul>
</li>
<li>
<p><strong>Then</strong>:</p>
<ul>
<li><strong>Cache eligibility</strong>: Bypass cache</li>
</ul>
</li>
</ul>
 </div>
 <aside class="DocsMarkdown--aside" role="note" data-type="warning"><p>The default behavior of Cache Rules is different from Page Rules. Refer to <a href=#behavior-change-in-cache-rules class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Behavior change in Cache Rules</span></a> for more information.</p>
 </aside>
</li>
<li>
<p>Turn off your existing Page Rule and validate the behavior of the cache rule you created.</p>
</li>
<li>
<p>If your tests succeed, delete the existing Page Rule.</p>
</li>
</ol>
</div>
<div class="tab  noCodeTab" id="tab-visual guide-8d0aad13e4c0b3da"><table>
<thead>
<tr>
<th>Page Rules configuration</th>
<th>Migrate to a cache rule</th>
</tr>
</thead>
<tbody>
<tr>
<td><figure class="image-caption">
    <img alt="Example Page Rule with &amp;lsquo;Bypass Cache on Cookie&amp;rsquo; setting" src="/images/rules/reference/page-rules-migration/pr-bypass-cache-on-cookie_hu0e4fc72cae6d820336554df033810018_92741_750x688_resize_q75_box_3.png" loading="lazy" class="image-figure lightbox"
    height="688" width="750"
    style="aspect-ratio:1.0901308139534884;height: auto;"/>
    <figcaption></figcaption>
</figure></td>
<td><figure class="image-caption">
    <img alt="Cache rule matching the &amp;lsquo;Bypass Cache on Cookie&amp;rsquo; setting of the example Page Rule" src="/images/rules/reference/page-rules-migration/pr-bypass-cache-on-cookie-new_hu921e0544b9efa710ed6d68a7fcf1471c_113845_1200x793_resize_q75_box_3.png" loading="lazy" class="image-figure lightbox"
    height="793" width="1200"
    style="aspect-ratio:1.5132534678436318;height: auto;"/>
    <figcaption></figcaption>
</figure></td>
</tr>
</tbody>
</table>
</div>

</div>
<h3 id="migrate-cache-by-device-type">
    <span class="DocsMarkdown--header-anchor-positioner">
      <a class="DocsMarkdown--header-anchor Link Link-without-underline" href="#migrate-cache-by-device-type">&#8203;​</a>
    </span>
    <span>Migrate Cache By Device Type</span>
  </h3><div class="tabs-wrapper" tab-wrapper-id="3d9560988f8f4049">
<nav role="navigation" class="tabs">
<ul class="tab-active" block-id="3d9560988f8f4049">

<li class="tab-label-wrapper">

<a class="tab-label noCodeLabel" href="#" data-link="tab-dashboard" data-id="3d9560988f8f4049">
Dashboard
</a>

</li>

<li class="tab-label-wrapper">

<a class="tab-label noCodeLabel" href="#" data-link="tab-visual guide" data-id="3d9560988f8f4049">
Visual guide
</a>

</li>

</ul>
</nav>

<div class="tab  noCodeTab" id="tab-dashboard-3d9560988f8f4049"><p><strong>Context:</strong></p>
<p>You configured a Page Rule turning on Cache By Device Type for all subdomains of <code>example.com</code> and the <code>example.com</code> domain itself:</p>
<ul>
<li><strong>URL</strong>: <code>*example.com/*</code></li>
<li><strong>Setting</strong>: <em>Cache By Device Type</em></li>
<li><strong>Value</strong>: On</li>
</ul>
<p><strong>How to migrate</strong>:</p>
<ol>
<li>
<p><a href=/cache/how-to/cache-rules/create-dashboard/ class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Create a cache rule</span></a> to cache content based on user agent or device type for any hostname containing <code>example.com</code>:</p>
 <div class="DocsMarkdown--example">
<ul>
<li>
<p><strong>When incoming requests match</strong>: Custom filter expression</p>
<ul>
<li>Using the Expression Builder:<br>
<code>Hostname contains &quot;example.com&quot;</code></li>
<li>Using the Expression Editor:<br>
<code>(http.host contains &quot;example.com&quot;)</code></li>
</ul>
</li>
<li>
<p><strong>Then</strong>:</p>
<ul>
<li><strong>Cache eligibility</strong>: Eligible for cache</li>
<li><strong>Setting</strong>: Cache key
<ul>
<li><strong>Cache by device type</strong>: On</li>
</ul>
</li>
</ul>
</li>
</ul>
 </div>
 <aside class="DocsMarkdown--aside" role="note" data-type="warning"><p>The default behavior of Cache Rules is different from Page Rules. Refer to <a href=#behavior-change-in-cache-rules class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Behavior change in Cache Rules</span></a> for more information.</p>
 </aside>
</li>
<li>
<p>Turn off your existing Page Rule and validate the behavior of the cache rule you created.</p>
</li>
<li>
<p>If your tests succeed, delete the existing Page Rule.</p>
</li>
</ol>
</div>
<div class="tab  noCodeTab" id="tab-visual guide-3d9560988f8f4049"><table>
<thead>
<tr>
<th>Page Rules configuration</th>
<th>Migrate to a cache rule</th>
</tr>
</thead>
<tbody>
<tr>
<td><figure class="image-caption">
    <img alt="Example Page Rule with &amp;lsquo;Cache By Device Type&amp;rsquo; setting" src="/images/rules/reference/page-rules-migration/pr-cache-by-device-type_hu0e4fc72cae6d820336554df033810018_91240_750x688_resize_q75_box_3.png" loading="lazy" class="image-figure lightbox"
    height="688" width="750"
    style="aspect-ratio:1.0901308139534884;height: auto;"/>
    <figcaption></figcaption>
</figure></td>
<td><figure class="image-caption">
    <img alt="Cache rule matching the &amp;lsquo;Cache By Device Type&amp;rsquo; setting of the example Page Rule" src="/images/rules/reference/page-rules-migration/pr-cache-by-device-type-new_huf664a5c85afa907bb21ba7ccd2a28158_211809_1200x1329_resize_q75_box_3.png" loading="lazy" class="image-figure lightbox"
    height="1329" width="1200"
    style="aspect-ratio:0.9029420617005267;height: auto;"/>
    <figcaption></figcaption>
</figure></td>
</tr>
</tbody>
</table>
</div>

</div>
<h3 id="migrate-cache-deception-armor">
    <span class="DocsMarkdown--header-anchor-positioner">
      <a class="DocsMarkdown--header-anchor Link Link-without-underline" href="#migrate-cache-deception-armor">&#8203;​</a>
    </span>
    <span>Migrate Cache Deception Armor</span>
  </h3><div class="tabs-wrapper" tab-wrapper-id="0e20c5882c0751b4">
<nav role="navigation" class="tabs">
<ul class="tab-active" block-id="0e20c5882c0751b4">

<li class="tab-label-wrapper">

<a class="tab-label noCodeLabel" href="#" data-link="tab-dashboard" data-id="0e20c5882c0751b4">
Dashboard
</a>

</li>

<li class="tab-label-wrapper">

<a class="tab-label noCodeLabel" href="#" data-link="tab-visual guide" data-id="0e20c5882c0751b4">
Visual guide
</a>

</li>

</ul>
</nav>

<div class="tab  noCodeTab" id="tab-dashboard-0e20c5882c0751b4"><p><strong>Context:</strong></p>
<p>You configured a Page Rule turning on Cache Deception Armor for all subdomains of <code>example.com</code> and the <code>example.com</code> domain itself:</p>
<ul>
<li><strong>URL</strong>: <code>*example.com/*</code></li>
<li><strong>Setting</strong>: Cache Deception Armor</li>
</ul>
<p><strong>How to migrate</strong>:</p>
<ol>
<li>
<p><a href=/cache/how-to/cache-rules/create-dashboard/ class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Create a cache rule</span></a> to protect against cache deception attacks for any hostname containing <code>example.com</code>:</p>
 <div class="DocsMarkdown--example">
<ul>
<li>
<p><strong>When incoming requests match</strong>: Custom filter expression</p>
<ul>
<li>Using the Expression Builder:<br>
<code>Hostname contains &quot;example.com&quot;</code></li>
<li>Using the Expression Editor:<br>
<code>(http.host contains &quot;example.com&quot;)</code></li>
</ul>
</li>
<li>
<p><strong>Then</strong>:</p>
<ul>
<li><strong>Cache eligibility</strong>: Eligible for cache</li>
<li><strong>Setting</strong>: Cache key
<ul>
<li><strong>Cache deception armor</strong>: On</li>
</ul>
</li>
</ul>
</li>
</ul>
 </div>
 <aside class="DocsMarkdown--aside" role="note" data-type="warning"><p>The default behavior of Cache Rules is different from Page Rules. Refer to <a href=#behavior-change-in-cache-rules class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Behavior change in Cache Rules</span></a> for more information.</p>
 </aside>
</li>
<li>
<p>Turn off your existing Page Rule and validate the behavior of the cache rule you created.</p>
</li>
<li>
<p>If your tests succeed, delete the existing Page Rule.</p>
</li>
</ol>
</div>
<div class="tab  noCodeTab" id="tab-visual guide-0e20c5882c0751b4"><table>
<thead>
<tr>
<th>Page Rules configuration</th>
<th>Migrate to a cache rule</th>
</tr>
</thead>
<tbody>
<tr>
<td><figure class="image-caption">
    <img alt="Example Page Rule with &amp;lsquo;Cache Deception Armor&amp;rsquo; setting" src="/images/rules/reference/page-rules-migration/pr-cache-deception-armor_hu3d6993e77205c4d1f33e4d0e2f41da51_89602_750x679_resize_q75_box_3.png" loading="lazy" class="image-figure lightbox"
    height="679" width="750"
    style="aspect-ratio:1.104580265095729;height: auto;"/>
    <figcaption></figcaption>
</figure></td>
<td><figure class="image-caption">
    <img alt="Cache rule matching the &amp;lsquo;Cache Deception Armor&amp;rsquo; setting of the example Page Rule" src="/images/rules/reference/page-rules-migration/pr-cache-deception-armor-new_hu8a010777d8c5468ffc0a423d8ba241a2_185393_1200x1174_resize_q75_box_3.png" loading="lazy" class="image-figure lightbox"
    height="1174" width="1200"
    style="aspect-ratio:1.0221550255536627;height: auto;"/>
    <figcaption></figcaption>
</figure></td>
</tr>
</tbody>
</table>
</div>

</div>
<h3 id="migrate-cache-level">
    <span class="DocsMarkdown--header-anchor-positioner">
      <a class="DocsMarkdown--header-anchor Link Link-without-underline" href="#migrate-cache-level">&#8203;​</a>
    </span>
    <span>Migrate Cache Level (Cache Everything)</span>
  </h3><div class="tabs-wrapper" tab-wrapper-id="b9f4f3519d79e123">
<nav role="navigation" class="tabs">
<ul class="tab-active" block-id="b9f4f3519d79e123">

<li class="tab-label-wrapper">

<a class="tab-label noCodeLabel" href="#" data-link="tab-dashboard" data-id="b9f4f3519d79e123">
Dashboard
</a>

</li>

<li class="tab-label-wrapper">

<a class="tab-label noCodeLabel" href="#" data-link="tab-visual guide" data-id="b9f4f3519d79e123">
Visual guide
</a>

</li>

</ul>
</nav>

<div class="tab  noCodeTab" id="tab-dashboard-b9f4f3519d79e123"><p><strong>Context:</strong></p>
<p>You configured a Page Rule turning on caching of all assets for all subdomains of <code>example.com</code> and the <code>example.com</code> domain itself:</p>
<ul>
<li><strong>URL</strong>: <code>*example.com/*</code></li>
<li><strong>Setting</strong>: <em>Cache Level</em></li>
<li><strong>Select Cache Level</strong>: <em>Cache Everything</em></li>
</ul>
<p><strong>How to migrate</strong>:</p>
<ol>
<li>
<p><a href=/cache/how-to/cache-rules/create-dashboard/ class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Create a cache rule</span></a> to adjust cache level for any hostname containing <code>example.com</code>:</p>
 <div class="DocsMarkdown--example">
<ul>
<li>
<p><strong>When incoming requests match</strong>: Custom filter expression</p>
<ul>
<li>Using the Expression Builder:<br>
<code>Hostname contains &quot;example.com&quot;</code></li>
<li>Using the Expression Editor:<br>
<code>(http.host contains &quot;example.com&quot;)</code></li>
</ul>
</li>
<li>
<p><strong>Then</strong>:</p>
<ul>
<li><strong>Cache eligibility</strong>: Eligible for cache</li>
</ul>
</li>
</ul>
 </div>
 <aside class="DocsMarkdown--aside" role="note" data-type="warning"><p>The default behavior of Cache Rules is different from Page Rules. Refer to <a href=#behavior-change-in-cache-rules class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Behavior change in Cache Rules</span></a> for more information.</p>
 </aside>
</li>
<li>
<p>Turn off your existing Page Rule and validate the behavior of the cache rule you created.</p>
</li>
<li>
<p>If your tests succeed, delete the existing Page Rule.</p>
</li>
</ol>
</div>
<div class="tab  noCodeTab" id="tab-visual guide-b9f4f3519d79e123"><table>
<thead>
<tr>
<th>Page Rules configuration</th>
<th>Migrate to a cache rule</th>
</tr>
</thead>
<tbody>
<tr>
<td><figure class="image-caption">
    <img alt="Example Page Rule with &amp;lsquo;Cache Level&amp;rsquo; set to &amp;lsquo;Cache Everything&amp;rsquo;" src="/images/rules/reference/page-rules-migration/pr-cache-level-everything_hud94e3f1fa57f50847883d70ec5f19751_92104_750x691_resize_q75_box_3.png" loading="lazy" class="image-figure lightbox"
    height="691" width="750"
    style="aspect-ratio:1.085397973950796;height: auto;"/>
    <figcaption></figcaption>
</figure></td>
<td><figure class="image-caption">
    <img alt="Cache rule matching the &amp;lsquo;Cache Level: Cache Everything&amp;rsquo; setting of the example Page Rule" src="/images/rules/reference/page-rules-migration/pr-cache-level-everything-new_hu3bb52400b9909ac9cede6457ce1a8d68_93323_1200x696_resize_q75_box_3.png" loading="lazy" class="image-figure lightbox"
    height="696" width="1200"
    style="aspect-ratio:1.7241522988505746;height: auto;"/>
    <figcaption></figcaption>
</figure></td>
</tr>
</tbody>
</table>
</div>

</div>
<h3 id="migrate-cache-on-cookie">
    <span class="DocsMarkdown--header-anchor-positioner">
      <a class="DocsMarkdown--header-anchor Link Link-without-underline" href="#migrate-cache-on-cookie">&#8203;​</a>
    </span>
    <span>Migrate Cache on Cookie</span>
  </h3><div class="tabs-wrapper" tab-wrapper-id="500116f157d07ae6">
<nav role="navigation" class="tabs">
<ul class="tab-active" block-id="500116f157d07ae6">

<li class="tab-label-wrapper">

<a class="tab-label noCodeLabel" href="#" data-link="tab-dashboard" data-id="500116f157d07ae6">
Dashboard
</a>

</li>

<li class="tab-label-wrapper">

<a class="tab-label noCodeLabel" href="#" data-link="tab-visual guide" data-id="500116f157d07ae6">
Visual guide
</a>

</li>

</ul>
</nav>

<div class="tab  noCodeTab" id="tab-dashboard-500116f157d07ae6"><p><strong>Context:</strong></p>
<p>You configured a Page Rule turning on caching for responses that contained cookie <code>test-cookie</code> for all subdomains of <code>example.com</code> and the <code>example.com</code> domain itself:</p>
<ul>
<li><strong>URL</strong>: <code>*example.com/*</code></li>
<li><strong>Setting</strong>: <em>Cache on Cookie</em></li>
<li><strong>Enter value</strong>: <code>test-cookie</code></li>
</ul>
<p><strong>How to migrate</strong>:</p>
<ol>
<li>
<p><a href=/cache/how-to/cache-rules/create-dashboard/ class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Create a cache rule</span></a> to cache responses containing cookie <code>test_cookie</code> for any hostname containing <code>example.com</code>:</p>
 <div class="DocsMarkdown--example">
<ul>
<li>
<p><strong>When incoming requests match</strong>: Custom filter expression</p>
<ul>
<li>Using the Expression Builder:<br>
<code>Hostname contains &quot;example.com&quot; AND Cookie contains &quot;test-cookie&quot;</code></li>
<li>Using the Expression Editor:<br>
<code>(http.host contains &quot;example.com&quot; and http.cookie contains &quot;test-cookie&quot;)</code></li>
</ul>
</li>
<li>
<p><strong>Then</strong>:</p>
<ul>
<li><strong>Cache eligibility</strong>: Eligible for cache</li>
</ul>
</li>
</ul>
 </div>
 <aside class="DocsMarkdown--aside" role="note" data-type="warning"><p>The default behavior of Cache Rules is different from Page Rules. Refer to <a href=#behavior-change-in-cache-rules class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Behavior change in Cache Rules</span></a> for more information.</p>
 </aside>
</li>
<li>
<p>Turn off your existing Page Rule and validate the behavior of the cache rule you created.</p>
</li>
<li>
<p>If your tests succeed, delete the existing Page Rule.</p>
</li>
</ol>
</div>
<div class="tab  noCodeTab" id="tab-visual guide-500116f157d07ae6"><table>
<thead>
<tr>
<th>Page Rules configuration</th>
<th>Migrate to a cache rule</th>
</tr>
</thead>
<tbody>
<tr>
<td><figure class="image-caption">
    <img alt="Example Page Rule with &amp;lsquo;Cache on Cookie&amp;rsquo; setting" src="/images/rules/reference/page-rules-migration/pr-cache-on-cookie_hu8f18589d03a71c2e5af97ba74c0abf7f_91463_750x693_resize_q75_box_3.png" loading="lazy" class="image-figure lightbox"
    height="693" width="750"
    style="aspect-ratio:1.0822655122655123;height: auto;"/>
    <figcaption></figcaption>
</figure></td>
<td><figure class="image-caption">
    <img alt="Cache rule matching the &amp;lsquo;Cache on Cookie&amp;rsquo; setting of the example Page Rule" src="/images/rules/reference/page-rules-migration/pr-cache-on-cookie-new_hu5d6c0d30ca805dba560de0003ddf9ebf_112342_1200x784_resize_q75_box_3.png" loading="lazy" class="image-figure lightbox"
    height="784" width="1200"
    style="aspect-ratio:1.530625;height: auto;"/>
    <figcaption></figcaption>
</figure></td>
</tr>
</tbody>
</table>
</div>

</div>
<h3 id="migrate-cache-ttl-by-status-code">
    <span class="DocsMarkdown--header-anchor-positioner">
      <a class="DocsMarkdown--header-anchor Link Link-without-underline" href="#migrate-cache-ttl-by-status-code">&#8203;​</a>
    </span>
    <span>Migrate Cache TTL by status code</span>
  </h3><div class="tabs-wrapper" tab-wrapper-id="34c7dcd8dcac3847">
<nav role="navigation" class="tabs">
<ul class="tab-active" block-id="34c7dcd8dcac3847">

<li class="tab-label-wrapper">

<a class="tab-label noCodeLabel" href="#" data-link="tab-dashboard" data-id="34c7dcd8dcac3847">
Dashboard
</a>

</li>

<li class="tab-label-wrapper">

<a class="tab-label noCodeLabel" href="#" data-link="tab-visual guide" data-id="34c7dcd8dcac3847">
Visual guide
</a>

</li>

</ul>
</nav>

<div class="tab  noCodeTab" id="tab-dashboard-34c7dcd8dcac3847"><p><strong>Context:</strong></p>
<p>You configured a Page Rule turning on caching of every response with status code between <code>200</code> and <code>599</code> for one day, for all subdomains of <code>example.com</code> and the <code>example.com</code> domain itself:</p>
<ul>
<li><strong>URL</strong>: <code>*example.com/*</code></li>
<li><strong>Setting</strong>: <em>Cache TTL by status code</em></li>
<li><strong>Status code or enter range</strong>: <code>200-599</code></li>
<li><strong>Select option</strong>: <em>a day</em></li>
</ul>
<p><strong>How to migrate</strong>:</p>
<ol>
<li>
<p><a href=/cache/how-to/cache-rules/create-dashboard/ class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Create a cache rule</span></a> to cache responses with status code between <code>200</code> and <code>599</code> for one day for any hostname containing <code>example.com</code>:</p>
 <div class="DocsMarkdown--example">
<ul>
<li>
<p><strong>When incoming requests match</strong>: Custom filter expression</p>
<ul>
<li>Using the Expression Builder:<br>
<code>Hostname contains &quot;example.com&quot;</code></li>
<li>Using the Expression Editor:<br>
<code>(http.host contains &quot;example.com&quot;)</code></li>
</ul>
</li>
<li>
<p><strong>Then</strong>:</p>
<ul>
<li><strong>Cache eligibility</strong>: Eligible for cache</li>
<li><strong>Setting</strong>: Edge TTL
<ul>
<li>Use cache-control header if present, use default Cloudflare caching behavior if not</li>
<li><strong>Status code TTL</strong>:
<ul>
<li><strong>Scope</strong>: <em>Range</em></li>
<li><strong>From</strong>: <em>200</em></li>
<li><strong>To</strong>: <em>599</em></li>
<li><strong>Duration</strong>: <em>1 day</em></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
 </div>
 <aside class="DocsMarkdown--aside" role="note" data-type="warning"><p>The default behavior of Cache Rules is different from Page Rules. Refer to <a href=#behavior-change-in-cache-rules class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Behavior change in Cache Rules</span></a> for more information.</p>
 </aside>
</li>
<li>
<p>Turn off your existing Page Rule and validate the behavior of the cache rule you created.</p>
</li>
<li>
<p>If your tests succeed, delete the existing Page Rule.</p>
</li>
</ol>
</div>
<div class="tab  noCodeTab" id="tab-visual guide-34c7dcd8dcac3847"><table>
<thead>
<tr>
<th>Page Rules configuration</th>
<th>Migrate to a cache rule</th>
</tr>
</thead>
<tbody>
<tr>
<td><figure class="image-caption">
    <img alt="Example Page Rule with the &amp;lsquo;Cache TTL by status code&amp;rsquo; setting" src="/images/rules/reference/page-rules-migration/pr-cache-ttl-by-status-code_hued6b78ef7ee80a838f42896049d3cd64_107554_750x862_resize_q75_box_3.png" loading="lazy" class="image-figure lightbox"
    height="862" width="750"
    style="aspect-ratio:0.8700812064965198;height: auto;"/>
    <figcaption></figcaption>
</figure></td>
<td><figure class="image-caption">
    <img alt="Cache rule matching the &amp;lsquo;Cache TTL by status code&amp;rsquo; setting of the example Page Rule" src="/images/rules/reference/page-rules-migration/pr-cache-ttl-by-status-code-new_hu4c84ee677c1ffdf2bb2e3a138e0429ff_201229_1412x1376_resize_q75_box_3.png" loading="lazy" class="image-figure lightbox"
    height="1376" width="1412"
    style="aspect-ratio:1.0261700581395348;height: auto;"/>
    <figcaption></figcaption>
</figure></td>
</tr>
</tbody>
</table>
</div>

</div>
<h3 id="migrate-custom-cache-key">
    <span class="DocsMarkdown--header-anchor-positioner">
      <a class="DocsMarkdown--header-anchor Link Link-without-underline" href="#migrate-custom-cache-key">&#8203;​</a>
    </span>
    <span>Migrate Custom Cache Key</span>
  </h3><div class="tabs-wrapper" tab-wrapper-id="b346661f78d67872">
<nav role="navigation" class="tabs">
<ul class="tab-active" block-id="b346661f78d67872">

<li class="tab-label-wrapper">

<a class="tab-label noCodeLabel" href="#" data-link="tab-dashboard" data-id="b346661f78d67872">
Dashboard
</a>

</li>

<li class="tab-label-wrapper">

<a class="tab-label noCodeLabel" href="#" data-link="tab-visual guide" data-id="b346661f78d67872">
Visual guide
</a>

</li>

</ul>
</nav>

<div class="tab  noCodeTab" id="tab-dashboard-b346661f78d67872"><p><strong>Context:</strong></p>
<p>You configured a Page Rule setting a custom cache key for all query string parameters, for all subdomains of <code>example.com</code> and the <code>example.com</code> domain itself:</p>
<ul>
<li><strong>URL</strong>: <code>*example.com/*</code></li>
<li><strong>Setting</strong>: <em>Custom Cache Key</em>
<ul>
<li><strong>Query String</strong>: All query string parameters</li>
</ul>
</li>
</ul>
<p><strong>How to migrate</strong>:</p>
<ol>
<li>
<p><a href=/cache/how-to/cache-rules/create-dashboard/ class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Create a cache rule</span></a> to set a custom cache key for all query string parameters, for any hostname containing <code>example.com</code>:</p>
 <div class="DocsMarkdown--example">
<ul>
<li>
<p><strong>When incoming requests match</strong>: Custom filter expression</p>
<ul>
<li>Using the Expression Builder:<br>
<code>Hostname contains &quot;example.com&quot;</code></li>
<li>Using the Expression Editor:<br>
<code>(http.host contains &quot;example.com&quot;)</code></li>
</ul>
</li>
<li>
<p><strong>Then</strong>:</p>
<ul>
<li><strong>Cache eligibility</strong>: Eligible for cache</li>
<li><strong>Setting</strong>: Cache key
<ul>
<li><strong>Query string</strong>: All query string parameters</li>
</ul>
</li>
</ul>
</li>
</ul>
 </div>
 <aside class="DocsMarkdown--aside" role="note" data-type="warning"><p>The default behavior of Cache Rules is different from Page Rules. Refer to <a href=#behavior-change-in-cache-rules class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Behavior change in Cache Rules</span></a> for more information.</p>
 </aside>
</li>
<li>
<p>Turn off your existing Page Rule and validate the behavior of the cache rule you created.</p>
</li>
<li>
<p>If your tests succeed, delete the existing Page Rule.</p>
</li>
</ol>
</div>
<div class="tab  noCodeTab" id="tab-visual guide-b346661f78d67872"><table>
<thead>
<tr>
<th>Page Rules configuration</th>
<th>Migrate to a cache rule</th>
</tr>
</thead>
<tbody>
<tr>
<td><figure class="image-caption">
    <img alt="Example Page Rule with the &amp;lsquo;Custom Cache Key&amp;rsquo; setting" src="/images/rules/reference/page-rules-migration/pr-custom-cache-key_hue3082512dd5aa7f0bbf529f8ecbf55a2_127229_750x1130_resize_q75_box_3.png" loading="lazy" class="image-figure lightbox"
    height="1130" width="750"
    style="aspect-ratio:0.6637256637168142;height: auto;"/>
    <figcaption></figcaption>
</figure></td>
<td><figure class="image-caption">
    <img alt="Cache rule matching the &amp;lsquo;Custom Cache Key&amp;rsquo; setting of the example Page Rule" src="/images/rules/reference/page-rules-migration/pr-custom-cache-key-new_hu047c003bbd7a9b3a1749003ba1b7fd11_202863_1070x1520_resize_q75_box_3.png" loading="lazy" class="image-figure lightbox"
    height="1520" width="1070"
    style="aspect-ratio:0.7039539473684211;height: auto;"/>
    <figcaption></figcaption>
</figure></td>
</tr>
</tbody>
</table>
</div>

</div>
<h3 id="migrate-disable-apps">
    <span class="DocsMarkdown--header-anchor-positioner">
      <a class="DocsMarkdown--header-anchor Link Link-without-underline" href="#migrate-disable-apps">&#8203;​</a>
    </span>
    <span>Migrate Disable Apps</span>
  </h3><div class="tabs-wrapper" tab-wrapper-id="c403feffda62ddeb">
<nav role="navigation" class="tabs">
<ul class="tab-active" block-id="c403feffda62ddeb">

<li class="tab-label-wrapper">

<a class="tab-label noCodeLabel" href="#" data-link="tab-dashboard" data-id="c403feffda62ddeb">
Dashboard
</a>

</li>

<li class="tab-label-wrapper">

<a class="tab-label noCodeLabel" href="#" data-link="tab-visual guide" data-id="c403feffda62ddeb">
Visual guide
</a>

</li>

</ul>
</nav>

<div class="tab  noCodeTab" id="tab-dashboard-c403feffda62ddeb"><p><strong>Context:</strong></p>
<p>You configured a Page Rule turning off Cloudflare Apps (deprecated) for all subdomains of <code>example.com</code> and the <code>example.com</code> domain itself:</p>
<ul>
<li><strong>URL</strong>: <code>*example.com/*</code></li>
<li><strong>Setting</strong>: <em>Disable Apps</em></li>
</ul>
<p><strong>How to migrate</strong>:</p>
<ol>
<li>
<p><a href=/rules/configuration-rules/create-dashboard/ class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Create a configuration rule</span></a> to disable Cloudflare Apps (deprecated)  for any hostname containing <code>example.com</code>:</p>
 <div class="DocsMarkdown--example">
<ul>
<li>
<p><strong>When incoming requests match</strong>: Custom filter expression</p>
<ul>
<li>Using the Expression Builder:<br>
<code>Hostname contains &quot;example.com&quot;</code></li>
<li>Using the Expression Editor:<br>
<code>(http.host contains &quot;example.com&quot;)</code></li>
</ul>
</li>
<li>
<p><strong>Then the settings are</strong>:</p>
<ul>
<li><strong>Setting</strong>: Disable Apps</li>
</ul>
</li>
</ul>
 </div>
</li>
<li>
<p>Turn off your existing Page Rule and validate the behavior of the configuration rule you created.</p>
</li>
<li>
<p>If your tests succeed, delete the existing Page Rule.</p>
</li>
</ol>
</div>
<div class="tab  noCodeTab" id="tab-visual guide-c403feffda62ddeb"><table>
<thead>
<tr>
<th>Page Rules configuration</th>
<th>Migrate to a configuration rule</th>
</tr>
</thead>
<tbody>
<tr>
<td><figure class="image-caption">
    <img alt="Example Page Rule with &amp;lsquo;Disable Apps&amp;rsquo; setting" src="/images/rules/reference/page-rules-migration/pr-disable-apps_hufa578440cc2dc700c0ef48eac04e7037_93455_750x689_resize_q75_box_3.png" loading="lazy" class="image-figure lightbox"
    height="689" width="750"
    style="aspect-ratio:1.0885486211901305;height: auto;"/>
    <figcaption></figcaption>
</figure></td>
<td><figure class="image-caption">
    <img alt="Configuration rule matching the &amp;lsquo;Disable Apps&amp;rsquo; setting of the example Page Rule" src="/images/rules/reference/page-rules-migration/pr-disable-apps-new_hu2c42f0909cf813076aea00cb3a21deea_105983_1064x1152_resize_q75_box_3.png" loading="lazy" class="image-figure lightbox"
    height="1152" width="1064"
    style="aspect-ratio:0.9236197916666666;height: auto;"/>
    <figcaption></figcaption>
</figure></td>
</tr>
</tbody>
</table>
</div>

</div>
<h3 id="replace-disable-performance">
    <span class="DocsMarkdown--header-anchor-positioner">
      <a class="DocsMarkdown--header-anchor Link Link-without-underline" href="#replace-disable-performance">&#8203;​</a>
    </span>
    <span>Replace Disable Performance</span>
  </h3><aside class="DocsMarkdown--aside" role="note" data-type="warning"><p>The <strong>Disable Performance</strong> setting is deprecated. Any Page Rules with this setting will not be migrated.</p>
</aside>

<p>This Page Rules setting turned off Auto Minify (deprecated), Mirage, Polish, and Rocket Loader. You can still turn on or off relevant Cloudflare features one by one using Configuration Rules.</p>
<div class="tabs-wrapper" tab-wrapper-id="b9fb2003601b25ec">
<nav role="navigation" class="tabs">
<ul class="tab-active" block-id="b9fb2003601b25ec">

<li class="tab-label-wrapper">

<a class="tab-label noCodeLabel" href="#" data-link="tab-dashboard" data-id="b9fb2003601b25ec">
Dashboard
</a>

</li>

<li class="tab-label-wrapper">

<a class="tab-label noCodeLabel" href="#" data-link="tab-visual guide" data-id="b9fb2003601b25ec">
Visual guide
</a>

</li>

</ul>
</nav>

<div class="tab  noCodeTab" id="tab-dashboard-b9fb2003601b25ec"><p><strong>Context:</strong></p>
<p>You configured a Page Rule with <strong>Disable Performance</strong> (deprecated) for all subdomains of <code>example.com</code> and the <code>example.com</code> domain itself:</p>
<ul>
<li><strong>URL</strong>: <code>*example.com/*</code></li>
<li><strong>Setting</strong>: <em>Disable Performance</em></li>
</ul>
<p><strong>How to replace</strong>:</p>
<ol>
<li>
<p><a href=/rules/configuration-rules/create-dashboard/ class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Create a configuration rule</span></a> to disable Mirage, Polish, and Rocket Loader for any hostname containing <code>example.com</code>:</p>
 <div class="DocsMarkdown--example">
<ul>
<li>
<p><strong>When incoming requests match</strong>: Custom filter expression</p>
<ul>
<li>Using the Expression Builder:<br>
<code>Hostname contains &quot;example.com&quot;</code></li>
<li>Using the Expression Editor:<br>
<code>(http.host contains &quot;example.com&quot;)</code></li>
</ul>
</li>
<li>
<p><strong>Then the settings are</strong>:</p>
<ul>
<li><strong>Mirage</strong>: Off</li>
<li><strong>Polish</strong>: <em>Off</em></li>
<li><strong>Rocket Loader</strong>: Off</li>
</ul>
</li>
</ul>
 </div>
</li>
<li>
<p>Turn off your existing Page Rule and validate the behavior of the configuration rule you created.</p>
</li>
<li>
<p>If your tests succeed, delete the existing Page Rule.</p>
</li>
</ol>
</div>
<div class="tab  noCodeTab" id="tab-visual guide-b9fb2003601b25ec"><table>
<thead>
<tr>
<th>Page Rules configuration</th>
<th>Migrate to a configuration rule</th>
</tr>
</thead>
<tbody>
<tr>
<td><figure class="image-caption">
    <img alt="Example Page Rule with &amp;lsquo;Disable Performance&amp;rsquo; setting" src="/images/rules/reference/page-rules-migration/pr-disable-performance_hu98d142d584f0db705a267d3dfa85c432_70057_790x714_resize_q75_box_3.png" loading="lazy" class="image-figure lightbox"
    height="714" width="790"
    style="aspect-ratio:1.1064565826330532;height: auto;"/>
    <figcaption></figcaption>
</figure></td>
<td><figure class="image-caption">
    <img alt="Configuration rule partially matching the &amp;lsquo;Disable Performance&amp;rsquo; setting of the example Page Rule" src="/images/rules/reference/page-rules-migration/pr-disable-performance-new_hu7afe900ca5f3b4fa62bed83cfbb977af_104802_702x1418_resize_q75_box_3.png" loading="lazy" class="image-figure lightbox"
    height="1418" width="702"
    style="aspect-ratio:0.49507052186177714;height: auto;"/>
    <figcaption></figcaption>
</figure></td>
</tr>
</tbody>
</table>
</div>

</div>
<h3 id="replace-disable-security">
    <span class="DocsMarkdown--header-anchor-positioner">
      <a class="DocsMarkdown--header-anchor Link Link-without-underline" href="#replace-disable-security">&#8203;​</a>
    </span>
    <span>Replace Disable Security</span>
  </h3><aside class="DocsMarkdown--aside" role="note" data-type="warning"><p>The <strong>Disable Security</strong> setting is deprecated. Any Page Rules with this setting will not be migrated.</p>
</aside>

<p>This Page Rules setting turns off Email Obfuscation, Rate Limiting (previous version), Scrape Shield, URL (Zone) Lockdown, and WAF managed rules (previous version). You can still turn on or off relevant Cloudflare features one by one using Configuration Rules and WAF custom rules.</p>
<div class="tabs-wrapper" tab-wrapper-id="2131519bcd1f06ec">
<nav role="navigation" class="tabs">
<ul class="tab-active" block-id="2131519bcd1f06ec">

<li class="tab-label-wrapper">

<a class="tab-label noCodeLabel" href="#" data-link="tab-dashboard" data-id="2131519bcd1f06ec">
Dashboard
</a>

</li>

</ul>
</nav>

<div class="tab  noCodeTab" id="tab-dashboard-2131519bcd1f06ec"><p><strong>Context:</strong></p>
<p>You configured a Page Rule with <strong>Disable Security</strong> (deprecated) for all subdomains of <code>example.com</code> and the <code>example.com</code> domain itself:</p>
<ul>
<li><strong>URL</strong>: <code>*example.com/*</code></li>
<li><strong>Setting</strong>: <em>Disable Security</em></li>
</ul>
<p>This setting turned off a subset of Cloudflare security features: Email Obfuscation, Rate Limiting (previous version), Scrape Shield, URL (Zone) Lockdown, and WAF managed rules (previous version).</p>
<p><strong>How to replace</strong>:</p>
<ol>
<li>
<p><a href=/rules/configuration-rules/create-dashboard/ class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Create a configuration rule</span></a> to turn off one or more security features:</p>
<ul>
<li>Email Obfuscation (part of <a href=/waf/tools/scrape-shield/ class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Cloudflare Scrape Shield</span></a>)</li>
<li>Hotlink Protection (part of Cloudflare Scrape Shield)</li>
</ul>
</li>
<li>
<p>If required, <a href=/waf/managed-rules/waf-exceptions/define-dashboard/ class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">create a WAF exception</span></a> to skip one or more rules of WAF managed rulesets for requests coming from IP addresses in an allowlist.</p>
</li>
<li>
<p>Turn off your existing Page Rule and validate the behavior of the rules you created.</p>
</li>
<li>
<p>If your tests succeed, delete the existing Page Rule.</p>
</li>
</ol>
<aside class="DocsMarkdown--aside" role="note" data-type="warning"><p>If you are still using WAF managed rules (previous version) or Rate Limiting (previous version), consider migrating to the new versions of these products. It is not possible to turn off these older products using modern Rules features. Refer to the <a href=/waf/reference/migration-guides/ class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">WAF&rsquo;s migration guides</span></a> for more information.</p>
</aside>
</div>

</div>
<h3 id="migrate-disable-zaraz">
    <span class="DocsMarkdown--header-anchor-positioner">
      <a class="DocsMarkdown--header-anchor Link Link-without-underline" href="#migrate-disable-zaraz">&#8203;​</a>
    </span>
    <span>Migrate Disable Zaraz</span>
  </h3><div class="tabs-wrapper" tab-wrapper-id="fded4708dc4585a1">
<nav role="navigation" class="tabs">
<ul class="tab-active" block-id="fded4708dc4585a1">

<li class="tab-label-wrapper">

<a class="tab-label noCodeLabel" href="#" data-link="tab-dashboard" data-id="fded4708dc4585a1">
Dashboard
</a>

</li>

<li class="tab-label-wrapper">

<a class="tab-label noCodeLabel" href="#" data-link="tab-visual guide" data-id="fded4708dc4585a1">
Visual guide
</a>

</li>

</ul>
</nav>

<div class="tab  noCodeTab" id="tab-dashboard-fded4708dc4585a1"><p><strong>Context:</strong></p>
<p>You configured a Page Rule turning off <a href=/zaraz/ class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Zaraz</span></a> for all subdomains of <code>example.com</code> and the <code>example.com</code> domain itself:</p>
<ul>
<li><strong>URL</strong>: <code>*example.com/*</code></li>
<li><strong>Setting</strong>: <em>Disable Zaraz</em></li>
</ul>
<p><strong>How to migrate</strong>:</p>
<ol>
<li>
<p><a href=/rules/configuration-rules/create-dashboard/ class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Create a configuration rule</span></a> to turn off Zaraz for any hostname containing <code>example.com</code>:</p>
 <div class="DocsMarkdown--example">
<ul>
<li>
<p><strong>When incoming requests match</strong>: Custom filter expression</p>
<ul>
<li>Using the Expression Builder:<br>
<code>Hostname contains &quot;example.com&quot;</code></li>
<li>Using the Expression Editor:<br>
<code>(http.host contains &quot;example.com&quot;)</code></li>
</ul>
</li>
<li>
<p><strong>Then the settings are</strong>:</p>
<ul>
<li><strong>Setting</strong>: Disable Zaraz</li>
</ul>
</li>
</ul>
 </div>
</li>
<li>
<p>Turn off your existing Page Rule and validate the behavior of the configuration rule you created.</p>
</li>
<li>
<p>If your tests succeed, delete the existing Page Rule.</p>
</li>
</ol>
</div>
<div class="tab  noCodeTab" id="tab-visual guide-fded4708dc4585a1"><table>
<thead>
<tr>
<th>Page Rules configuration</th>
<th>Migrate to a configuration rule</th>
</tr>
</thead>
<tbody>
<tr>
<td><figure class="image-caption">
    <img alt="Example Page Rule with &amp;lsquo;Disable Zaraz&amp;rsquo; setting" src="/images/rules/reference/page-rules-migration/pr-disable-zaraz_hu5f6a96fae66a4ae8107d492fd8b03481_86155_750x670_resize_q75_box_3.png" loading="lazy" class="image-figure lightbox"
    height="670" width="750"
    style="aspect-ratio:1.1194179104477613;height: auto;"/>
    <figcaption></figcaption>
</figure></td>
<td><figure class="image-caption">
    <img alt="Configuration rule matching the &amp;lsquo;Disable Zaraz&amp;rsquo; setting of the example Page Rule" src="/images/rules/reference/page-rules-migration/pr-disable-zaraz-new_hu4c644856f7380507932bbeba0474b174_111168_1049x1263_resize_q75_box_3.png" loading="lazy" class="image-figure lightbox"
    height="1263" width="1049"
    style="aspect-ratio:0.8305700712589074;height: auto;"/>
    <figcaption></figcaption>
</figure></td>
</tr>
</tbody>
</table>
</div>

</div>
<h3 id="migrate-edge-cache-ttl">
    <span class="DocsMarkdown--header-anchor-positioner">
      <a class="DocsMarkdown--header-anchor Link Link-without-underline" href="#migrate-edge-cache-ttl">&#8203;​</a>
    </span>
    <span>Migrate Edge Cache TTL</span>
  </h3><div class="tabs-wrapper" tab-wrapper-id="f763e49116906f22">
<nav role="navigation" class="tabs">
<ul class="tab-active" block-id="f763e49116906f22">

<li class="tab-label-wrapper">

<a class="tab-label noCodeLabel" href="#" data-link="tab-dashboard" data-id="f763e49116906f22">
Dashboard
</a>

</li>

<li class="tab-label-wrapper">

<a class="tab-label noCodeLabel" href="#" data-link="tab-visual guide" data-id="f763e49116906f22">
Visual guide
</a>

</li>

</ul>
</nav>

<div class="tab  noCodeTab" id="tab-dashboard-f763e49116906f22"><p><strong>Context:</strong></p>
<p>You configured a Page Rule adjusting Edge Cache TTL for all subdomains of <code>example.com</code> and the <code>example.com</code> domain itself:</p>
<ul>
<li><strong>URL</strong>: <code>*example.com/*</code></li>
<li><strong>Setting</strong>: <em>Edge Cache TTL</em></li>
<li><strong>Enter Edge Cache TTL</strong>: <em>a day</em></li>
</ul>
<p><strong>How to migrate</strong>:</p>
<ol>
<li>
<p><a href=/cache/how-to/cache-rules/create-dashboard/ class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Create a cache rule</span></a> to adjust edge cache TTL for caching resources on Cloudflare edge to one day, for any hostname containing <code>example.com</code>:</p>
 <div class="DocsMarkdown--example">
<ul>
<li>
<p><strong>When incoming requests match</strong>: Custom filter expression</p>
<ul>
<li>Using the Expression Builder:<br>
<code>Hostname contains &quot;example.com&quot;</code></li>
<li>Using the Expression Editor:<br>
<code>(http.host contains &quot;example.com&quot;)</code></li>
</ul>
</li>
<li>
<p><strong>Then</strong>:</p>
<ul>
<li><strong>Cache eligibility</strong>: Eligible for cache</li>
<li><strong>Setting</strong>: Edge TTL
<ul>
<li>Ignore cache-control header and use this TTL</li>
<li><strong>Input time-to-live (TTL)</strong>: <em>1 day</em></li>
</ul>
</li>
</ul>
</li>
</ul>
 </div>
 <aside class="DocsMarkdown--aside" role="note" data-type="warning"><p>The default behavior of Cache Rules is different from Page Rules. Refer to <a href=#behavior-change-in-cache-rules class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Behavior change in Cache Rules</span></a> for more information.</p>
 </aside>
</li>
<li>
<p>Turn off your existing Page Rule and validate the behavior of the cache rule you created.</p>
</li>
<li>
<p>If your tests succeed, delete the existing Page Rule.</p>
</li>
</ol>
</div>
<div class="tab  noCodeTab" id="tab-visual guide-f763e49116906f22"><table>
<thead>
<tr>
<th>Page Rules configuration</th>
<th>Migrate to a cache rule</th>
</tr>
</thead>
<tbody>
<tr>
<td><figure class="image-caption">
    <img alt="Example Page Rule with the &amp;lsquo;Edge Cache TTL&amp;rsquo; setting" src="/images/rules/reference/page-rules-migration/pr-edge-cache-ttl_hu023372ff57e37b1db17b1b2968818ed2_87883_750x706_resize_q75_box_3.png" loading="lazy" class="image-figure lightbox"
    height="706" width="750"
    style="aspect-ratio:1.0623371104815864;height: auto;"/>
    <figcaption></figcaption>
</figure></td>
<td><figure class="image-caption">
    <img alt="Cache rule matching the &amp;lsquo;Edge Cache TTL&amp;rsquo; setting of the example Page Rule" src="/images/rules/reference/page-rules-migration/pr-edge-cache-ttl-new_hu71ba0a33e32d8ec0bb9ab8c0fd7d8215_117829_1058x906_resize_q75_box_3.png" loading="lazy" class="image-figure lightbox"
    height="906" width="1058"
    style="aspect-ratio:1.1677814569536424;height: auto;"/>
    <figcaption></figcaption>
</figure></td>
</tr>
</tbody>
</table>
</div>

</div>
<h3 id="migrate-email-obfuscation">
    <span class="DocsMarkdown--header-anchor-positioner">
      <a class="DocsMarkdown--header-anchor Link Link-without-underline" href="#migrate-email-obfuscation">&#8203;​</a>
    </span>
    <span>Migrate Email Obfuscation</span>
  </h3><div class="tabs-wrapper" tab-wrapper-id="c1a94ad7fd7e1265">
<nav role="navigation" class="tabs">
<ul class="tab-active" block-id="c1a94ad7fd7e1265">

<li class="tab-label-wrapper">

<a class="tab-label noCodeLabel" href="#" data-link="tab-dashboard" data-id="c1a94ad7fd7e1265">
Dashboard
</a>

</li>

<li class="tab-label-wrapper">

<a class="tab-label noCodeLabel" href="#" data-link="tab-visual guide" data-id="c1a94ad7fd7e1265">
Visual guide
</a>

</li>

</ul>
</nav>

<div class="tab  noCodeTab" id="tab-dashboard-c1a94ad7fd7e1265"><p><strong>Context:</strong></p>
<p>You configured a Page Rule turning off <a href=/waf/tools/scrape-shield/email-address-obfuscation/ class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Email Obfuscation</span></a> for all subdomains of <code>example.com</code> and the <code>example.com</code> domain itself:</p>
<ul>
<li><strong>URL</strong>: <code>*example.com/*</code></li>
<li><strong>Setting</strong>: <em>Email Obfuscation</em></li>
<li><strong>Value</strong>: Off</li>
</ul>
<p><strong>How to migrate</strong>:</p>
<ol>
<li>
<p><a href=/rules/configuration-rules/create-dashboard/ class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Create a configuration rule</span></a> to turn off Email Obfuscation for any hostname containing <code>example.com</code>:</p>
 <div class="DocsMarkdown--example">
<ul>
<li>
<p><strong>When incoming requests match</strong>: Custom filter expression</p>
<ul>
<li>Using the Expression Builder:<br>
<code>Hostname contains &quot;example.com&quot;</code></li>
<li>Using the Expression Editor:<br>
<code>(http.host contains &quot;example.com&quot;)</code></li>
</ul>
</li>
<li>
<p><strong>Then the settings are</strong>:</p>
<ul>
<li><strong>Setting</strong>: Email Obfuscation
<ul>
<li><strong>Value</strong>: Off</li>
</ul>
</li>
</ul>
</li>
</ul>
 </div>
</li>
<li>
<p>Turn off your existing Page Rule and validate the behavior of the configuration rule you created.</p>
</li>
<li>
<p>If your tests succeed, delete the existing Page Rule.</p>
</li>
</ol>
</div>
<div class="tab  noCodeTab" id="tab-visual guide-c1a94ad7fd7e1265"><table>
<thead>
<tr>
<th>Page Rules configuration</th>
<th>Migrate to a configuration rule</th>
</tr>
</thead>
<tbody>
<tr>
<td><figure class="image-caption">
    <img alt="Example Page Rule with &amp;lsquo;Email Obfuscation&amp;rsquo; setting" src="/images/rules/reference/page-rules-migration/pr-email-obfuscation_hu9d1e6f7d84b5f31b1f8cef9f682be7a6_70005_775x717_resize_q75_box_3.png" loading="lazy" class="image-figure lightbox"
    height="717" width="775"
    style="aspect-ratio:1.0809065550906556;height: auto;"/>
    <figcaption></figcaption>
</figure></td>
<td><figure class="image-caption">
    <img alt="Configuration rule matching the &amp;lsquo;Email Obfuscation &amp;gt; Off&amp;rsquo; setting of the example Page Rule" src="/images/rules/reference/page-rules-migration/pr-email-obfuscation-new_hu15d22178880c9e2dbc744f50cada7f64_133375_1060x1517_resize_q75_box_3.png" loading="lazy" class="image-figure lightbox"
    height="1517" width="1060"
    style="aspect-ratio:0.6987541199736321;height: auto;"/>
    <figcaption></figcaption>
</figure></td>
</tr>
</tbody>
</table>
</div>

</div>
<h3 id="migrate-forwarding-url">
    <span class="DocsMarkdown--header-anchor-positioner">
      <a class="DocsMarkdown--header-anchor Link Link-without-underline" href="#migrate-forwarding-url">&#8203;​</a>
    </span>
    <span>Migrate Forwarding URL</span>
  </h3><p><strong>Example #1: Redirect <code>www</code> to root domain</strong></p>
<div class="tabs-wrapper" tab-wrapper-id="57304e6bbf916ad5">
<nav role="navigation" class="tabs">
<ul class="tab-active" block-id="57304e6bbf916ad5">

<li class="tab-label-wrapper">

<a class="tab-label noCodeLabel" href="#" data-link="tab-dashboard" data-id="57304e6bbf916ad5">
Dashboard
</a>

</li>

<li class="tab-label-wrapper">

<a class="tab-label noCodeLabel" href="#" data-link="tab-visual guide" data-id="57304e6bbf916ad5">
Visual guide
</a>

</li>

</ul>
</nav>

<div class="tab  noCodeTab" id="tab-dashboard-57304e6bbf916ad5"><p><strong>Context:</strong></p>
<p>You configured a Page Rule permanently redirecting <code>www.example.com</code> to <code>example.com</code> on all URI paths:</p>
<ul>
<li><strong>URL</strong>: <code>www.example.com/*</code></li>
<li><strong>Setting</strong>: <em>Forwarding URL</em></li>
<li><strong>Select Status code</strong>: <em>301 - Permanent Redirect</em></li>
<li><strong>Destination URL</strong>: <code>https://example.com/$1</code></li>
</ul>
<p><strong>How to migrate</strong>:</p>
<ol>
<li>
<p><a href=/rules/url-forwarding/single-redirects/create-dashboard/ class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Create a dynamic redirect</span></a> to permanently redirect requests from <code>www.example.com</code> to <code>example.com</code>:</p>
 <div class="DocsMarkdown--example">
<ul>
<li>
<p><strong>When incoming requests match</strong>: Custom filter expression</p>
<ul>
<li>Using the Expression Builder:<br>
<code>Hostname equals &quot;www.example.com&quot;</code></li>
<li>Using the Expression Editor:<br>
<code>(http.host eq &quot;www.example.com&quot;)</code></li>
</ul>
</li>
<li>
<p><strong>Then</strong>:</p>
<ul>
<li><strong>Type</strong>: <em>Dynamic</em></li>
<li><strong>Expression</strong>: <code>concat(&quot;https://example.com&quot;, http.request.uri.path)</code></li>
<li><strong>Status code</strong>: <em>301</em></li>
</ul>
</li>
</ul>
 </div>
</li>
<li>
<p>Turn off your existing Page Rule and validate the behavior of the redirect you created.</p>
</li>
<li>
<p>If your tests succeed, delete the existing Page Rule.</p>
</li>
</ol>
</div>
<div class="tab  noCodeTab" id="tab-visual guide-57304e6bbf916ad5"><table>
<thead>
<tr>
<th>Page Rules configuration</th>
<th>Migrate to a dynamic redirect</th>
</tr>
</thead>
<tbody>
<tr>
<td><figure class="image-caption">
    <img alt="Example Page Rule #1 with &amp;lsquo;Forwarding URL&amp;rsquo; setting" src="/images/rules/reference/page-rules-migration/pr-forwarding-url_hu65ee958a7cd9373a6c988d2e68f9c406_80713_769x782_resize_q75_box_3.png" loading="lazy" class="image-figure lightbox"
    height="782" width="769"
    style="aspect-ratio:0.9833887468030691;height: auto;"/>
    <figcaption></figcaption>
</figure></td>
<td><figure class="image-caption">
    <img alt="Dynamic redirect matching the &amp;lsquo;Forwarding URL&amp;rsquo; setting of the example Page Rule #1" src="/images/rules/reference/page-rules-migration/pr-forwarding-url-new_hue49b8ca9fe02e5e04eb5fae7f3dc8915_74952_907x859_resize_q75_box_3.png" loading="lazy" class="image-figure lightbox"
    height="859" width="907"
    style="aspect-ratio:1.0558905704307333;height: auto;"/>
    <figcaption></figcaption>
</figure></td>
</tr>
</tbody>
</table>
</div>

</div>
<p><strong>Example #2: Redirect all pages under old path to new path</strong></p>
<div class="tabs-wrapper" tab-wrapper-id="cb3e2d438a625fe1">
<nav role="navigation" class="tabs">
<ul class="tab-active" block-id="cb3e2d438a625fe1">

<li class="tab-label-wrapper">

<a class="tab-label noCodeLabel" href="#" data-link="tab-dashboard" data-id="cb3e2d438a625fe1">
Dashboard
</a>

</li>

<li class="tab-label-wrapper">

<a class="tab-label noCodeLabel" href="#" data-link="tab-visual guide" data-id="cb3e2d438a625fe1">
Visual guide
</a>

</li>

</ul>
</nav>

<div class="tab  noCodeTab" id="tab-dashboard-cb3e2d438a625fe1"><p><strong>Context:</strong></p>
<p>You configured a Page Rule permanently redirecting <code>example.com/old-path</code> to <code>example.com/new-path</code>:</p>
<ul>
<li><strong>URL</strong>: <code>example.com/old-path/*</code></li>
<li><strong>Setting</strong>: <em>Forwarding URL</em></li>
<li><strong>Select Status code</strong>: <em>301 - Permanent Redirect</em></li>
<li><strong>Destination URL</strong>: <code>https://example.com/new-path/$1</code></li>
</ul>
<p><strong>How to migrate</strong>:</p>
<ol>
<li>
<p><a href=/rules/url-forwarding/single-redirects/create-dashboard/ class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Create a dynamic redirect</span></a> to permanently redirect requests for <code>example.com/old-path</code> to <code>example.com/new-path</code>:</p>
 <div class="DocsMarkdown--example">
<ul>
<li>
<p><strong>When incoming requests match</strong>: Custom filter expression</p>
<ul>
<li>Using the Expression Builder:<br>
<code>Hostname equals &quot;example.com&quot; AND URI Path starts with &quot;/old-path/&quot;</code></li>
<li>Using the Expression Editor:<br>
<code>(http.host eq &quot;example.com&quot; and starts_with(http.request.uri.path, &quot;/old-path/&quot;))</code></li>
</ul>
</li>
<li>
<p><strong>Then</strong>:</p>
<ul>
<li><strong>Type</strong>: <em>Dynamic</em></li>
<li><strong>Expression</strong>: <code>concat(&quot;/new-path/&quot;, substring(http.request.uri.path, 10))</code><br>
(where <code>10</code> (start byte value) is the length of <code>/old-path/</code>)</li>
<li><strong>Status code</strong>: <em>301</em></li>
</ul>
</li>
</ul>
 </div>
</li>
<li>
<p>Turn off your existing Page Rule and validate the behavior of the redirect you created.</p>
</li>
<li>
<p>If your tests succeed, delete the existing Page Rule.</p>
</li>
</ol>
</div>
<div class="tab  noCodeTab" id="tab-visual guide-cb3e2d438a625fe1"><table>
<thead>
<tr>
<th>Page Rules configuration</th>
<th>Migrate to a dynamic redirect</th>
</tr>
</thead>
<tbody>
<tr>
<td><figure class="image-caption">
    <img alt="Example Page Rule #2 with &amp;lsquo;Forwarding URL&amp;rsquo; setting" src="/images/rules/reference/page-rules-migration/pr-forwarding-url-2_hu79b980a88feae048c2e4702bc697478c_141497_920x921_resize_q75_box_3.png" loading="lazy" class="image-figure lightbox"
    height="921" width="920"
    style="aspect-ratio:0.9989250814332248;height: auto;"/>
    <figcaption></figcaption>
</figure></td>
<td><figure class="image-caption">
    <img alt="Dynamic redirect matching the &amp;lsquo;Forwarding URL&amp;rsquo; setting of the example Page Rule #2" src="/images/rules/reference/page-rules-migration/pr-forwarding-url-2-new_hu435e33e4b6275938a0795b00814a43ce_80855_1000x889_resize_q75_box_3.png" loading="lazy" class="image-figure lightbox"
    height="889" width="1000"
    style="aspect-ratio:1.1248706411698537;height: auto;"/>
    <figcaption></figcaption>
</figure></td>
</tr>
</tbody>
</table>
</div>

</div>
<h3 id="migrate-host-header-override">
    <span class="DocsMarkdown--header-anchor-positioner">
      <a class="DocsMarkdown--header-anchor Link Link-without-underline" href="#migrate-host-header-override">&#8203;​</a>
    </span>
    <span>Migrate Host Header Override</span>
  </h3><div class="tabs-wrapper" tab-wrapper-id="95875031fdc3105c">
<nav role="navigation" class="tabs">
<ul class="tab-active" block-id="95875031fdc3105c">

<li class="tab-label-wrapper">

<a class="tab-label noCodeLabel" href="#" data-link="tab-dashboard" data-id="95875031fdc3105c">
Dashboard
</a>

</li>

<li class="tab-label-wrapper">

<a class="tab-label noCodeLabel" href="#" data-link="tab-visual guide" data-id="95875031fdc3105c">
Visual guide
</a>

</li>

</ul>
</nav>

<div class="tab  noCodeTab" id="tab-dashboard-95875031fdc3105c"><p><strong>Context:</strong></p>
<p>You configured a Page Rule changing the <code>Host</code> HTTP header to <code>example.saas-provider.com</code>, for all requests addressed at any subdomain of <code>example.com</code> and the <code>example.com</code> domain itself:</p>
<ul>
<li><strong>URL</strong>: <code>*example.com/*</code></li>
<li><strong>Setting</strong>: <em>Host Header Override</em></li>
<li><strong>Enter value</strong>: <code>example.saas-provider.com</code></li>
</ul>
<p><strong>How to migrate</strong>:</p>
<ol>
<li>
<p><a href=/rules/origin-rules/create-dashboard/ class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Create an origin rule</span></a> changing the <code>Host</code> header to <code>example.saas-provider.com</code> for any hostname containing <code>example.com</code>:</p>
 <div class="DocsMarkdown--example">
<ul>
<li>
<p><strong>When incoming requests match</strong>: Custom filter expression</p>
<ul>
<li>Using the Expression Builder:<br>
<code>Hostname contains &quot;example.com&quot;</code></li>
<li>Using the Expression Editor:<br>
<code>(http.host contains &quot;example.com&quot;)</code></li>
</ul>
</li>
<li>
<p><strong>Then</strong>:</p>
<ul>
<li><strong>Set origin parameters</strong>:
<ul>
<li><strong>Host Header</strong> &gt; <strong>Rewrite to</strong>: <code>example.saas-provider.com</code></li>
</ul>
</li>
</ul>
</li>
</ul>
 </div>
</li>
<li>
<p>Turn off your existing Page Rule and validate the behavior of the origin rule you created.</p>
</li>
<li>
<p>If your tests succeed, delete the existing Page Rule.</p>
</li>
</ol>
</div>
<div class="tab  noCodeTab" id="tab-visual guide-95875031fdc3105c"><table>
<thead>
<tr>
<th>Page Rules configuration</th>
<th>Migrate to an origin rule</th>
</tr>
</thead>
<tbody>
<tr>
<td><figure class="image-caption">
    <img alt="Example Page Rule with &amp;lsquo;Host Header Override&amp;rsquo; setting" src="/images/rules/reference/page-rules-migration/pr-host-header-override_hudaa9a448b05e77f7001b3677a9b80911_71385_772x711_resize_q75_box_3.png" loading="lazy" class="image-figure lightbox"
    height="711" width="772"
    style="aspect-ratio:1.0858087201125175;height: auto;"/>
    <figcaption></figcaption>
</figure></td>
<td><figure class="image-caption">
    <img alt="Origin rule matching the &amp;lsquo;Host Header Override&amp;rsquo; setting of the example Page Rule" src="/images/rules/reference/page-rules-migration/pr-host-header-override-new_huec5c3c5b820cf7f79bbd968a460d2eaf_113589_1053x1440_resize_q75_box_3.png" loading="lazy" class="image-figure lightbox"
    height="1440" width="1053"
    style="aspect-ratio:0.7312569444444444;height: auto;"/>
    <figcaption></figcaption>
</figure></td>
</tr>
</tbody>
</table>
</div>

</div>
<h3 id="migrate-ip-geolocation-header">
    <span class="DocsMarkdown--header-anchor-positioner">
      <a class="DocsMarkdown--header-anchor Link Link-without-underline" href="#migrate-ip-geolocation-header">&#8203;​</a>
    </span>
    <span>Migrate IP Geolocation Header</span>
  </h3><div class="tabs-wrapper" tab-wrapper-id="f6b7101dfaf7bee5">
<nav role="navigation" class="tabs">
<ul class="tab-active" block-id="f6b7101dfaf7bee5">

<li class="tab-label-wrapper">

<a class="tab-label noCodeLabel" href="#" data-link="tab-dashboard" data-id="f6b7101dfaf7bee5">
Dashboard
</a>

</li>

<li class="tab-label-wrapper">

<a class="tab-label noCodeLabel" href="#" data-link="tab-visual guide" data-id="f6b7101dfaf7bee5">
Visual guide
</a>

</li>

</ul>
</nav>

<div class="tab  noCodeTab" id="tab-dashboard-f6b7101dfaf7bee5"><p><strong>Context:</strong></p>
<p>You configured a Page Rule adding a <code>CF-IPCountry</code> HTTP header, for all requests addressed at any subdomain of <code>example.com</code> and the <code>example.com</code> domain itself:</p>
<ul>
<li><strong>URL</strong>: <code>*example.com/*</code></li>
<li><strong>Setting</strong>: <em>IP Geolocation Header</em></li>
<li><strong>Value</strong>: On</li>
</ul>
<p><strong>How to migrate</strong>:</p>
<ol>
<li><a href=/rules/transform/managed-transforms/configure/ class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Turn on the <strong>Add visitor location headers</strong> Managed Transform</span></a> — a Transform Rules feature — to add the <code>CF-IPCountry</code> and other location headers to all requests.</li>
<li>Turn off your existing Page Rule and validate the behavior of the Managed Transform.</li>
<li>If your tests succeed, delete the existing Page Rule.</li>
</ol>
</div>
<div class="tab  noCodeTab" id="tab-visual guide-f6b7101dfaf7bee5"><table>
<thead>
<tr>
<th>Page Rules configuration</th>
<th>Migrate to a Managed Transform</th>
</tr>
</thead>
<tbody>
<tr>
<td><figure class="image-caption">
    <img alt="Example Page Rule with &amp;lsquo;IP Geolocation Header&amp;rsquo; setting" src="/images/rules/reference/page-rules-migration/pr-ip-geolocation-header_hu4f3d3e381d9ecb0a022206e00506f048_90762_750x687_resize_q75_box_3.png" loading="lazy" class="image-figure lightbox"
    height="687" width="750"
    style="aspect-ratio:1.0917176128093158;height: auto;"/>
    <figcaption></figcaption>
</figure></td>
<td><figure class="image-caption">
    <img alt="The &amp;lsquo;Add visitor location headers&amp;rsquo; Managed Transform matching the &amp;lsquo;IP Geolocation Header&amp;rsquo; setting of the example Page Rule" src="/images/rules/reference/page-rules-migration/pr-ip-geolocation-header-new_huce04c9361811666b5e8d3f44215962c3_185059_1200x742_resize_q75_box_3.png" loading="lazy" class="image-figure lightbox"
    height="742" width="1200"
    style="aspect-ratio:1.6172641509433963;height: auto;"/>
    <figcaption></figcaption>
</figure></td>
</tr>
</tbody>
</table>
</div>

</div>
<h3 id="migrate-mirage">
    <span class="DocsMarkdown--header-anchor-positioner">
      <a class="DocsMarkdown--header-anchor Link Link-without-underline" href="#migrate-mirage">&#8203;​</a>
    </span>
    <span>Migrate Mirage</span>
  </h3><div class="tabs-wrapper" tab-wrapper-id="bbf64350eeb067b2">
<nav role="navigation" class="tabs">
<ul class="tab-active" block-id="bbf64350eeb067b2">

<li class="tab-label-wrapper">

<a class="tab-label noCodeLabel" href="#" data-link="tab-dashboard" data-id="bbf64350eeb067b2">
Dashboard
</a>

</li>

<li class="tab-label-wrapper">

<a class="tab-label noCodeLabel" href="#" data-link="tab-visual guide" data-id="bbf64350eeb067b2">
Visual guide
</a>

</li>

</ul>
</nav>

<div class="tab  noCodeTab" id="tab-dashboard-bbf64350eeb067b2"><p><strong>Context:</strong></p>
<p>You configured a Page Rule turning off Mirage for all subdomains of <code>example.com</code> and the <code>example.com</code> domain itself:</p>
<ul>
<li><strong>URL</strong>: <code>*example.com/*</code></li>
<li><strong>Setting</strong>: <em>Mirage</em></li>
<li><strong>Value</strong>: Off</li>
</ul>
<p><strong>How to migrate</strong>:</p>
<ol>
<li>
<p><a href=/rules/configuration-rules/create-dashboard/ class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Create a configuration rule</span></a> to turn off Mirage for any hostname containing <code>example.com</code>:</p>
 <div class="DocsMarkdown--example">
<ul>
<li>
<p><strong>When incoming requests match</strong>: Custom filter expression</p>
<ul>
<li>Using the Expression Builder:<br>
<code>Hostname contains &quot;example.com&quot;</code></li>
<li>Using the Expression Editor:<br>
<code>(http.host contains &quot;example.com&quot;)</code></li>
</ul>
</li>
<li>
<p><strong>Then the settings are</strong>:</p>
<ul>
<li><strong>Setting</strong>: Mirage
<ul>
<li><strong>Value</strong>: Off</li>
</ul>
</li>
</ul>
</li>
</ul>
 </div>
</li>
<li>
<p>Turn off your existing Page Rule and validate the behavior of the configuration rule you created.</p>
</li>
<li>
<p>If your tests succeed, delete the existing Page Rule.</p>
</li>
</ol>
</div>
<div class="tab  noCodeTab" id="tab-visual guide-bbf64350eeb067b2"><table>
<thead>
<tr>
<th>Page Rules configuration</th>
<th>Migrate to a configuration rule</th>
</tr>
</thead>
<tbody>
<tr>
<td><figure class="image-caption">
    <img alt="Example Page Rule with &amp;lsquo;Mirage&amp;rsquo; setting" src="/images/rules/reference/page-rules-migration/pr-mirage_hu71eaa7ee40863457d256bd204b3aa6f8_88234_750x684_resize_q75_box_3.png" loading="lazy" class="image-figure lightbox"
    height="684" width="750"
    style="aspect-ratio:1.0965058479532164;height: auto;"/>
    <figcaption></figcaption>
</figure></td>
<td><figure class="image-caption">
    <img alt="Configuration rule matching the &amp;lsquo;Mirage &amp;gt; Off&amp;rsquo; setting of the example Page Rule" src="/images/rules/reference/page-rules-migration/pr-mirage-new_huf00cabbd02b5515c4d63d699b1e4a05f_187032_1106x1638_resize_q75_box_3.png" loading="lazy" class="image-figure lightbox"
    height="1638" width="1106"
    style="aspect-ratio:0.6752197802197802;height: auto;"/>
    <figcaption></figcaption>
</figure></td>
</tr>
</tbody>
</table>
</div>

</div>
<h3 id="migrate-opportunistic-encryption">
    <span class="DocsMarkdown--header-anchor-positioner">
      <a class="DocsMarkdown--header-anchor Link Link-without-underline" href="#migrate-opportunistic-encryption">&#8203;​</a>
    </span>
    <span>Migrate Opportunistic Encryption</span>
  </h3><div class="tabs-wrapper" tab-wrapper-id="8f7d4348f44730e6">
<nav role="navigation" class="tabs">
<ul class="tab-active" block-id="8f7d4348f44730e6">

<li class="tab-label-wrapper">

<a class="tab-label noCodeLabel" href="#" data-link="tab-dashboard" data-id="8f7d4348f44730e6">
Dashboard
</a>

</li>

<li class="tab-label-wrapper">

<a class="tab-label noCodeLabel" href="#" data-link="tab-visual guide" data-id="8f7d4348f44730e6">
Visual guide
</a>

</li>

</ul>
</nav>

<div class="tab  noCodeTab" id="tab-dashboard-8f7d4348f44730e6"><p><strong>Context:</strong></p>
<p>You configured a Page Rule turning off Opportunistic Encryption for all subdomains of <code>example.com</code> and the <code>example.com</code> domain itself:</p>
<ul>
<li><strong>URL</strong>: <code>*example.com/*</code></li>
<li><strong>Setting</strong>: <em>Opportunistic Encryption</em></li>
<li><strong>Value</strong>: Off</li>
</ul>
<p><strong>How to migrate</strong>:</p>
<ol>
<li>
<p><a href=/rules/configuration-rules/create-dashboard/ class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Create a configuration rule</span></a> to turn off Opportunistic Encryption for any hostname containing <code>example.com</code>:</p>
 <div class="DocsMarkdown--example">
<ul>
<li>
<p><strong>When incoming requests match</strong>: Custom filter expression</p>
<ul>
<li>Using the Expression Builder:<br>
<code>Hostname contains &quot;example.com&quot;</code></li>
<li>Using the Expression Editor:<br>
<code>(http.host contains &quot;example.com&quot;)</code></li>
</ul>
</li>
<li>
<p><strong>Then the settings are</strong>:</p>
<ul>
<li><strong>Setting</strong>: Opportunistic Encryption
<ul>
<li><strong>Value</strong>: Off</li>
</ul>
</li>
</ul>
</li>
</ul>
 </div>
</li>
<li>
<p>Turn off your existing Page Rule and validate the behavior of the configuration rule you created.</p>
</li>
<li>
<p>If your tests succeed, delete the existing Page Rule.</p>
</li>
</ol>
</div>
<div class="tab  noCodeTab" id="tab-visual guide-8f7d4348f44730e6"><table>
<thead>
<tr>
<th>Page Rules configuration</th>
<th>Migrate to a configuration rule</th>
</tr>
</thead>
<tbody>
<tr>
<td><figure class="image-caption">
    <img alt="Example Page Rule with &amp;lsquo;Opportunistic Encryption&amp;rsquo; setting" src="/images/rules/reference/page-rules-migration/pr-opportunistic-encryption_hu9d1e6f7d84b5f31b1f8cef9f682be7a6_70676_775x717_resize_q75_box_3.png" loading="lazy" class="image-figure lightbox"
    height="717" width="775"
    style="aspect-ratio:1.0809065550906556;height: auto;"/>
    <figcaption></figcaption>
</figure></td>
<td><figure class="image-caption">
    <img alt="Configuration rule matching the &amp;lsquo;Opportunistic Encryption &amp;gt; Off&amp;rsquo; setting of the example Page Rule" src="/images/rules/reference/page-rules-migration/pr-opportunistic-encryption-new_hu5b0baeec85c88d0926dc7c37e7415879_156321_1046x1737_resize_q75_box_3.png" loading="lazy" class="image-figure lightbox"
    height="1737" width="1046"
    style="aspect-ratio:0.6021934369602764;height: auto;"/>
    <figcaption></figcaption>
</figure></td>
</tr>
</tbody>
</table>
</div>

</div>
<h3 id="migrate-origin-cache-control">
    <span class="DocsMarkdown--header-anchor-positioner">
      <a class="DocsMarkdown--header-anchor Link Link-without-underline" href="#migrate-origin-cache-control">&#8203;​</a>
    </span>
    <span>Migrate Origin Cache Control</span>
  </h3><div class="tabs-wrapper" tab-wrapper-id="e8a2705c1f140e4a">
<nav role="navigation" class="tabs">
<ul class="tab-active" block-id="e8a2705c1f140e4a">

<li class="tab-label-wrapper">

<a class="tab-label noCodeLabel" href="#" data-link="tab-dashboard" data-id="e8a2705c1f140e4a">
Dashboard
</a>

</li>

<li class="tab-label-wrapper">

<a class="tab-label noCodeLabel" href="#" data-link="tab-visual guide" data-id="e8a2705c1f140e4a">
Visual guide
</a>

</li>

</ul>
</nav>

<div class="tab  noCodeTab" id="tab-dashboard-e8a2705c1f140e4a"><p><strong>Context:</strong></p>
<p>You configured a Page Rule turning off Origin Cache Control for all subdomains of <code>example.com</code> and the <code>example.com</code> domain itself:</p>
<ul>
<li><strong>URL</strong>: <code>*example.com/*</code></li>
<li><strong>Setting</strong>: Origin Cache Control</li>
<li><strong>Value</strong>: Off</li>
</ul>
<p><strong>How to migrate</strong>:</p>
<ol>
<li>
<p><a href=/cache/how-to/cache-rules/create-dashboard/ class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Create a cache rule</span></a> to determine edge cache behavior for any hostname containing <code>example.com</code>:</p>
 <div class="DocsMarkdown--example">
<ul>
<li>
<p><strong>When incoming requests match</strong>: Custom filter expression</p>
<ul>
<li>Using the Expression Builder:<br>
<code>Hostname contains &quot;example.com&quot;</code></li>
<li>Using the Expression Editor:<br>
<code>(http.host contains &quot;example.com&quot;)</code></li>
</ul>
</li>
<li>
<p><strong>Then</strong>:</p>
<ul>
<li><strong>Cache eligibility</strong>: Eligible for cache</li>
<li><strong>Setting</strong>: Origin Cache Control
<ul>
<li><strong>Enable Origin Cache Control</strong>: Off</li>
</ul>
</li>
</ul>
</li>
</ul>
 </div>
 <aside class="DocsMarkdown--aside" role="note" data-type="warning"><p>The default behavior of Cache Rules is different from Page Rules. Refer to <a href=#behavior-change-in-cache-rules class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Behavior change in Cache Rules</span></a> for more information.</p>
 </aside>
</li>
<li>
<p>Turn off your existing Page Rule and validate the behavior of the cache rule you created.</p>
</li>
<li>
<p>If your tests succeed, delete the existing Page Rule.</p>
</li>
</ol>
</div>
<div class="tab  noCodeTab" id="tab-visual guide-e8a2705c1f140e4a"><table>
<thead>
<tr>
<th>Page Rules configuration</th>
<th>Migrate to a cache rule</th>
</tr>
</thead>
<tbody>
<tr>
<td><figure class="image-caption">
    <img alt="Example Page Rule with &amp;lsquo;Origin Cache Control&amp;rsquo; setting" src="/images/rules/reference/page-rules-migration/pr-origin-cache-control_hua6dff81da5ba56493589ce4606565291_69858_770x710_resize_q75_box_3.png" loading="lazy" class="image-figure lightbox"
    height="710" width="770"
    style="aspect-ratio:1.0845211267605634;height: auto;"/>
    <figcaption></figcaption>
</figure></td>
<td><figure class="image-caption">
    <img alt="Cache rule matching the &amp;lsquo;Origin Cache Control&amp;rsquo; setting of the example Page Rule" src="/images/rules/reference/page-rules-migration/pr-origin-cache-control-new_huf5ceedcf67cf754a79ca8f33f753d834_262931_1072x1702_resize_q75_box_3.png" loading="lazy" class="image-figure lightbox"
    height="1702" width="1072"
    style="aspect-ratio:0.6298531139835487;height: auto;"/>
    <figcaption></figcaption>
</figure></td>
</tr>
</tbody>
</table>
</div>

</div>
<h3 id="migrate-origin-error-page-pass-thru">
    <span class="DocsMarkdown--header-anchor-positioner">
      <a class="DocsMarkdown--header-anchor Link Link-without-underline" href="#migrate-origin-error-page-pass-thru">&#8203;​</a>
    </span>
    <span>Migrate Origin Error Page Pass-thru</span>
  </h3><div class="tabs-wrapper" tab-wrapper-id="1647dbd859d8bf76">
<nav role="navigation" class="tabs">
<ul class="tab-active" block-id="1647dbd859d8bf76">

<li class="tab-label-wrapper">

<a class="tab-label noCodeLabel" href="#" data-link="tab-dashboard" data-id="1647dbd859d8bf76">
Dashboard
</a>

</li>

<li class="tab-label-wrapper">

<a class="tab-label noCodeLabel" href="#" data-link="tab-visual guide" data-id="1647dbd859d8bf76">
Visual guide
</a>

</li>

</ul>
</nav>

<div class="tab  noCodeTab" id="tab-dashboard-1647dbd859d8bf76"><p><strong>Context:</strong></p>
<p>You configured a Page Rule turning on Origin Error Page Pass-thru for all subdomains of <code>example.com</code> and the <code>example.com</code> domain itself:</p>
<ul>
<li><strong>URL</strong>: <code>*example.com/*</code></li>
<li><strong>Setting</strong>: <em>Origin Error Page Pass-thru</em></li>
<li><strong>Value</strong>: On</li>
</ul>
<p><strong>How to migrate</strong>:</p>
<ol>
<li>
<p><a href=/cache/how-to/cache-rules/create-dashboard/ class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Create a cache rule</span></a> to determine edge cache behavior for any hostname containing <code>example.com</code>:</p>
 <div class="DocsMarkdown--example">
<ul>
<li>
<p><strong>When incoming requests match</strong>: Custom filter expression</p>
<ul>
<li>Using the Expression Builder:<br>
<code>Hostname contains &quot;example.com&quot;</code></li>
<li>Using the Expression Editor:<br>
<code>(http.host contains &quot;example.com&quot;)</code></li>
</ul>
</li>
<li>
<p><strong>Then</strong>:</p>
<ul>
<li><strong>Cache eligibility</strong>: Eligible for cache</li>
<li><strong>Setting</strong>: Origin error page pass-thru
<ul>
<li><strong>Use Origin error page pass-thru</strong>: On</li>
</ul>
</li>
</ul>
</li>
</ul>
 </div>
 <aside class="DocsMarkdown--aside" role="note" data-type="warning"><p>The default behavior of Cache Rules is different from Page Rules. Refer to <a href=#behavior-change-in-cache-rules class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Behavior change in Cache Rules</span></a> for more information.</p>
 </aside>
</li>
<li>
<p>Turn off your existing Page Rule and validate the behavior of the cache rule you created.</p>
</li>
<li>
<p>If your tests succeed, delete the existing Page Rule.</p>
</li>
</ol>
</div>
<div class="tab  noCodeTab" id="tab-visual guide-1647dbd859d8bf76"><table>
<thead>
<tr>
<th>Page Rules configuration</th>
<th>Migrate to a cache rule</th>
</tr>
</thead>
<tbody>
<tr>
<td><figure class="image-caption">
    <img alt="Example Page Rule with &amp;lsquo;Origin Error Page Pass-thru&amp;rsquo; setting" src="/images/rules/reference/page-rules-migration/pr-origin-error-page-pass-thru_hua6dff81da5ba56493589ce4606565291_70696_770x710_resize_q75_box_3.png" loading="lazy" class="image-figure lightbox"
    height="710" width="770"
    style="aspect-ratio:1.0845211267605634;height: auto;"/>
    <figcaption></figcaption>
</figure></td>
<td><figure class="image-caption">
    <img alt="Cache rule matching the &amp;lsquo;Origin Error Page Pass-thru &amp;gt; On&amp;rsquo; setting of the example Page Rule" src="/images/rules/reference/page-rules-migration/pr-origin-error-page-pass-thru-new_hu5a3aa44231fd56f526368e1743ce4803_245343_1052x1612_resize_q75_box_3.png" loading="lazy" class="image-figure lightbox"
    height="1612" width="1052"
    style="aspect-ratio:0.6526116625310173;height: auto;"/>
    <figcaption></figcaption>
</figure></td>
</tr>
</tbody>
</table>
</div>

</div>
<h3 id="migrate-polish">
    <span class="DocsMarkdown--header-anchor-positioner">
      <a class="DocsMarkdown--header-anchor Link Link-without-underline" href="#migrate-polish">&#8203;​</a>
    </span>
    <span>Migrate Polish</span>
  </h3><div class="tabs-wrapper" tab-wrapper-id="f8ac3d8bf22514d8">
<nav role="navigation" class="tabs">
<ul class="tab-active" block-id="f8ac3d8bf22514d8">

<li class="tab-label-wrapper">

<a class="tab-label noCodeLabel" href="#" data-link="tab-dashboard" data-id="f8ac3d8bf22514d8">
Dashboard
</a>

</li>

<li class="tab-label-wrapper">

<a class="tab-label noCodeLabel" href="#" data-link="tab-visual guide" data-id="f8ac3d8bf22514d8">
Visual guide
</a>

</li>

</ul>
</nav>

<div class="tab  noCodeTab" id="tab-dashboard-f8ac3d8bf22514d8"><p><strong>Context:</strong></p>
<p>You configured a Page Rule turning off <a href=/images/polish/ class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Polish</span></a> for all subdomains of <code>example.com</code> and the <code>example.com</code> domain itself:</p>
<ul>
<li><strong>URL</strong>: <code>*example.com/*</code></li>
<li><strong>Setting</strong>: Polish</li>
<li><strong>Value</strong>: Off</li>
</ul>
<p><strong>How to migrate</strong>:</p>
<ol>
<li>
<p><a href=/rules/configuration-rules/create-dashboard/ class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Create a configuration rule</span></a> to turn off Polish for any hostname containing <code>example.com</code>:</p>
 <div class="DocsMarkdown--example">
<ul>
<li>
<p><strong>When incoming requests match</strong>: Custom filter expression</p>
<ul>
<li>Using the Expression Builder:<br>
<code>Hostname contains &quot;example.com&quot;</code></li>
<li>Using the Expression Editor:<br>
<code>(http.host contains &quot;example.com&quot;)</code></li>
</ul>
</li>
<li>
<p><strong>Then the settings are</strong>:</p>
<ul>
<li><strong>Setting</strong>: Polish
<ul>
<li><strong>Select value</strong>: <em>Off</em></li>
</ul>
</li>
</ul>
</li>
</ul>
 </div>
</li>
<li>
<p>Turn off your existing Page Rule and validate the behavior of the configuration rule you created.</p>
</li>
<li>
<p>If your tests succeed, delete the existing Page Rule.</p>
</li>
</ol>
</div>
<div class="tab  noCodeTab" id="tab-visual guide-f8ac3d8bf22514d8"><table>
<thead>
<tr>
<th>Page Rules configuration</th>
<th>Migrate to a configuration rule</th>
</tr>
</thead>
<tbody>
<tr>
<td><figure class="image-caption">
    <img alt="Example Page Rule with &amp;lsquo;Polish&amp;rsquo; setting" src="/images/rules/reference/page-rules-migration/pr-polish_hu59b4826314fdca6f53312c69b7e5a1bb_38055_527x485_resize_q75_box_3.png" loading="lazy" class="image-figure lightbox"
    height="485" width="527"
    style="aspect-ratio:1.086618556701031;height: auto;"/>
    <figcaption></figcaption>
</figure></td>
<td><figure class="image-caption">
    <img alt="Configuration rule matching the &amp;lsquo;Polish &amp;gt; Off&amp;rsquo; setting of the example Page Rule" src="/images/rules/reference/page-rules-migration/pr-polish-new_hu1b9d9a3192ff0a12ae63c03c69708be0_97195_705x1272_resize_q75_box_3.png" loading="lazy" class="image-figure lightbox"
    height="1272" width="705"
    style="aspect-ratio:0.554253144654088;height: auto;"/>
    <figcaption></figcaption>
</figure></td>
</tr>
</tbody>
</table>
</div>

</div>
<h3 id="migrate-query-string-sort">
    <span class="DocsMarkdown--header-anchor-positioner">
      <a class="DocsMarkdown--header-anchor Link Link-without-underline" href="#migrate-query-string-sort">&#8203;​</a>
    </span>
    <span>Migrate Query String Sort</span>
  </h3><div class="tabs-wrapper" tab-wrapper-id="df93ca4fbded1290">
<nav role="navigation" class="tabs">
<ul class="tab-active" block-id="df93ca4fbded1290">

<li class="tab-label-wrapper">

<a class="tab-label noCodeLabel" href="#" data-link="tab-dashboard" data-id="df93ca4fbded1290">
Dashboard
</a>

</li>

<li class="tab-label-wrapper">

<a class="tab-label noCodeLabel" href="#" data-link="tab-visual guide" data-id="df93ca4fbded1290">
Visual guide
</a>

</li>

</ul>
</nav>

<div class="tab  noCodeTab" id="tab-dashboard-df93ca4fbded1290"><p><strong>Context:</strong></p>
<p>You configured a Page Rule turning on Query String Sort for all subdomains of <code>example.com</code> and the <code>example.com</code> domain itself:</p>
<ul>
<li><strong>URL</strong>: <code>*example.com/*</code></li>
<li><strong>Setting</strong>: <em>Query String Sort</em></li>
<li><strong>Value</strong>: On</li>
</ul>
<p><strong>How to migrate</strong>:</p>
<ol>
<li>
<p><a href=/cache/how-to/cache-rules/create-dashboard/ class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Create a cache rule</span></a> to sort query string parameters for caching purposes, for any hostname containing <code>example.com</code>:</p>
 <div class="DocsMarkdown--example">
<ul>
<li>
<p><strong>When incoming requests match</strong>: Custom filter expression</p>
<ul>
<li>Using the Expression Builder:<br>
<code>Hostname contains &quot;example.com&quot;</code></li>
<li>Using the Expression Editor:<br>
<code>(http.host contains &quot;example.com&quot;)</code></li>
</ul>
</li>
<li>
<p><strong>Then</strong>:</p>
<ul>
<li><strong>Cache eligibility</strong>: Eligible for cache</li>
<li><strong>Setting</strong>: Cache key
<ul>
<li><strong>Sort query string</strong>: On</li>
</ul>
</li>
</ul>
</li>
</ul>
 </div>
 <aside class="DocsMarkdown--aside" role="note" data-type="warning"><p>The default behavior of Cache Rules is different from Page Rules. Refer to <a href=#behavior-change-in-cache-rules class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Behavior change in Cache Rules</span></a> for more information.</p>
 </aside>
</li>
<li>
<p>Turn off your existing Page Rule and validate the behavior of the cache rule you created.</p>
</li>
<li>
<p>If your tests succeed, delete the existing Page Rule.</p>
</li>
</ol>
</div>
<div class="tab  noCodeTab" id="tab-visual guide-df93ca4fbded1290"><table>
<thead>
<tr>
<th>Page Rules configuration</th>
<th>Migrate to a cache rule</th>
</tr>
</thead>
<tbody>
<tr>
<td><figure class="image-caption">
    <img alt="Example Page Rule with &amp;lsquo;Query String Sort&amp;rsquo; setting" src="/images/rules/reference/page-rules-migration/pr-query-string-sort_hufb3bb28a16ef9d485339c870b991b61d_38916_513x481_resize_q75_box_3.png" loading="lazy" class="image-figure lightbox"
    height="481" width="513"
    style="aspect-ratio:1.0665488565488566;height: auto;"/>
    <figcaption></figcaption>
</figure></td>
<td><figure class="image-caption">
    <img alt="Cache rule matching the &amp;lsquo;Query String Sort &amp;gt; On&amp;rsquo; setting of the example Page Rule" src="/images/rules/reference/page-rules-migration/pr-query-string-sort-new_huac568db4669e4873a187a4cc8c67c612_79022_705x869_resize_q75_box_3.png" loading="lazy" class="image-figure lightbox"
    height="869" width="705"
    style="aspect-ratio:0.811288837744534;height: auto;"/>
    <figcaption></figcaption>
</figure></td>
</tr>
</tbody>
</table>
</div>

</div>
<h3 id="migrate-resolve-override">
    <span class="DocsMarkdown--header-anchor-positioner">
      <a class="DocsMarkdown--header-anchor Link Link-without-underline" href="#migrate-resolve-override">&#8203;​</a>
    </span>
    <span>Migrate Resolve Override</span>
  </h3><div class="tabs-wrapper" tab-wrapper-id="057adff47d267fe3">
<nav role="navigation" class="tabs">
<ul class="tab-active" block-id="057adff47d267fe3">

<li class="tab-label-wrapper">

<a class="tab-label noCodeLabel" href="#" data-link="tab-dashboard" data-id="057adff47d267fe3">
Dashboard
</a>

</li>

<li class="tab-label-wrapper">

<a class="tab-label noCodeLabel" href="#" data-link="tab-visual guide" data-id="057adff47d267fe3">
Visual guide
</a>

</li>

</ul>
</nav>

<div class="tab  noCodeTab" id="tab-dashboard-057adff47d267fe3"><p><strong>Context:</strong></p>
<p>You configured a Page Rule changing the origin to <code>example.saas-provider.com</code>, for all requests addressed at any subdomain of <code>example.com</code> and the <code>example.com</code> domain itself:</p>
<ul>
<li><strong>URL</strong>: <code>*example.com/*</code></li>
<li><strong>Setting</strong>: <em>Resolve Override</em></li>
<li><strong>Enter value</strong>: <code>example.saas-provider.com</code></li>
</ul>
<p><strong>How to migrate</strong>:</p>
<ol>
<li>
<p><a href=/rules/origin-rules/create-dashboard/ class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Create an origin rule</span></a> overriding the origin to <code>example.saas-provider.com</code> for any hostname containing <code>example.com</code>:</p>
 <div class="DocsMarkdown--example">
<ul>
<li>
<p><strong>When incoming requests match</strong>: Custom filter expression</p>
<ul>
<li>Using the Expression Builder:<br>
<code>Hostname contains &quot;example.com&quot;</code></li>
<li>Using the Expression Editor:<br>
<code>(http.host contains &quot;example.com&quot;)</code></li>
</ul>
</li>
<li>
<p><strong>Then</strong>:</p>
<ul>
<li><strong>DNS Record</strong> &gt; <strong>Override to</strong>: <code>example.saas-provider.com</code></li>
</ul>
</li>
</ul>
 </div>
</li>
<li>
<p>Turn off your existing Page Rule and validate the behavior of the origin rule you created.</p>
</li>
<li>
<p>If your tests succeed, delete the existing Page Rule.</p>
</li>
</ol>
</div>
<div class="tab  noCodeTab" id="tab-visual guide-057adff47d267fe3"><table>
<thead>
<tr>
<th>Page Rules configuration</th>
<th>Migrate to an origin rule</th>
</tr>
</thead>
<tbody>
<tr>
<td><figure class="image-caption">
    <img alt="Example Page Rule with &amp;lsquo;Resolve Override&amp;rsquo; setting" src="/images/rules/reference/page-rules-migration/pr-resolve-override_hud94e3f1fa57f50847883d70ec5f19751_88795_750x691_resize_q75_box_3.png" loading="lazy" class="image-figure lightbox"
    height="691" width="750"
    style="aspect-ratio:1.085397973950796;height: auto;"/>
    <figcaption></figcaption>
</figure></td>
<td><figure class="image-caption">
    <img alt="Origin rule matching the &amp;lsquo;Resolve Override&amp;rsquo; setting of the example Page Rule" src="/images/rules/reference/page-rules-migration/pr-resolve-override-new_hub73b53e9ddb54478de6d054cafc86f10_114310_1052x1440_resize_q75_box_3.png" loading="lazy" class="image-figure lightbox"
    height="1440" width="1052"
    style="aspect-ratio:0.7305625;height: auto;"/>
    <figcaption></figcaption>
</figure></td>
</tr>
</tbody>
</table>
</div>

</div>
<h3 id="migrate-respect-strong-etags">
    <span class="DocsMarkdown--header-anchor-positioner">
      <a class="DocsMarkdown--header-anchor Link Link-without-underline" href="#migrate-respect-strong-etags">&#8203;​</a>
    </span>
    <span>Migrate Respect Strong ETags</span>
  </h3><div class="tabs-wrapper" tab-wrapper-id="192272e77c6cfadf">
<nav role="navigation" class="tabs">
<ul class="tab-active" block-id="192272e77c6cfadf">

<li class="tab-label-wrapper">

<a class="tab-label noCodeLabel" href="#" data-link="tab-dashboard" data-id="192272e77c6cfadf">
Dashboard
</a>

</li>

<li class="tab-label-wrapper">

<a class="tab-label noCodeLabel" href="#" data-link="tab-visual guide" data-id="192272e77c6cfadf">
Visual guide
</a>

</li>

</ul>
</nav>

<div class="tab  noCodeTab" id="tab-dashboard-192272e77c6cfadf"><p><strong>Context:</strong></p>
<p>You configured a Page Rule turning on byte-for-byte equivalency checks for all subdomains of <code>example.com</code> and the <code>example.com</code> domain itself:</p>
<ul>
<li><strong>URL</strong>: <code>*example.com/*</code></li>
<li><strong>Setting</strong>: <em>Respect Strong ETags</em></li>
<li><strong>Value</strong>: On</li>
</ul>
<p><strong>How to migrate</strong>:</p>
<ol>
<li>
<p><a href=/cache/how-to/cache-rules/create-dashboard/ class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Create a cache rule</span></a> to respect strong ETags for any hostname containing <code>example.com</code>:</p>
 <div class="DocsMarkdown--example">
<ul>
<li>
<p><strong>When incoming requests match</strong>: Custom filter expression</p>
<ul>
<li>Using the Expression Builder:<br>
<code>Hostname contains &quot;example.com&quot;</code></li>
<li>Using the Expression Editor:<br>
<code>(http.host contains &quot;example.com&quot;)</code></li>
</ul>
</li>
<li>
<p><strong>Then</strong>:</p>
<ul>
<li><strong>Cache eligibility</strong>: Eligible for cache</li>
<li><strong>Setting</strong>: Respect strong ETags
<ul>
<li><strong>Use strong ETag headers</strong>: On</li>
</ul>
</li>
</ul>
</li>
</ul>
 </div>
 <aside class="DocsMarkdown--aside" role="note" data-type="warning"><p>The default behavior of Cache Rules is different from Page Rules. Refer to <a href=#behavior-change-in-cache-rules class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Behavior change in Cache Rules</span></a> for more information.</p>
 </aside>
</li>
<li>
<p>Turn off your existing Page Rule and validate the behavior of the cache rule you created.</p>
</li>
<li>
<p>If your tests succeed, delete the existing Page Rule.</p>
</li>
</ol>
</div>
<div class="tab  noCodeTab" id="tab-visual guide-192272e77c6cfadf"><table>
<thead>
<tr>
<th>Page Rules configuration</th>
<th>Migrate to a cache rule</th>
</tr>
</thead>
<tbody>
<tr>
<td><figure class="image-caption">
    <img alt="Example Page Rule with &amp;lsquo;Respect Strong ETags&amp;rsquo; setting" src="/images/rules/reference/page-rules-migration/pr-respect-strong-etags_hu5ea1b843754ed2145f906e359dd3fac1_68356_769x718_resize_q75_box_3.png" loading="lazy" class="image-figure lightbox"
    height="718" width="769"
    style="aspect-ratio:1.0710445682451253;height: auto;"/>
    <figcaption></figcaption>
</figure></td>
<td><figure class="image-caption">
    <img alt="Cache rule matching the &amp;lsquo;Respect Strong ETags &amp;gt; On&amp;rsquo; setting of the example Page Rule" src="/images/rules/reference/page-rules-migration/pr-respect-strong-etags-new_hue34d6b02555caefe023d6c56ca80c2e6_179653_1053x1524_resize_q75_box_3.png" loading="lazy" class="image-figure lightbox"
    height="1524" width="1053"
    style="aspect-ratio:0.6909514435695538;height: auto;"/>
    <figcaption></figcaption>
</figure></td>
</tr>
</tbody>
</table>
</div>

</div>
<h3 id="migrate-rocket-loader">
    <span class="DocsMarkdown--header-anchor-positioner">
      <a class="DocsMarkdown--header-anchor Link Link-without-underline" href="#migrate-rocket-loader">&#8203;​</a>
    </span>
    <span>Migrate Rocket Loader</span>
  </h3><div class="tabs-wrapper" tab-wrapper-id="0b760586d4260746">
<nav role="navigation" class="tabs">
<ul class="tab-active" block-id="0b760586d4260746">

<li class="tab-label-wrapper">

<a class="tab-label noCodeLabel" href="#" data-link="tab-dashboard" data-id="0b760586d4260746">
Dashboard
</a>

</li>

<li class="tab-label-wrapper">

<a class="tab-label noCodeLabel" href="#" data-link="tab-visual guide" data-id="0b760586d4260746">
Visual guide
</a>

</li>

</ul>
</nav>

<div class="tab  noCodeTab" id="tab-dashboard-0b760586d4260746"><p><strong>Context:</strong></p>
<p>You configured a Page Rule turning off Rocket Loader for all subdomains of <code>example.com</code> and the <code>example.com</code> domain itself:</p>
<ul>
<li><strong>URL</strong>: <code>*example.com/*</code></li>
<li><strong>Setting</strong>: <em>Rocket Loader</em></li>
<li><strong>Value</strong>: Off</li>
</ul>
<p><strong>How to migrate</strong>:</p>
<ol>
<li>
<p><a href=/rules/configuration-rules/create-dashboard/ class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Create a configuration rule</span></a> to turn off Rocket Loader for any hostname containing <code>example.com</code>:</p>
 <div class="DocsMarkdown--example">
<ul>
<li>
<p><strong>When incoming requests match</strong>: Custom filter expression</p>
<ul>
<li>Using the Expression Builder:<br>
<code>Hostname contains &quot;example.com&quot;</code></li>
<li>Using the Expression Editor:<br>
<code>(http.host contains &quot;example.com&quot;)</code></li>
</ul>
</li>
<li>
<p><strong>Then the settings are</strong>:</p>
<ul>
<li><strong>Setting</strong>: Rocket Loader
<ul>
<li><strong>Value</strong>: Off</li>
</ul>
</li>
</ul>
</li>
</ul>
 </div>
</li>
<li>
<p>Turn off your existing Page Rule and validate the behavior of the configuration rule you created.</p>
</li>
<li>
<p>If your tests succeed, delete the existing Page Rule.</p>
</li>
</ol>
</div>
<div class="tab  noCodeTab" id="tab-visual guide-0b760586d4260746"><table>
<thead>
<tr>
<th>Page Rules configuration</th>
<th>Migrate to a configuration rule</th>
</tr>
</thead>
<tbody>
<tr>
<td><figure class="image-caption">
    <img alt="Example Page Rule with &amp;lsquo;Rocket Loader&amp;rsquo; setting" src="/images/rules/reference/page-rules-migration/pr-rocket-loader_huccb6fddd0637781477c16fe997fa59a2_38737_523x487_resize_q75_box_3.png" loading="lazy" class="image-figure lightbox"
    height="487" width="523"
    style="aspect-ratio:1.0739425051334701;height: auto;"/>
    <figcaption></figcaption>
</figure></td>
<td><figure class="image-caption">
    <img alt="Configuration rule matching the &amp;lsquo;Rocket Loader &amp;gt; Off&amp;rsquo; setting of the example Page Rule" src="/images/rules/reference/page-rules-migration/pr-rocket-loader-new_huf1628f80caa2935af0489f506f0b8d85_102395_699x1329_resize_q75_box_3.png" loading="lazy" class="image-figure lightbox"
    height="1329" width="699"
    style="aspect-ratio:0.5259668924003009;height: auto;"/>
    <figcaption></figcaption>
</figure></td>
</tr>
</tbody>
</table>
</div>

</div>
<h3 id="migrate-security-level">
    <span class="DocsMarkdown--header-anchor-positioner">
      <a class="DocsMarkdown--header-anchor Link Link-without-underline" href="#migrate-security-level">&#8203;​</a>
    </span>
    <span>Migrate Security Level</span>
  </h3><div class="tabs-wrapper" tab-wrapper-id="22d33ab89bcc45c9">
<nav role="navigation" class="tabs">
<ul class="tab-active" block-id="22d33ab89bcc45c9">

<li class="tab-label-wrapper">

<a class="tab-label noCodeLabel" href="#" data-link="tab-dashboard" data-id="22d33ab89bcc45c9">
Dashboard
</a>

</li>

<li class="tab-label-wrapper">

<a class="tab-label noCodeLabel" href="#" data-link="tab-visual guide" data-id="22d33ab89bcc45c9">
Visual guide
</a>

</li>

</ul>
</nav>

<div class="tab  noCodeTab" id="tab-dashboard-22d33ab89bcc45c9"><p><strong>Context:</strong></p>
<p>You configured a Page Rule setting Security Level to <em>I&rsquo;m Under Attack</em> for all subdomains of <code>example.com</code> and the <code>example.com</code> domain itself:</p>
<ul>
<li><strong>URL</strong>: <code>*example.com/*</code></li>
<li><strong>Setting</strong>: <em>Security Level</em></li>
<li><strong>Select Security Level</strong>: <em>I&rsquo;m Under Attack</em></li>
</ul>
<p><strong>How to migrate</strong>:</p>
<ol>
<li>
<p><a href=/rules/configuration-rules/create-dashboard/ class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Create a configuration rule</span></a> to set Security Level to <em>I&rsquo;m Under Attack</em>, for any hostname containing <code>example.com</code>:</p>
 <div class="DocsMarkdown--example">
<ul>
<li>
<p><strong>When incoming requests match</strong>: Custom filter expression</p>
<ul>
<li>Using the Expression Builder:<br>
<code>Hostname contains &quot;example.com&quot;</code></li>
<li>Using the Expression Editor:<br>
<code>(http.host contains &quot;example.com&quot;)</code></li>
</ul>
</li>
<li>
<p><strong>Then the settings are</strong>:</p>
<ul>
<li><strong>Setting</strong>: Security Level
<ul>
<li><strong>Select Security Level</strong>: <em>I&rsquo;m Under Attack</em></li>
</ul>
</li>
</ul>
</li>
</ul>
 </div>
</li>
<li>
<p>Turn off your existing Page Rule and validate the behavior of the configuration rule you created.</p>
</li>
<li>
<p>If your tests succeed, delete the existing Page Rule.</p>
</li>
</ol>
</div>
<div class="tab  noCodeTab" id="tab-visual guide-22d33ab89bcc45c9"><table>
<thead>
<tr>
<th>Page Rules configuration</th>
<th>Migrate to a configuration rule</th>
</tr>
</thead>
<tbody>
<tr>
<td><figure class="image-caption">
    <img alt="Example Page Rule with &amp;lsquo;Security Level&amp;rsquo; setting" src="/images/rules/reference/page-rules-migration/pr-security-level_hub2505e8dd63be19ec902850c1c3f3ee2_39198_517x480_resize_q75_box_3.png" loading="lazy" class="image-figure lightbox"
    height="480" width="517"
    style="aspect-ratio:1.0771041666666668;height: auto;"/>
    <figcaption></figcaption>
</figure></td>
<td><figure class="image-caption">
    <img alt="Configuration rule matching the &amp;ldquo;Security Level &amp;gt; I&amp;rsquo;m Under Attack&amp;rdquo; setting of the example Page Rule" src="/images/rules/reference/page-rules-migration/pr-security-level-new_hu9f65dfcc73677e3ef4bd58c1617d1780_110203_701x1431_resize_q75_box_3.png" loading="lazy" class="image-figure lightbox"
    height="1431" width="701"
    style="aspect-ratio:0.489874213836478;height: auto;"/>
    <figcaption></figcaption>
</figure></td>
</tr>
</tbody>
</table>
</div>

</div>
<h3 id="migrate-true-client-ip-header">
    <span class="DocsMarkdown--header-anchor-positioner">
      <a class="DocsMarkdown--header-anchor Link Link-without-underline" href="#migrate-true-client-ip-header">&#8203;​</a>
    </span>
    <span>Migrate True Client IP Header</span>
  </h3><div class="tabs-wrapper" tab-wrapper-id="c249210e99fa991e">
<nav role="navigation" class="tabs">
<ul class="tab-active" block-id="c249210e99fa991e">

<li class="tab-label-wrapper">

<a class="tab-label noCodeLabel" href="#" data-link="tab-dashboard" data-id="c249210e99fa991e">
Dashboard
</a>

</li>

<li class="tab-label-wrapper">

<a class="tab-label noCodeLabel" href="#" data-link="tab-visual guide" data-id="c249210e99fa991e">
Visual guide
</a>

</li>

</ul>
</nav>

<div class="tab  noCodeTab" id="tab-dashboard-c249210e99fa991e"><p><strong>Context:</strong></p>
<p>You configured a Page Rule adding a <code>True-Client-IP</code> HTTP header for all requests addressed at any subdomain of <code>example.com</code> and the <code>example.com</code> domain itself:</p>
<ul>
<li><strong>URL</strong>: <code>*example.com/*</code></li>
<li><strong>Setting</strong>: <em>True Client IP Header</em></li>
<li><strong>Value</strong>: On</li>
</ul>
<p><strong>How to migrate</strong>:</p>
<ol>
<li><a href=/rules/transform/managed-transforms/configure/ class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Turn on the <strong>Add &ldquo;True-Client-IP&rdquo; header</strong> Managed Transform</span></a> — a Transform Rules feature — to add the <code>True-Client-IP</code> header to all requests.</li>
<li>Turn off your existing Page Rule and validate the behavior of the Managed Transform.</li>
<li>If your tests succeed, delete the existing Page Rule.</li>
</ol>
</div>
<div class="tab  noCodeTab" id="tab-visual guide-c249210e99fa991e"><table>
<thead>
<tr>
<th>Page Rules configuration</th>
<th>Migrate to a Managed Transform</th>
</tr>
</thead>
<tbody>
<tr>
<td><figure class="image-caption">
    <img alt="Example Page Rule with &amp;lsquo;True Client IP Header&amp;rsquo; setting" src="/images/rules/reference/page-rules-migration/pr-true-client-ip-header_hu1fdd74f00f9b2c4a91c9be56b27bfc1c_66675_769x708_resize_q75_box_3.png" loading="lazy" class="image-figure lightbox"
    height="708" width="769"
    style="aspect-ratio:1.0861723163841808;height: auto;"/>
    <figcaption></figcaption>
</figure></td>
<td><figure class="image-caption">
    <img alt="The &amp;lsquo;Add &amp;ldquo;True-Client-IP&amp;rdquo; header&amp;rsquo; Managed Transform matching the &amp;lsquo;True Client IP Header&amp;rsquo; setting of the example Page Rule" src="/images/rules/reference/page-rules-migration/pr-true-client-ip-header-new_hu91ece5276b4f988f4f0e696479388cb8_106885_1034x653_resize_q75_box_3.png" loading="lazy" class="image-figure lightbox"
    height="653" width="1034"
    style="aspect-ratio:1.5834762633996937;height: auto;"/>
    <figcaption></figcaption>
</figure></td>
</tr>
</tbody>
</table>
</div>

</div>
<h3 id="migrate-ssl">
    <span class="DocsMarkdown--header-anchor-positioner">
      <a class="DocsMarkdown--header-anchor Link Link-without-underline" href="#migrate-ssl">&#8203;​</a>
    </span>
    <span>Migrate SSL</span>
  </h3><div class="tabs-wrapper" tab-wrapper-id="467e883a5a145719">
<nav role="navigation" class="tabs">
<ul class="tab-active" block-id="467e883a5a145719">

<li class="tab-label-wrapper">

<a class="tab-label noCodeLabel" href="#" data-link="tab-dashboard" data-id="467e883a5a145719">
Dashboard
</a>

</li>

<li class="tab-label-wrapper">

<a class="tab-label noCodeLabel" href="#" data-link="tab-visual guide" data-id="467e883a5a145719">
Visual guide
</a>

</li>

</ul>
</nav>

<div class="tab  noCodeTab" id="tab-dashboard-467e883a5a145719"><p><strong>Context:</strong></p>
<p>You configured a Page Rule setting SSL to <em>Strict</em> for all subdomains of <code>example.com</code> and the <code>example.com</code> domain itself:</p>
<ul>
<li><strong>URL</strong>: <code>*example.com/*</code></li>
<li><strong>Setting</strong>: <em>SSL</em></li>
<li><strong>Select SSL/TLS encryption mode</strong>: <em>Strict</em></li>
</ul>
<p><strong>How to migrate</strong>:</p>
<ol>
<li>
<p><a href=/rules/configuration-rules/create-dashboard/ class="DocsMarkdown--link"><span class="DocsMarkdown--link-content">Create a configuration rule</span></a> to set SSL to <em>Strict</em>, for any hostname containing <code>example.com</code>:</p>
 <div class="DocsMarkdown--example">
<ul>
<li>
<p><strong>When incoming requests match</strong>: Custom filter expression</p>
<ul>
<li>Using the Expression Builder:<br>
<code>Hostname contains &quot;example.com&quot;</code></li>
<li>Using the Expression Editor:<br>
<code>(http.host contains &quot;example.com&quot;)</code></li>
</ul>
</li>
<li>
<p><strong>Then the settings are</strong>:</p>
<ul>
<li><strong>Setting</strong>: SSL
<ul>
<li><strong>Select SSL/TLS encryption mode</strong>: <em>Strict</em></li>
</ul>
</li>
</ul>
</li>
</ul>
 </div>
</li>
<li>
<p>Turn off your existing Page Rule and validate the behavior of the configuration rule you created.</p>
</li>
<li>
<p>If your tests succeed, delete the existing Page Rule.</p>
</li>
</ol>
</div>
<div class="tab  noCodeTab" id="tab-visual guide-467e883a5a145719"><table>
<thead>
<tr>
<th>Page Rules configuration</th>
<th>Migrate to a configuration rule</th>
</tr>
</thead>
<tbody>
<tr>
<td><figure class="image-caption">
    <img alt="Example Page Rule with &amp;lsquo;SSL&amp;rsquo; setting" src="/images/rules/reference/page-rules-migration/pr-ssl_hudaa9a448b05e77f7001b3677a9b80911_66759_772x711_resize_q75_box_3.png" loading="lazy" class="image-figure lightbox"
    height="711" width="772"
    style="aspect-ratio:1.0858087201125175;height: auto;"/>
    <figcaption></figcaption>
</figure></td>
<td><figure class="image-caption">
    <img alt="Configuration rule matching the &amp;ldquo;SSL&amp;rdquo; setting of the example Page Rule" src="/images/rules/reference/page-rules-migration/pr-ssl-new_hu81d2d6c65e9e55296df38c9b6ac0fe5f_155812_704x1592_resize_q75_box_3.png" loading="lazy" class="image-figure lightbox"
    height="1592" width="704"
    style="aspect-ratio:0.44221733668341706;height: auto;"/>
    <figcaption></figcaption>
</figure></td>
</tr>
</tbody>
</table>
</div>

</div>
<h2 id="settings-that-will-not-be-migrated">
    <span class="DocsMarkdown--header-anchor-positioner">
      <a class="DocsMarkdown--header-anchor Link Link-without-underline" href="#settings-that-will-not-be-migrated">&#8203;​</a>
    </span>
    <span>Settings that will not be migrated</span>
  </h2><p>The following Page Rules settings will not be migrated to other types of rules:</p>
<ul>
<li><strong>Auto Minify</strong> (this setting is deprecated)</li>
<li><strong>Disable Performance</strong> (this setting is deprecated)</li>
<li><strong>Disable Railgun</strong> (this setting is deprecated, since Railgun is no longer available)</li>
<li><strong>Disable Security</strong> (this setting is deprecated)</li>
<li><strong>Response Buffering</strong> (this setting is deprecated)</li>
<li><strong>Web Application Firewall</strong> (this setting is deprecated, since the previous version of WAF managed rules is deprecated)</li>
</ul>
<p>All other Page Rules settings will be migrated during 2025.</p>
<h2 id="more-resources">
    <span class="DocsMarkdown--header-anchor-positioner">
      <a class="DocsMarkdown--header-anchor Link Link-without-underline" href="#more-resources">&#8203;​</a>
    </span>
    <span>More resources</span>
  </h2><p>If you have feedback to share, refer to our <a href="https://community.cloudflare.com/t/important-page-rules-deprecation/656021" class="DocsMarkdown--link" target="_blank" rel="noopener">
  <span class="DocsMarkdown--link-content">Community thread</span><span class="DocsMarkdown--link-external-icon" aria-hidden="true">
  <svg fill="none" stroke="currentColor" stroke-width="1.5" width="23px" height="12px" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 16 16" role="img" aria-labelledby="title-4744738674102027" xmlns="http://www.w3.org/2000/svg">
    <title id="title-4744738674102027">External link icon</title>
    <path d="M6.75,1.75h-5v12.5h12.5v-5m0,-4v-3.5h-3.5M8,8l5.5-5.5"></path>
  </svg>
  <span is-visually-hidden>Open external link</span>
</span></a>.</p>
</article>
      </div>
    </main>

    <footer class="DocsFooter">
  <div class="DocsFooter--content">
    <div class="DocsFooterResources">      
      <span class="DocsFooter--content-additional-wrapper"><a href="https://dash.cloudflare.com/?to=/:account/:zone/rules" class="DocsMarkdown--link" target="_blank" rel="noopener">
  <span class="DocsMarkdown--link-content">Cloudflare Dashboard</span><span class="DocsMarkdown--link-external-icon" aria-hidden="true">
  <svg fill="none" stroke="currentColor" stroke-width="1.5" width="23px" height="12px" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 16 16" role="img" aria-labelledby="title-4744738674102027" xmlns="http://www.w3.org/2000/svg">
    <title id="title-4744738674102027">External link icon</title>
    <path d="M6.75,1.75h-5v12.5h12.5v-5m0,-4v-3.5h-3.5M8,8l5.5-5.5"></path>
  </svg>
  <span is-visually-hidden>Open external link</span>
</span></a>
      </span>
      
      <span class="DocsFooter--content-dot-spacer"> &nbsp; · &nbsp; </span>

      
      <span class="DocsFooter--content-additional-wrapper"><a href="https://community.cloudflare.com/c/general/rules/66" class="DocsMarkdown--link" target="_blank" rel="noopener">
  <span class="DocsMarkdown--link-content">Community</span><span class="DocsMarkdown--link-external-icon" aria-hidden="true">
  <svg fill="none" stroke="currentColor" stroke-width="1.5" width="23px" height="12px" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 16 16" role="img" aria-labelledby="title-4744738674102027" xmlns="http://www.w3.org/2000/svg">
    <title id="title-4744738674102027">External link icon</title>
    <path d="M6.75,1.75h-5v12.5h12.5v-5m0,-4v-3.5h-3.5M8,8l5.5-5.5"></path>
  </svg>
  <span is-visually-hidden>Open external link</span>
</span></a>
      </span> 
      
      <span class="DocsFooter--content-dot-spacer"> &nbsp; · &nbsp; </span>

      <span class="DocsFooter--content-additional-wrapper"><a href="https://www.cloudflare.com/learning/" class="DocsMarkdown--link" target="_blank" rel="noopener">
  <span class="DocsMarkdown--link-content">Learning Center</span><span class="DocsMarkdown--link-external-icon" aria-hidden="true">
  <svg fill="none" stroke="currentColor" stroke-width="1.5" width="23px" height="12px" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 16 16" role="img" aria-labelledby="title-4744738674102027" xmlns="http://www.w3.org/2000/svg">
    <title id="title-4744738674102027">External link icon</title>
    <path d="M6.75,1.75h-5v12.5h12.5v-5m0,-4v-3.5h-3.5M8,8l5.5-5.5"></path>
  </svg>
  <span is-visually-hidden>Open external link</span>
</span></a></span>

      <span class="DocsFooter--content-dot-spacer"> &nbsp; · &nbsp; </span>

      <span class="DocsFooter--content-additional-wrapper"><a href="/support/contacting-cloudflare-support/" class="DocsMarkdown--link" target="_blank" rel="noopener">
  <span class="DocsMarkdown--link-content">Support Portal</span><span class="DocsMarkdown--link-external-icon" aria-hidden="true">
  <svg fill="none" stroke="currentColor" stroke-width="1.5" width="23px" height="12px" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 16 16" role="img" aria-labelledby="title-4744738674102027" xmlns="http://www.w3.org/2000/svg">
    <title id="title-4744738674102027">External link icon</title>
    <path d="M6.75,1.75h-5v12.5h12.5v-5m0,-4v-3.5h-3.5M8,8l5.5-5.5"></path>
  </svg>
  <span is-visually-hidden>Open external link</span>
</span></a>
      </span>

      <span class="DocsFooter--content-dot-spacer"> &nbsp; · &nbsp; </span>

      <span class="DocsFooter--content-additional-wrapper">
        
          <a role="button" id="ot-sdk-btn" class="ot-sdk-show-settings">Cookie Settings</a>
        
      </span>
    </div>
    <div>
      <span class="DocsFooter--edit-on-gh-link-wrapper"><a href="https://github.com/cloudflare/cloudflare-docs/blob/production/content/rules/reference/page-rules-migration/index.md" class="DocsMarkdown--link" target="_blank" rel="noopener">
  <span class="DocsMarkdown--link-content">Edit on GitHub</span><span class="DocsMarkdown--link-external-icon" aria-hidden="true">
  <svg fill="none" stroke="currentColor" stroke-width="1.5" width="23px" height="12px" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 16 16" role="img" aria-labelledby="title-4744738674102027" xmlns="http://www.w3.org/2000/svg">
    <title id="title-4744738674102027">External link icon</title>
    <path d="M6.75,1.75h-5v12.5h12.5v-5m0,-4v-3.5h-3.5M8,8l5.5-5.5"></path>
  </svg>
  <span is-visually-hidden>Open external link</span>
</span></a></span><span class="DocsFooter--content-dot-spacer"> &nbsp; · &nbsp; </span>

      <span class="DocsFooter--content-time">
        Updated <time
  class="relative"
  datetime=2024-07-30T17:07:43&#43;01:00
  title=2024-07-30
>July 30, 2024</time>
      </span></div>
  </div><script type="module" src="/lightbox.js" defer></script><link rel="stylesheet" href="/lightbox.css">
</footer>

  </div>
<script defer src="https://unpkg.com/littlefoot@4.0.0-11/dist/littlefoot.js" type="application/javascript" ></script>
    <script type="application/javascript"> document.addEventListener('DOMContentLoaded', () => littlefoot.default()) </script>
  </body>
</html>
