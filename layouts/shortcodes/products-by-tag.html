{{- $tags := split (lower (.Get "tags")) "," -}}

{{- $dataArray := partial "folder-data.html" }}

<ul>
  {{ range $product := $dataArray }}
  {{ range $tag := $product.tags }}
  {{ if in $tags (lower $tag) -}}
  {{ $string := printf "[%s](%s)" $product.title $product.url | $.Page.RenderString}}
  <li>{{$string}}</li>
  {{ end }}
  {{ end }}
  {{ end }}
</ul>