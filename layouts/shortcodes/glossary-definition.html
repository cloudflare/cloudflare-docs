{{- $id := .Get "term_id" -}}
{{- $length := default "long" (.Get "length") -}}
{{- $prepend := .Get "prepend" -}}

{{- $glossaryDefinition := partial "glossary-definition.html" (dict "id" $id "length" $length "prepend" $prepend) -}}

{{- $definition := $glossaryDefinition | $.Page.RenderString -}}
{{- if not (in $definition "<p>")}}
{{- $definition = (printf "<p>%s</p>" $definition) | safeHTML }}
{{- end -}}

{{- $definition -}}