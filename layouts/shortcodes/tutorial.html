<div class="tutorialStepContainer">
  {{- .Inner -}}
</div>

<script>
  document.addEventListener("DOMContentLoaded", function() {
  let tutorial = document.getElementsByClassName("tutorialStepContainer");
  if (tutorial) {
    for (const stepContainer of tutorial) {
      let counter = 1;
      let steps = stepContainer.getElementsByClassName("tutorialStep");
      for (const step of steps) {
        const optional = step.getAttribute("data-optional")
        let secondSpan = step.children[0].querySelector("span:nth-child(2)");
        let stepCounter = document.createElement("span");
        stepCounter.className = "stepCounter";
        stepCounter.textContent = counter;
        if (optional === "true") {
          let optionalFlag = document.createElement("span");
          optionalFlag.textContent = "Optional - ";
          secondSpan.prepend(optionalFlag);
          stepCounter.classList.add("optionalStepCounter")
        }
        secondSpan.prepend(stepCounter);
        counter++;
      }
    }
  }
});
</script>