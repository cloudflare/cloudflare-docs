---
pcx-content-type: how-to
title: SAML | Jumpcloud
weight: 5
---

# SAML | Jumpcloud

JumpCloud provides [Directory-as-a-ServiceÂ®](https://jumpcloud.com/daas-product/) to securely connect user identities to systems, apps, files, and networks. Cloudflare Access integrates with JumpCloud using the SAML protocol. [This documentation from JumpCloud](https://support.jumpcloud.com/s/article/getting-started-applications-saml-sso2) can help you configure applications within your JumpCloud deployment.

These steps focus on requirements specific to Cloudflare Zero Trust.

## Set up Jumpcloud SAML

To set up JumpCloud SAML as your identity provider:

1.  Generate a SAML certificate.

    **Tip:** JumpCloud requires that you provide your own certificates for signing SAML assertions. Self-signed certificates are acceptable.

    If you do not have a certificate, this command generates one using OpenSSL:
{{<raw>}}<pre class="CodeBlock CodeBlock-with-rows CodeBlock-scrolls-horizontally CodeBlock-is-light-in-light-theme CodeBlock--language-bash" language="bash"><code><span class="CodeBlock--rows"><span class="CodeBlock--rows-content"><span class="CodeBlock--row"><span class="CodeBlock--row-indicator"></span><div class="CodeBlock--row-content"><span class="CodeBlock--token-plain">$ openssl genrsa -out samlidp.key </span><span class="CodeBlock--token-number">2048</span><span class="CodeBlock--token-plain"> </span><span class="CodeBlock--token-punctuation">;</span><span class="CodeBlock--token-plain"> openssl req -new -x509 -sha256 -key samlidp.key -out samlidp.crt -days </span><span class="CodeBlock--token-number">1095</span></div></span><span class="CodeBlock--row"><span class="CodeBlock--row-indicator"></span><div class="CodeBlock--row-content"><span class="CodeBlock--token-plain">Generating RSA private key, </span><span class="CodeBlock--token-number">2048</span><span class="CodeBlock--token-plain"> bit long modulus</span></div></span><span class="CodeBlock--row"><span class="CodeBlock--row-indicator"></span><div class="CodeBlock--row-content"><span class="CodeBlock--token-plain"></span><span class="CodeBlock--token-punctuation">..</span><span class="CodeBlock--token-punctuation">..</span><span class="CodeBlock--token-punctuation">..</span><span class="CodeBlock--token-punctuation">..</span><span class="CodeBlock--token-punctuation">..</span><span class="CodeBlock--token-punctuation">..</span><span class="CodeBlock--token-punctuation">..</span><span class="CodeBlock--token-punctuation">..</span><span class="CodeBlock--token-punctuation">..</span><span class="CodeBlock--token-punctuation">..</span><span class="CodeBlock--token-punctuation">..</span><span class="CodeBlock--token-punctuation">..</span><span class="CodeBlock--token-punctuation">..</span><span class="CodeBlock--token-punctuation">..</span><span class="CodeBlock--token-punctuation">..</span><span class="CodeBlock--token-punctuation">..</span><span class="CodeBlock--token-punctuation">..</span><span class="CodeBlock--token-punctuation">..</span><span class="CodeBlock--token-punctuation">..</span><span class="CodeBlock--token-punctuation">..</span><span class="CodeBlock--token-punctuation">..</span><span class="CodeBlock--token-punctuation">..</span><span class="CodeBlock--token-punctuation">..</span><span class="CodeBlock--token-punctuation">..</span><span class="CodeBlock--token-punctuation">..</span><span class="CodeBlock--token-punctuation">..</span><span class="CodeBlock--token-punctuation">..</span><span class="CodeBlock--token-punctuation">..</span><span class="CodeBlock--token-punctuation">..</span><span class="CodeBlock--token-punctuation">..</span><span class="CodeBlock--token-punctuation">..</span><span class="CodeBlock--token-punctuation">..</span><span class="CodeBlock--token-punctuation">..</span><span class="CodeBlock--token-punctuation">..</span><span class="CodeBlock--token-punctuation">..</span><span class="CodeBlock--token-punctuation">..</span><span class="CodeBlock--token-punctuation">..</span><span class="CodeBlock--token-punctuation">..</span><span class="CodeBlock--token-punctuation">..</span><span class="CodeBlock--token-punctuation">..</span><span class="CodeBlock--token-plain">.+++++</span></div></span><span class="CodeBlock--row"><span class="CodeBlock--row-indicator"></span><div class="CodeBlock--row-content"><span class="CodeBlock--token-plain"></span><span class="CodeBlock--token-punctuation">..</span><span class="CodeBlock--token-punctuation">..</span><span class="CodeBlock--token-punctuation">..</span><span class="CodeBlock--token-punctuation">..</span><span class="CodeBlock--token-punctuation">..</span><span class="CodeBlock--token-punctuation">..</span><span class="CodeBlock--token-punctuation">..</span><span class="CodeBlock--token-punctuation">..</span><span class="CodeBlock--token-punctuation">..</span><span class="CodeBlock--token-punctuation">..</span><span class="CodeBlock--token-punctuation">..</span><span class="CodeBlock--token-plain">+++++</span></div></span><span class="CodeBlock--row"><span class="CodeBlock--row-indicator"></span><div class="CodeBlock--row-content"><span class="CodeBlock--token-plain">e is </span><span class="CodeBlock--token-number">65537</span><span class="CodeBlock--token-plain"> </span><span class="CodeBlock--token-punctuation">(</span><span class="CodeBlock--token-plain">0x010001</span><span class="CodeBlock--token-punctuation">)</span><span class="CodeBlock--token-plain">
</span></div></span></span></span></code></pre>{{</raw>}}

    When asked to enter a Distinguished Name or a DN to incorporate into your certificate request, you can leave some of these fields blank. Some fields have a default value. Enter a dot (`.`) in the field to leave it blank. For example:
{{<raw>}}<pre class="CodeBlock CodeBlock-with-rows CodeBlock-scrolls-horizontally CodeBlock-is-light-in-light-theme CodeBlock--language-bash" language="bash"><code><span class="CodeBlock--rows"><span class="CodeBlock--rows-content"><span class="CodeBlock--row"><span class="CodeBlock--row-indicator"></span><div class="CodeBlock--row-content"><span class="CodeBlock--token-plain">-----</span></div></span><span class="CodeBlock--row"><span class="CodeBlock--row-indicator"></span><div class="CodeBlock--row-content"><span class="CodeBlock--token-plain">Country Name </span><span class="CodeBlock--token-punctuation">(</span><span class="CodeBlock--token-number">2</span><span class="CodeBlock--token-plain"> letter code</span><span class="CodeBlock--token-punctuation">)</span><span class="CodeBlock--token-plain"> </span><span class="CodeBlock--token-punctuation">[</span><span class="CodeBlock--token-plain">AU</span><span class="CodeBlock--token-punctuation">]</span><span class="CodeBlock--token-plain">:.</span></div></span><span class="CodeBlock--row"><span class="CodeBlock--row-indicator"></span><div class="CodeBlock--row-content"><span class="CodeBlock--token-plain">State or Province Name </span><span class="CodeBlock--token-punctuation">(</span><span class="CodeBlock--token-plain">full name</span><span class="CodeBlock--token-punctuation">)</span><span class="CodeBlock--token-plain"> </span><span class="CodeBlock--token-punctuation">[</span><span class="CodeBlock--token-plain">Some-State</span><span class="CodeBlock--token-punctuation">]</span><span class="CodeBlock--token-plain">:.</span></div></span><span class="CodeBlock--row"><span class="CodeBlock--row-indicator"></span><div class="CodeBlock--row-content"><span class="CodeBlock--token-plain">Locality Name </span><span class="CodeBlock--token-punctuation">(</span><span class="CodeBlock--token-plain">eg, city</span><span class="CodeBlock--token-punctuation">)</span><span class="CodeBlock--token-plain"> </span><span class="CodeBlock--token-punctuation">[</span><span class="CodeBlock--token-punctuation">]</span><span class="CodeBlock--token-plain">:.</span></div></span><span class="CodeBlock--row"><span class="CodeBlock--row-indicator"></span><div class="CodeBlock--row-content"><span class="CodeBlock--token-plain">Organization Name </span><span class="CodeBlock--token-punctuation">(</span><span class="CodeBlock--token-plain">eg, company</span><span class="CodeBlock--token-punctuation">)</span><span class="CodeBlock--token-plain"> </span><span class="CodeBlock--token-punctuation">[</span><span class="CodeBlock--token-plain">Internet Widgits Pty Ltd</span><span class="CodeBlock--token-punctuation">]</span><span class="CodeBlock--token-plain">:.</span></div></span><span class="CodeBlock--row"><span class="CodeBlock--row-indicator"></span><div class="CodeBlock--row-content"><span class="CodeBlock--token-plain">Organizational Unit Name </span><span class="CodeBlock--token-punctuation">(</span><span class="CodeBlock--token-plain">eg, section</span><span class="CodeBlock--token-punctuation">)</span><span class="CodeBlock--token-plain"> </span><span class="CodeBlock--token-punctuation">[</span><span class="CodeBlock--token-punctuation">]</span><span class="CodeBlock--token-plain">:.</span></div></span><span class="CodeBlock--row"><span class="CodeBlock--row-indicator"></span><div class="CodeBlock--row-content"><span class="CodeBlock--token-plain">Common Name </span><span class="CodeBlock--token-punctuation">(</span><span class="CodeBlock--token-plain">e.g. server FQDN or YOUR name</span><span class="CodeBlock--token-punctuation">)</span><span class="CodeBlock--token-plain"> </span><span class="CodeBlock--token-punctuation">[</span><span class="CodeBlock--token-punctuation">]</span><span class="CodeBlock--token-plain">:JumpCloud SAML IdP</span></div></span><span class="CodeBlock--row"><span class="CodeBlock--row-indicator"></span><div class="CodeBlock--row-content"><span class="CodeBlock--token-plain">Email Address </span><span class="CodeBlock--token-punctuation">[</span><span class="CodeBlock--token-punctuation">]</span><span class="CodeBlock--token-plain">:</span></div></span></span></span></code></pre>{{</raw>}}

1.  In JumpCloud, select **Applications** in the left-side menu.

    ![JumpCloud Add Application](/cloudflare-one/static/documentation/identity/jumpcloud/jumpcloud-saml-1.png)

1.  Click the + icon at the top-left of the screen to add an application.

1.  Choose the **SAML** option in **Application Types**.

1.  Enter an application name in **Display Label**.

1.  Enter an IdP entity in the **IDP IDENTITY ID** field.The IdP entity can be anything, but must be unique. We suggest you reference something easily identified, such as your Cloudflare team domain, for example `https://<your-team-name>.cloudflareaccess.com/`.

1.  At the prompt, enter the IdP private key and IdP certificate you previously generated.

1.  Set both the **SP entity ID** and **ACS URL** to the following callback URL, where `<your-team-name>` is your Cloudflare [team name](/cloudflare-one/glossary/#team-name):
{{<raw>}}<pre class="CodeBlock CodeBlock-with-rows CodeBlock-scrolls-horizontally CodeBlock-is-light-in-light-theme CodeBlock--language-txt" language="txt"><code><span class="CodeBlock--rows"><span class="CodeBlock--rows-content"><span class="CodeBlock--row"><span class="CodeBlock--row-indicator"></span><div class="CodeBlock--row-content"><span class="CodeBlock--token-plain">https://&ltyour-team-name&gt.cloudflareaccess.com/cdn-cgi/access/callback</span></div></span></span></span></code></pre>{{</raw>}}

1.  Under **SAML SUBJECT NAMEID**, choose **email**.

1.  Set the **SAML SUBJECT NAMEID FORMAT** to:
{{<raw>}}<pre class="CodeBlock CodeBlock-with-rows CodeBlock-scrolls-horizontally CodeBlock-is-light-in-light-theme CodeBlock--language-txt" language="txt"><code><span class="CodeBlock--rows"><span class="CodeBlock--rows-content"><span class="CodeBlock--row"><span class="CodeBlock--row-indicator"></span><div class="CodeBlock--row-content"><span class="CodeBlock--token-plain">urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress</span></div></span></span></span></code></pre>{{</raw>}}

1.  Under USER ATTRIBUTES enter `email` for the name and `email` for the value.

1.  Leave other settings at default.

1.  Click **save**.

    Remember to assign this application to users or groups.

    ![JumpCloud Application dialog](/cloudflare-one/static/documentation/identity/jumpcloud/jumpcloud-saml-2.png)

1.  On the Zero Trust dashboard, navigate to **Settings > Authentication**.

1.  Under **Login methods**, click **Add new**.

1.  Select **SAML**.

1.  Input a **Name**, a **Single Sign on URL**, **IdP Entity ID or Issuer URL**, and **Signing Certificate**.

1.  Click **Save**.

To test that your connection is working, navigate to **Authentication > Login methods** and click **Test** next to the login method you want to test.

## Example API configuration
{{<raw>}}<pre class="CodeBlock CodeBlock-with-rows CodeBlock-scrolls-horizontally CodeBlock-is-light-in-light-theme CodeBlock--language-json" language="json"><code><span class="CodeBlock--rows"><span class="CodeBlock--rows-content"><span class="CodeBlock--row"><span class="CodeBlock--row-indicator"></span><div class="CodeBlock--row-content"><span class="CodeBlock--token-punctuation">{</span></div></span><span class="CodeBlock--row"><span class="CodeBlock--row-indicator"></span><div class="CodeBlock--row-content"><span class="CodeBlock--token-plain">  </span><span class="CodeBlock--token-property">&quot;config&quot;</span><span class="CodeBlock--token-operator">:</span><span class="CodeBlock--token-plain"> </span><span class="CodeBlock--token-punctuation">{</span></div></span><span class="CodeBlock--row"><span class="CodeBlock--row-indicator"></span><div class="CodeBlock--row-content"><span class="CodeBlock--token-plain">    </span><span class="CodeBlock--token-property">&quot;issuer_url&quot;</span><span class="CodeBlock--token-operator">:</span><span class="CodeBlock--token-plain"> </span><span class="CodeBlock--token-string">&quot;jumpcloud&quot;</span><span class="CodeBlock--token-punctuation">,</span></div></span><span class="CodeBlock--row"><span class="CodeBlock--row-indicator"></span><div class="CodeBlock--row-content"><span class="CodeBlock--token-plain">    </span><span class="CodeBlock--token-property">&quot;sso_target_url&quot;</span><span class="CodeBlock--token-operator">:</span><span class="CodeBlock--token-plain"> </span><span class="CodeBlock--token-string">&quot;https://sso.myexample.jumpcloud.com/saml2/cloudflareaccess&quot;</span><span class="CodeBlock--token-punctuation">,</span></div></span><span class="CodeBlock--row"><span class="CodeBlock--row-indicator"></span><div class="CodeBlock--row-content"><span class="CodeBlock--token-plain">    </span><span class="CodeBlock--token-property">&quot;attributes&quot;</span><span class="CodeBlock--token-operator">:</span><span class="CodeBlock--token-plain"> </span><span class="CodeBlock--token-punctuation">[</span><span class="CodeBlock--token-string">&quot;email&quot;</span><span class="CodeBlock--token-punctuation">,</span><span class="CodeBlock--token-plain"> </span><span class="CodeBlock--token-string">&quot;name&quot;</span><span class="CodeBlock--token-punctuation">,</span><span class="CodeBlock--token-plain"> </span><span class="CodeBlock--token-string">&quot;username&quot;</span><span class="CodeBlock--token-punctuation">]</span><span class="CodeBlock--token-punctuation">,</span></div></span><span class="CodeBlock--row"><span class="CodeBlock--row-indicator"></span><div class="CodeBlock--row-content"><span class="CodeBlock--token-plain">    </span><span class="CodeBlock--token-property">&quot;email_attribute_name&quot;</span><span class="CodeBlock--token-operator">:</span><span class="CodeBlock--token-plain"> </span><span class="CodeBlock--token-string">&quot;&quot;</span><span class="CodeBlock--token-punctuation">,</span></div></span><span class="CodeBlock--row"><span class="CodeBlock--row-indicator"></span><div class="CodeBlock--row-content"><span class="CodeBlock--token-plain">    </span><span class="CodeBlock--token-property">&quot;sign_request&quot;</span><span class="CodeBlock--token-operator">:</span><span class="CodeBlock--token-plain"> </span><span class="CodeBlock--token-boolean">false</span><span class="CodeBlock--token-punctuation">,</span></div></span><span class="CodeBlock--row"><span class="CodeBlock--row-indicator"></span><div class="CodeBlock--row-content"><span class="CodeBlock--token-plain">    </span><span class="CodeBlock--token-property">&quot;idp_public_cert&quot;</span><span class="CodeBlock--token-operator">:</span><span class="CodeBlock--token-plain"> </span><span class="CodeBlock--token-string">&quot;MIIDpDCCAoygAwIBAgIGAV2ka+55MA0GCSqGSIb3DQEBCwUAMIGSMQswCQYDVQQGEwJVUzETMBEG\nA1UEC.....GF/Q2/MHadws97cZg\nuTnQyuOqPuHbnN83d/2l1NSYKCbHt24o&quot;</span></div></span><span class="CodeBlock--row"><span class="CodeBlock--row-indicator"></span><div class="CodeBlock--row-content"><span class="CodeBlock--token-plain">  </span><span class="CodeBlock--token-punctuation">}</span><span class="CodeBlock--token-punctuation">,</span></div></span><span class="CodeBlock--row"><span class="CodeBlock--row-indicator"></span><div class="CodeBlock--row-content"><span class="CodeBlock--token-plain">  </span><span class="CodeBlock--token-property">&quot;type&quot;</span><span class="CodeBlock--token-operator">:</span><span class="CodeBlock--token-plain"> </span><span class="CodeBlock--token-string">&quot;saml&quot;</span><span class="CodeBlock--token-punctuation">,</span></div></span><span class="CodeBlock--row"><span class="CodeBlock--row-indicator"></span><div class="CodeBlock--row-content"><span class="CodeBlock--token-plain">  </span><span class="CodeBlock--token-property">&quot;name&quot;</span><span class="CodeBlock--token-operator">:</span><span class="CodeBlock--token-plain"> </span><span class="CodeBlock--token-string">&quot;jumpcloud saml example&quot;</span><span class="CodeBlock--token-plain">
</span></div></span><span class="CodeBlock--row"><span class="CodeBlock--row-indicator"></span><div class="CodeBlock--row-content"><span class="CodeBlock--token-punctuation">}</span><span class="CodeBlock--token-plain">
</span></div></span></span></span></code></pre>{{</raw>}}
