---
_build:
  publishResources: false
  render: never
  list: never
---
{{<raw>}}<pre class="CodeBlock CodeBlock-with-rows CodeBlock-scrolls-horizontally CodeBlock-is-light-in-light-theme CodeBlock--language-bash" language="bash"><code><span class="CodeBlock--rows"><span class="CodeBlock--rows-content"><span class="CodeBlock--row"><span class="CodeBlock--row-indicator"></span><div class="CodeBlock--row-content"><span class="CodeBlock--token-plain">$ </span><span class="CodeBlock--token-function">cat</span><span class="CodeBlock--token-plain"> app_example_com.pem</span></div></span><span class="CodeBlock--row"><span class="CodeBlock--row-indicator"></span><div class="CodeBlock--row-content"><span class="CodeBlock--token-plain">-----BEGIN CERTIFICATE-----</span></div></span><span class="CodeBlock--row"><span class="CodeBlock--row-indicator"></span><div class="CodeBlock--row-content"><span class="CodeBlock--token-plain">MIIFJDCCBAygAwIBAgIQD0ifmj/Yi5NP/2gdUySbfzANBgkqhkiG9w0BAQsFADBN</span></div></span><span class="CodeBlock--row"><span class="CodeBlock--row-indicator"></span><div class="CodeBlock--row-content"><span class="CodeBlock--token-plain">MQswCQYDVQQGEwJVUzEVMBMGA1UEChMMRGlnaUNlcnQgSW5jMScwJQYDVQQDEx5E</span></div></span><span class="CodeBlock--row"><span class="CodeBlock--row-indicator"></span><div class="CodeBlock--row-content"><span class="CodeBlock--token-plain"></span><span class="CodeBlock--token-punctuation">..</span><span class="CodeBlock--token-plain">.</span></div></span><span class="CodeBlock--row"><span class="CodeBlock--row-indicator"></span><div class="CodeBlock--row-content"><span class="CodeBlock--token-plain">SzSHfXp5lnu/3V08I72q1QNzOCgY1XeL4GKVcj4or6cT6tX6oJH7ePPmfrBfqI/O</span></div></span><span class="CodeBlock--row"><span class="CodeBlock--row-indicator"></span><div class="CodeBlock--row-content"><span class="CodeBlock--token-plain">OeH8gMJ+FuwtXYEPa4hBf38M5eU5xWG7</span></div></span><span class="CodeBlock--row"><span class="CodeBlock--row-indicator"></span><div class="CodeBlock--row-content"><span class="CodeBlock--token-plain">-----END CERTIFICATE-----</span></div></span><span class="CodeBlock--row"><span class="CodeBlock--row-indicator"></span><div class="CodeBlock--row-content"><span class="CodeBlock--token-plain">
</span></div></span><span class="CodeBlock--row"><span class="CodeBlock--row-indicator"></span><div class="CodeBlock--row-content"><span class="CodeBlock--token-plain">$ </span><span class="CodeBlock--token-assign-left CodeBlock--token-variable">MYCERT</span><span class="CodeBlock--token-operator">=</span><span class="CodeBlock--token-string">&quot;</span><span class="CodeBlock--token-string CodeBlock--token-variable CodeBlock--token-variable">$(</span><span class="CodeBlock--token-string CodeBlock--token-variable CodeBlock--token-function">cat</span><span class="CodeBlock--token-string CodeBlock--token-variable"> app_example_com.pem</span><span class="CodeBlock--token-string CodeBlock--token-variable CodeBlock--token-operator">|</span><span class="CodeBlock--token-string CodeBlock--token-variable">perl -pe </span><span class="CodeBlock--token-string CodeBlock--token-variable CodeBlock--token-string">'s/\r?\n/\\n/'</span><span class="CodeBlock--token-string CodeBlock--token-variable CodeBlock--token-operator">|</span><span class="CodeBlock--token-string CodeBlock--token-variable CodeBlock--token-function">sed</span><span class="CodeBlock--token-string CodeBlock--token-variable"> -e </span><span class="CodeBlock--token-string CodeBlock--token-variable CodeBlock--token-string">'s/..$//'</span><span class="CodeBlock--token-string CodeBlock--token-variable CodeBlock--token-variable">)</span><span class="CodeBlock--token-string">&quot;</span></div></span><span class="CodeBlock--row"><span class="CodeBlock--row-indicator"></span><div class="CodeBlock--row-content"><span class="CodeBlock--token-plain">$ </span><span class="CodeBlock--token-assign-left CodeBlock--token-variable">MYKEY</span><span class="CodeBlock--token-operator">=</span><span class="CodeBlock--token-string">&quot;</span><span class="CodeBlock--token-string CodeBlock--token-variable CodeBlock--token-variable">$(</span><span class="CodeBlock--token-string CodeBlock--token-variable CodeBlock--token-function">cat</span><span class="CodeBlock--token-string CodeBlock--token-variable"> app_example_com.key</span><span class="CodeBlock--token-string CodeBlock--token-variable CodeBlock--token-operator">|</span><span class="CodeBlock--token-string CodeBlock--token-variable">perl -pe </span><span class="CodeBlock--token-string CodeBlock--token-variable CodeBlock--token-string">'s/\r?\n/\\n/'</span><span class="CodeBlock--token-string CodeBlock--token-variable CodeBlock--token-operator">|</span><span class="CodeBlock--token-string CodeBlock--token-variable CodeBlock--token-function">sed</span><span class="CodeBlock--token-string CodeBlock--token-variable"> -e</span><span class="CodeBlock--token-string CodeBlock--token-variable CodeBlock--token-string">'s/..$//'</span><span class="CodeBlock--token-string CodeBlock--token-variable CodeBlock--token-variable">)</span><span class="CodeBlock--token-string">&quot;</span><span class="CodeBlock--token-plain">
</span></div></span></span></span></code></pre>{{</raw>}}

With the certificate and key saved to environment variables (using escaped newlines), build the payload:
