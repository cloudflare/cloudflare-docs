---
pcx_content_type: troubleshooting
language_tag: japanese
source: https://support.cloudflare.com/hc/ja/articles/360007553512-Workers%E3%81%AB%E3%82%88%E3%82%8BCloudflare%E5%88%86%E6%9E%90
title: WorkersによるCloudflare分析
---

# WorkersによるCloudflare分析

## WorkersによるCloudflare分析

Cloudflare Workersを使うと、150以上のCloudflareデータセンターからJavaScriptが実行できるようになります。Workersの詳細は[こちら](/workers/about/)をご覧ください！

___

## サブリクエストとは？

特定のルートで実行されるno-op Worker (オリジナルクライアントリクエストをオリジンに渡して、レスポンスをプロキシするだけでトラフィックをプロキシするWoker)を使うことで、オリジンへのリクエストは最初のクライアントからエッジリクエストへと区別され、「サブリクエスト」としてカウントされます。したがって、Workerが静的レスポンスで応答して、オリジンにヒットしない場合を除いて、アイボール→ エッジリクエスト、そしてエッジ→ オリジンリクエストはそれぞれ、「分析」において、個別にリクエストまたは帯域幅カウントに反映されます。サブリクエストは、Cloudflare**分析**アプリの**リクエスト**または**帯域幅**グラフに含まれません。

___

## ゾーン分析

ダッシュボードで、ゾーン分析の数値に訪問者トラフィックが反映されます。すなわち、（ダッシュボードの「分析」タブの下にある）ゾーン分析で示されるリクエストの数はクライアントに提供されたリクエスト数ということです。

同様に、帯域幅はクライアントに送信された帯域幅に基づいてカウントされ、ステータスコードはクライアントに返されたステータスコード を反映したものとなります（つまり、サブリクエストが500を受信したのに200で応答した場合、ステータスコードの分析結果には200と表示されます）。

___

## Worker 分析

サブリクエストトラフィック (オリジンが直面するトラフィック)の分析結果に関しては、Cloudflare**分析**アプリにアクセスし、「**Workers**」タブをクリックしてください。**Workers**タブ、Service Workersパネルの下で、カウントごとの**サブリクエスト**内訳、**帯域幅**、**ステータスコード** が表示されます。これによって、オリジンで（500番台のスパイクなど）エラーを特定してデバッグできるようになり、さらにオリジンへのトラフィックを理解するするためにキャッシュヒット率が特定できます。

___

## よくある質問：

**Workersの分析が表示されないのはなぜですか？**

-   現在Wokersを利用していない（どのルートにもフィルターにもWorkersを配置していない）場合は、ご覧いただける情報がありません。
-   Workersが、オリジンにfetch() を呼び出さず、静的レスポンスをクライアントに送信した場合、サブリクエストを出していないので、全てのトラフィックがゾーン分析に表示されます。

**2018-08-16 22:00 UTC以前にサブリクエストが表示されなかった理由は？**

その日付以前にサブリクエスト情報が取得できなくても、クライアントが直面するトラフィックに関する情報は「分析」タブで入手できます。Enterpriseプランをご利用であれば、当社の[Cloudflareログ](https://support.cloudflare.com/hc/en-us/articles/216672448-Enterprise-Log-Share-REST-API)からそれ以前の日のデータを取得できます。

**請求額に影響がありますか？**

いいえ、Workersのご請求は、Workerを通したリクエストに基づきます。

**キャッシュヒット率が高いのですが、どうしてですか？**

Wokerが提供するリクエストは、キャッシュ済みと表示されます。サブリクエストでの正確なキャッシュヒット率については、「**Workers**」分析タブ下の**分析**アプリにある**サブリクエスト**グラフを参照してください。
